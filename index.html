<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>å‘½è¿ä¹‹è½® - é˜²å¡æ­»ç¨³å®šç‰ˆ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { 
            margin: 0; overflow: hidden; 
            /* èƒŒæ™¯è®¾ç½® */
            background-image: url('./bg.png'); 
            background-size: cover; background-position: center; 
            background-color: rgba(0, 0, 0, 0.6); background-blend-mode: multiply;
            font-family: 'Cinzel', serif; color: #d4af37; 
        }

        #camera-container {
            position: absolute; top: 20px; left: 20px;
            width: 160px; height: 120px; z-index: 10;
            border: 3px solid #d4af37; box-shadow: 0 0 15px rgba(212, 175, 55, 0.3);
            border-radius: 4px; overflow: hidden;
            transform: scaleX(-1); opacity: 0; transition: opacity 1s;
        }
        video { width: 100%; height: 100%; object-fit: cover; filter: sepia(0.5) contrast(1.2); }

        #header { position: absolute; top: 20px; width: 100%; text-align: center; pointer-events: none; z-index: 5; }
        h1 { margin: 0; font-size: 32px; letter-spacing: 5px; text-shadow: 0 0 20px #d4af37; }

        /* æ ‡ç­¾å¸ƒå±€ */
        #labels-container {
            position: absolute; bottom: 180px; width: 100%;
            display: flex; justify-content: center; gap: 10px;
            pointer-events: none; z-index: 5;
            flex-wrap: wrap;
            padding: 0 20px;
            box-sizing: border-box;
        }
        #labels-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            padding: 0 20px;
        }
        
        .card-label-box {
            flex: 1 1 calc(25% - 30px); max-width: 220px; min-width: 150px;
            text-align: center; opacity: 0; transition: opacity 1s, transform 0.5s;
            margin: 0 !important;
        }
        
        .card-label-box:hover {
            transform: translateY(-2px);
        }
        
        /* å½“ç‰Œé˜µåŒ…å«5å¼ æˆ–æ›´å¤šç‰Œæ—¶çš„è°ƒæ•´ */
        #labels-container:has(.card-label-box:nth-child(5)) .card-label-box {
            flex: 1 1 calc(33.333% - 30px);
        }
        
        /* å½“ç‰Œé˜µåŒ…å«8å¼ æˆ–æ›´å¤šç‰Œæ—¶çš„è°ƒæ•´ */
        #labels-container:has(.card-label-box:nth-child(8)) .card-label-box {
            flex: 1 1 calc(20% - 30px);
        }
        
        /* å½“ç‰Œé˜µåŒ…å«6å¼ æˆ–æ›´å¤šç‰Œæ—¶çš„è°ƒæ•´ */
        #labels-container:has(.card-label-box:nth-child(6)) {
            align-items: flex-start;
        }
        .card-name {
            font-size: 14px; color: #fff; text-shadow: 0 0 8px #d4af37;
            background: rgba(0,0,0,0.8); padding: 12px; border-radius: 8px;
            border: 1px solid rgba(212, 175, 55, 0.4);
            display: block; width: 100%; box-sizing: border-box; line-height: 1.4;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
        .slot-title { 
            display: block; font-size: 12px; color: #d4af37; 
            font-weight: bold; margin-bottom: 6px; text-transform: uppercase;
            letter-spacing: 1px;
        }
        .card-content {
            display: block; font-size: 13px; color: #f0f0f0;
            line-height: 1.3;
        }

        #ui-layer { position: absolute; bottom: 30px; width: 100%; text-align: center; pointer-events: auto; z-index: 5; opacity: 0; transition: opacity 1s; }
        #status { font-size: 20px; letter-spacing: 2px; background: rgba(0,0,0,0.8); padding: 15px 40px; border: 1px solid #d4af37; display: inline-block; border-radius: 30px; box-shadow: 0 0 30px rgba(212, 175, 55, 0.2); }
        #progress-bar { width: 0%; height: 4px; background: #d4af37; margin-top: 10px; border-radius: 2px; transition: width 0.1s; display: none; }

        /* é…ç½®é¢æ¿ */
        #settings-panel {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            z-index: 200; background: rgba(0,0,0,0.95); border: 2px solid #d4af37;
            padding: 30px; border-radius: 8px; min-width: 350px; max-width: 450px;
            max-height: 85vh; overflow-y: auto; display: none;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
        }
        #settings-panel.show { display: block; }
        .settings-group {
            margin-bottom: 15px;
        }
        .settings-label {
            color: #d4af37; font-weight: bold; font-size: 14px;
            display: block; margin-bottom: 5px;
        }
        .settings-input {
            width: 100%; box-sizing: border-box;
            background: rgba(255,255,255,0.1); border: 1px solid #d4af37;
            color: #d4af37; padding: 8px; border-radius: 4px;
            font-family: monospace; font-size: 12px;
        }
        .settings-input::placeholder { color: rgba(212,175,55,0.5); }
        .settings-btn {
            width: 100%; padding: 10px; margin-top: 8px;
            background: #d4af37; color: #000; border: none;
            border-radius: 4px; cursor: pointer; font-weight: bold;
            font-size: 14px; transition: all 0.3s;
        }
        .settings-btn:hover { background: #fff; transform: scale(1.02); }
        .settings-toggle {
            width: 40px; height: 24px; position: relative;
            background: rgba(255,255,255,0.1); border: 1px solid #d4af37;
            border-radius: 12px; cursor: pointer; display: inline-block;
            margin-left: 10px; vertical-align: middle;
        }
        .settings-toggle.active { background: #d4af37; }
        .settings-toggle::after {
            content: ''; position: absolute; width: 20px; height: 20px;
            background: #000; border-radius: 10px; top: 2px; left: 2px;
            transition: left 0.3s;
        }
        .settings-toggle.active::after { left: 18px; }
        .settings-title {
            font-size: 20px; color: #d4af37; border-bottom: 1px solid #d4af37;
            padding-bottom: 15px; margin-bottom: 20px; text-align: center;
            font-weight: bold;
        }

        /* è§£ç‰Œé¢æ¿ */
        #reading-panel {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 150;
            display: none; flex-direction: column; justify-content: center;
            align-items: center; overflow-y: auto; padding: 40px;
        }
        #reading-panel.show { display: flex; }
        .reading-content {
            background: rgba(0,0,0,0.8); border: 2px solid #d4af37;
            border-radius: 8px; padding: 30px; max-width: 800px;
            text-align: center; color: #d4af37;
        }
        .reading-card-name {
            font-size: 28px; font-weight: bold; margin-bottom: 20px;
            text-shadow: 0 0 10px #d4af37;
        }
        .reading-text {
            font-size: 16px; line-height: 1.8; color: #ccc;
            text-align: left; max-height: 400px; overflow-y: auto;
            margin-bottom: 20px;
        }
        .reading-text::-webkit-scrollbar {
            width: 6px;
        }
        .reading-text::-webkit-scrollbar-track {
            background: rgba(212,175,55,0.1);
        }
        .reading-text::-webkit-scrollbar-thumb {
            background: #d4af37;
            border-radius: 3px;
        }
        .reading-controls {
            display: flex; gap: 10px; justify-content: center;
        }
        .reading-btn {
            padding: 10px 30px; background: #d4af37; color: #000;
            border: none; border-radius: 4px; cursor: pointer;
            font-weight: bold; font-size: 14px;
        }
        .reading-btn:hover { background: #fff; }
        .reading-loading {
            font-size: 18px; color: #d4af37; margin: 20px 0;
        }
        .reading-error {
            color: #ff6b6b; margin: 20px 0; font-size: 14px;
        }
        .reading-header {
            margin-bottom: 20px;
        }
        .reading-title {
            font-size: 24px; font-weight: bold; margin-bottom: 15px;
            text-shadow: 0 0 10px #d4af37;
        }
        .reading-progress-container {
            margin-bottom: 20px;
        }
        .reading-progress {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        .reading-progress-bar {
            display: block;
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #d4af37, #ffd700);
            border-radius: 4px;
            transition: width 0.5s ease-in-out;
        }
        .reading-progress-text {
            font-size: 14px;
            color: #d4af37;
        }
        .reading-cards-list {
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            max-height: 150px;
            overflow-y: auto;
        }
        .reading-cards-list h4 {
            color: #d4af37;
            margin-bottom: 10px;
            font-size: 16px;
        }
        .reading-cards-list ul {
            list-style: none;
            padding: 0;
            margin: 0;
            text-align: left;
        }
        .reading-cards-list li {
            color: #fff;
            font-size: 14px;
            margin-bottom: 5px;
            padding: 5px 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 4px;
        }
        .reading-cards-list::-webkit-scrollbar {
            width: 6px;
        }
        .reading-cards-list::-webkit-scrollbar-track {
            background: rgba(212,175,55,0.1);
        }
        .reading-cards-list::-webkit-scrollbar-thumb {
            background: #d4af37;
            border-radius: 3px;
        }

        /* é€‰æ‹©è§£ç‰Œæ–¹å¼é¢æ¿ */
        #reading-choice-panel {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 150;
            display: none; flex-direction: column; justify-content: center;
            align-items: center; padding: 40px;
        }
        #reading-choice-panel.show { display: flex; }
        .choice-content {
            background: rgba(0,0,0,0.8); border: 2px solid #d4af37;
            border-radius: 8px; padding: 40px; max-width: 500px;
            text-align: center; color: #d4af37;
        }
        .choice-title {
            font-size: 32px; font-weight: bold; margin-bottom: 30px;
            text-shadow: 0 0 10px #d4af37;
        }
        .choice-subtitle {
            font-size: 16px; color: #ccc; margin-bottom: 40px;
        }
        .choice-buttons {
            display: flex; flex-direction: column; gap: 15px;
        }
        .choice-btn {
            padding: 20px; background: rgba(212,175,55,0.1); color: #d4af37;
            border: 2px solid #d4af37; border-radius: 8px; cursor: pointer;
            font-weight: bold; font-size: 18px; transition: all 0.3s;
            font-family: 'Cinzel', serif;
        }
        .choice-btn:hover {
            background: #d4af37; color: #000; transform: scale(1.05);
            box-shadow: 0 0 20px #d4af37;
        }
        .choice-btn-icon {
            font-size: 24px; margin-right: 10px;
        }
        .choice-btn-text {
            display: block; font-size: 14px; color: rgba(255,255,255,0.7);
            margin-top: 5px;
        }

        /* å¯åŠ¨ç•Œé¢ */
        #start-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 100; display: flex; flex-direction: column; justify-content: center; align-items: center; cursor: pointer; }
        #start-btn { 
            padding: 20px 60px; border: 2px solid #d4af37; color: #d4af37; 
            font-family: 'Cinzel', serif; font-size: 24px; background: transparent; 
            cursor: pointer; opacity: 1; transition: all 0.3s; 
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.2); 
            margin-top: 20px;
        }
        #start-btn:hover { background: #d4af37; color: #000; box-shadow: 0 0 40px rgba(212, 175, 55, 0.6); }
        #loading-text { font-size: 18px; color: #ccc; margin-bottom: 10px; }

        /* å†¥æƒ³å‡†å¤‡ç¯èŠ‚ */
        #meditation-panel {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, #1a1a2e, #16213e); z-index: 250;
            display: none; flex-direction: column; justify-content: center; align-items: center;
        }
        #meditation-panel.show { display: flex; }
        .meditation-content {
            background: rgba(0,0,0,0.8); border: 2px solid #d4af37;
            padding: 40px; border-radius: 8px; min-width: 400px; max-width: 600px;
            text-align: center;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
        }
        .meditation-title {
            font-size: 28px; color: #d4af37; margin-bottom: 10px;
            text-shadow: 0 0 10px #d4af37;
        }
        .meditation-subtitle {
            font-size: 16px; color: #ccc; margin-bottom: 30px;
        }
        .meditation-text {
            font-size: 18px; color: #ddd; line-height: 1.8; margin-bottom: 40px;
        }
        .meditation-text p {
            margin: 15px 0;
        }
        .meditation-timer {
            margin-bottom: 40px;
        }
        .meditation-progress {
            width: 100%; height: 8px; background: rgba(212,175,55,0.2);
            border-radius: 4px; overflow: hidden; margin-bottom: 15px;
        }
        .meditation-progress::after {
            content: ''; display: block; width: 0%; height: 100%;
            background: #d4af37; transition: width 1s linear;
        }
        .meditation-progress.active::after {
            width: 100%;
        }
        .meditation-countdown {
            font-size: 32px; color: #d4af37; font-weight: bold;
        }
        .meditation-controls {
            display: flex; gap: 15px; justify-content: center;
        }
        .meditation-btn {
            padding: 15px 30px; background: rgba(212,175,55,0.1);
            color: #d4af37; border: 2px solid #d4af37; border-radius: 8px;
            cursor: pointer; font-weight: bold; font-size: 16px;
            transition: all 0.3s;
            font-family: 'Cinzel', serif;
        }
        .meditation-btn:hover {
            background: #d4af37; color: #000;
            transform: scale(1.05);
            box-shadow: 0 0 20px #d4af37;
        }

        /* ä¸ªæ€§åŒ–ç¥­å›è®¾ç½® */
        #altar-panel {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, #1a1a2e, #16213e); z-index: 250;
            display: none; flex-direction: column; justify-content: center; align-items: center;
        }
        #altar-panel.show { display: flex; }
        .altar-content {
            background: rgba(0,0,0,0.8); border: 2px solid #d4af37;
            padding: 40px; border-radius: 8px; min-width: 500px; max-width: 800px;
            text-align: center;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
        }
        .altar-title {
            font-size: 28px; color: #d4af37; margin-bottom: 10px;
            text-shadow: 0 0 10px #d4af37;
        }
        .altar-subtitle {
            font-size: 16px; color: #ccc; margin-bottom: 30px;
        }
        .altar-themes {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;
            margin-bottom: 40px;
        }
        .altar-theme {
            cursor: pointer; transition: all 0.3s;
            border: 2px solid transparent;
            border-radius: 8px; padding: 10px;
        }
        .altar-theme:hover {
            transform: scale(1.05);
            border-color: #d4af37;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
        }
        .altar-theme.selected {
            border-color: #d4af37;
            background: rgba(212,175,55,0.1);
        }
        .altar-theme-preview {
            width: 100%; height: 150px; background-size: cover;
            background-position: center; border-radius: 8px;
            margin-bottom: 10px;
        }
        .altar-theme-name {
            font-size: 16px; color: #d4af37; font-weight: bold;
        }
        .altar-controls {
            display: flex; justify-content: center;
        }
        .altar-btn {
            padding: 15px 40px; background: rgba(212,175,55,0.1);
            color: #d4af37; border: 2px solid #d4af37; border-radius: 8px;
            cursor: pointer; font-weight: bold; font-size: 16px;
            transition: all 0.3s;
            font-family: 'Cinzel', serif;
        }
        .altar-btn:hover {
            background: #d4af37; color: #000;
            transform: scale(1.05);
            box-shadow: 0 0 20px #d4af37;
        }

        /* ç‰Œé˜µé€‰æ‹©é¢æ¿ */
        #spread-panel {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, #1a1a2e, #16213e); z-index: 250;
            display: none; flex-direction: column; justify-content: center; align-items: center;
        }
        #spread-panel.show { display: flex; }
        .spread-content {
            background: rgba(0,0,0,0.8); border: 2px solid #d4af37;
            padding: 40px; border-radius: 8px; min-width: 500px; max-width: 600px;
            text-align: center;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
        }
        .spread-title {
            font-size: 28px; color: #d4af37; margin-bottom: 10px;
            text-shadow: 0 0 10px #d4af37;
        }
        .spread-subtitle {
            font-size: 16px; color: #ccc; margin-bottom: 30px;
        }
        .spread-options {
            display: flex; flex-direction: column; gap: 15px;
            margin-bottom: 40px;
        }
        .spread-option {
            padding: 20px; background: rgba(212,175,55,0.1);
            border: 2px solid #d4af37; border-radius: 8px;
            cursor: pointer; transition: all 0.3s;
            text-align: left;
        }
        .spread-option:hover {
            background: rgba(212,175,55,0.2);
            transform: scale(1.02);
        }
        .spread-option.selected {
            background: #d4af37;
            color: #000;
        }
        .spread-option-name {
            font-size: 18px; font-weight: bold; margin-bottom: 5px;
        }
        .spread-option-description {
            font-size: 14px; color: #ccc;
        }
        .spread-option.selected .spread-option-description {
            color: rgba(0,0,0,0.7);
        }
        .spread-controls {
            display: flex; justify-content: center;
        }
        .spread-btn {
            padding: 15px 40px; background: rgba(212,175,55,0.1);
            color: #d4af37; border: 2px solid #d4af37; border-radius: 8px;
            cursor: pointer; font-weight: bold; font-size: 16px;
            transition: all 0.3s;
            font-family: 'Cinzel', serif;
        }
        .spread-btn:hover {
            background: #d4af37; color: #000;
            transform: scale(1.05);
            box-shadow: 0 0 20px #d4af37;
        }

        /* å¡”ç½—æ—¥è®°é¢æ¿ */
        #diary-panel {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 250;
            display: none; flex-direction: column; justify-content: center; align-items: center;
            overflow-y: auto;
        }
        #diary-panel.show {
            display: flex;
        }
        .diary-content {
            background: rgba(0,0,0,0.8); border: 2px solid #d4af37;
            padding: 40px; border-radius: 8px; min-width: 500px; max-width: 800px;
            text-align: center;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.3);
            margin: 40px 0;
        }
        .diary-title {
            font-size: 28px; color: #d4af37; margin-bottom: 10px;
            text-shadow: 0 0 10px #d4af37;
        }
        .diary-subtitle {
            font-size: 16px; color: #ccc; margin-bottom: 30px;
        }
        .diary-entries {
            max-height: 400px; overflow-y: auto;
            margin-bottom: 40px;
            text-align: left;
        }
        .diary-entry {
            padding: 20px; background: rgba(212,175,55,0.1);
            border: 1px solid #d4af37;
            border-radius: 8px; margin-bottom: 15px;
        }
        .diary-entry-date {
            font-size: 14px; color: #d4af37; margin-bottom: 10px;
        }
        .diary-entry-cards {
            font-size: 14px; color: #ccc; margin-bottom: 10px;
        }
        .diary-entry-preview {
            font-size: 14px; color: #ddd; line-height: 1.6;
            max-height: 100px; overflow: hidden;
            text-overflow: ellipsis;
        }
        .diary-controls {
            display: flex; gap: 15px; justify-content: center;
        }
        .diary-btn {
            padding: 12px 30px; background: rgba(212,175,55,0.1);
            color: #d4af37; border: 2px solid #d4af37; border-radius: 8px;
            cursor: pointer; font-weight: bold; font-size: 14px;
            transition: all 0.3s;
            font-family: 'Cinzel', serif;
        }
        .diary-btn:hover {
            background: #d4af37; color: #000;
            transform: scale(1.05);
            box-shadow: 0 0 20px #d4af37;
        }
    </style>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tween.js/18.6.4/tween.umd.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
</head>
<body>

    <div id="start-overlay">
        <h1 style="margin-bottom: 20px;">THE FATE TAROT</h1>
        <div id="loading-text">æ­£åœ¨è¿æ¥çµæ€§ç½‘ç»œ...</div>
        <div style="width: 200px; height: 2px; background: #333; border-radius: 2px; overflow: hidden;">
            <div id="loading-bar" style="width: 0%; height: 100%; background: #d4af37; transition: width 0.3s;"></div>
        </div>
        <button id="start-btn" style="display: none;">è¿›å…¥ä»ªå¼</button>
        <p style="color: #666; margin-top: 20px; font-size: 14px;">å¦‚æœåŠ è½½è¿‡æ…¢ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨ä½¿ç”¨æ›¿è¡¥ç‰Œé¢</p>
    </div>

    <div id="header"><h1>TAROT OF FATE</h1></div>
    <div id="camera-container"><video id="input_video"></video></div>

    <div id="labels-container">
        <!-- æ ‡ç­¾æ¡†å°†æ ¹æ®ç‰Œé˜µåŠ¨æ€ç”Ÿæˆ -->
    </div>

    <div id="ui-layer">
        <div id="status">å‡†å¤‡å°±ç»ª...</div>
        <div style="width: 300px; margin: 0 auto;"><div id="progress-bar"></div></div>
        
        <!-- æ‰‹åŠ¨æ§åˆ¶æŒ‰é’® -->
        <div id="manual-controls" style="position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%); display: flex; gap: 10px; z-index: 1000;">
            <button onclick="startShuffling()" style="padding: 10px 20px; background: #d4af37; color: #333; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">å¼€å§‹æ´—ç‰Œ</button>
            <button onclick="spreadCards()" style="padding: 10px 20px; background: #d4af37; color: #333; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">é“ºå¼€ç‰Œé˜µ</button>
            <button onclick="pickCard()" style="padding: 10px 20px; background: #d4af37; color: #333; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">æŠ½å–å¡ç‰Œ</button>
        </div>
    </div>

    <!-- è®¾ç½®é¢æ¿ -->
    <div id="settings-panel">
        <div class="settings-title">âš™ï¸ AI è§£ç‰Œé…ç½®</div>
        
        <div class="settings-group">
            <label class="settings-label">å¯ç”¨ AI è§£ç‰Œ</label>
            <div class="settings-toggle" id="ai-toggle"></div>
        </div>

        <div class="settings-group">
            <label class="settings-label">API æä¾›å•†</label>
            <div style="display: flex; gap: 8px; margin-bottom: 10px;">
                <button class="api-provider-btn" data-provider="gemini" style="flex: 1; padding: 8px; background: #4f46e5; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: bold;">ğŸ”· Gemini</button>
                <button class="api-provider-btn" data-provider="openai" style="flex: 1; padding: 8px; background: #666; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: bold;">ğŸ”µ OpenAI</button>
                <button class="api-provider-btn" data-provider="deepseek" style="flex: 1; padding: 8px; background: #666; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: bold;">ğŸ”¥ DeepSeek</button>
                <button class="api-provider-btn" data-provider="custom" style="flex: 1; padding: 8px; background: #666; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: bold;">âš™ï¸ è‡ªå®šä¹‰</button>
            </div>
        </div>

        <div class="settings-group">
            <label class="settings-label">API åŸºç¡€ URL</label>
            <input type="text" class="settings-input" id="api-base-url" 
                   placeholder="å¦‚: https://api.openai.com/v1">
        </div>

        <div class="settings-group">
            <label class="settings-label">API å¯†é’¥</label>
            <input type="password" class="settings-input" id="api-key" 
                   placeholder="è¾“å…¥æ‚¨çš„ API å¯†é’¥">
        </div>

        <div class="settings-group">
            <label class="settings-label">æ¨¡å‹</label>
            <select class="settings-input" id="model-name" style="cursor: pointer;">
                <option value="">é€‰æ‹©æ¨¡å‹æˆ–è‡ªå®šä¹‰è¾“å…¥</option>
            </select>
        </div>

        <div class="settings-group">
            <label class="settings-label">è§£ç‰Œè¯­è¨€</label>
            <select class="settings-input" id="reading-language" style="cursor: pointer;">
                <option value="zh">ä¸­æ–‡</option>
                <option value="en">è‹±æ–‡</option>
                <option value="bilingual">ä¸­è‹±åŒè¯­</option>
            </select>
        </div>

        <div class="settings-group">
            <label class="settings-label">è§£ç‰Œé£æ ¼</label>
            <select class="settings-input" id="reading-style" style="cursor: pointer;">
                <option value="mystical">ç¥ç§˜å­¦æ´¾</option>
                <option value="psychological">å¿ƒç†å­¦æ´¾</option>
                <option value="practical">å®ç”¨ä¸»ä¹‰</option>
                <option value="poetic">è¯—æ„æ´¾</option>
            </select>
        </div>

        <button class="settings-btn" id="save-settings">ä¿å­˜è®¾ç½®</button>
        <button class="settings-btn" id="test-api" style="background: #666;">æµ‹è¯•è¿æ¥</button>
        <button class="settings-btn" id="start-reading" style="background: #4ade80; color: #000; margin-top: 15px;">å¼€å§‹è§£ç‰Œ</button>

        <div id="settings-message" style="margin-top: 10px; font-size: 12px; color: #4ade80; text-align: center; min-height: 20px;"></div>
    </div>

    <!-- è§£ç‰Œé¢æ¿ -->
    <div id="reading-panel">
        <div class="reading-content">
            <div class="reading-header">
                <div class="reading-title">å¡”ç½—è§£è¯»</div>
                <div class="reading-progress-container">
                <div class="reading-progress" id="reading-progress">
                    <div class="reading-progress-bar" id="reading-progress-bar"></div>
                </div>
                <div class="reading-progress-text" id="reading-progress-text">è§£è¯»ä¸­...</div>
            </div>
            </div>
            <div class="reading-cards-list" id="reading-cards-list">
                <!-- æœ¬æ¬¡æŠ½å–çš„å¡ç‰‡åˆ—è¡¨å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
            </div>
            <div id="reading-loading" class="reading-loading">âœ¨ çµèƒ½æ„Ÿåº”ä¸­...</div>
            <div id="reading-error" class="reading-error"></div>
            <div id="reading-text" class="reading-text"></div>
            <div class="reading-controls">
                <button class="reading-btn" id="deepen-reading">æ·±å…¥åˆ†æ</button>
                <button class="reading-btn" id="next-reading">å®Œæˆè§£è¯»</button>
                <button class="reading-btn" id="finish-reading">å®Œæˆä»ªå¼</button>
            </div>
        </div>
    </div>

    <!-- å†¥æƒ³å‡†å¤‡ç¯èŠ‚ -->
    <div id="meditation-panel">
        <div class="meditation-content">
            <div class="meditation-title">ğŸ§˜â€â™€ï¸ å†¥æƒ³å‡†å¤‡</div>
            <div class="meditation-subtitle">ä¸“æ³¨ä½ çš„æ„å›¾</div>
            <div class="meditation-text">
                <p>æ‰¾ä¸€ä¸ªå®‰é™çš„åœ°æ–¹ï¼Œèˆ’é€‚åœ°åä¸‹ã€‚</p>
                <p>é—­ä¸Šçœ¼ç›ï¼Œæ·±å‘¼å¸...</p>
                <p>è®©ä½ çš„æ€ç»ªå¹³é™ä¸‹æ¥ï¼Œä¸“æ³¨äºä½ çš„é—®é¢˜...</p>
            </div>
            <div class="meditation-timer">
                <div id="meditation-progress" class="meditation-progress"></div>
                <div id="meditation-countdown" class="meditation-countdown">0:30</div>
            </div>
            <div class="meditation-controls">
                <button class="meditation-btn" id="start-meditation">å¼€å§‹å†¥æƒ³</button>
                <button class="meditation-btn" id="skip-meditation">è·³è¿‡</button>
            </div>
        </div>
    </div>

    <!-- ä¸ªæ€§åŒ–ç¥­å›è®¾ç½® -->
    <div id="altar-panel">
        <div class="altar-content">
            <div class="altar-title">ğŸ›• ç¥­å›è®¾ç½®</div>
            <div class="altar-subtitle">é€‰æ‹©ä½ çš„ç¥åœ£ç©ºé—´</div>
            <div class="altar-themes">
                <div class="altar-theme" data-theme="celtic">
                    <div class="altar-theme-preview" style="background-image: url('images/celtic_altar.png');"></div>
                    <div class="altar-theme-name">å‡¯å°”ç‰¹</div>
                </div>
                <div class="altar-theme" data-theme="egyptian">
                    <div class="altar-theme-preview" style="background-image: url('images/egyptian_altar.png');"></div>
                    <div class="altar-theme-name">åŸƒåŠ</div>
                </div>
                <div class="altar-theme" data-theme="cosmic">
                    <div class="altar-theme-preview" style="background-image: url('images/cosmic_altar.png');"></div>
                    <div class="altar-theme-name">å®‡å®™</div>
                </div>
                <div class="altar-theme" data-theme="forest">
                    <div class="altar-theme-preview" style="background-image: url('images/forest_altar.png');"></div>
                    <div class="altar-theme-name">æ£®æ—</div>
                </div>
            </div>
            <div class="altar-controls">
                <button class="altar-btn" id="confirm-altar">ç¡®è®¤é€‰æ‹©</button>
            </div>
        </div>
    </div>

    <!-- ç‰Œé˜µé€‰æ‹©é¢æ¿ -->
    <div id="spread-panel">
        <div class="spread-content">
            <div class="spread-title">ğŸ”® ç‰Œé˜µé€‰æ‹©</div>
            <div class="spread-subtitle">é€‰æ‹©é€‚åˆä½ é—®é¢˜çš„ç‰Œé˜µ</div>
            <div class="spread-options">
                <div class="spread-option" data-spread="pastPresentFuture">
                    <div class="spread-option-name">è¿‡å»-ç°åœ¨-æœªæ¥</div>
                    <div class="spread-option-description">3å¼ ç‰Œï¼Œé€‚åˆä¸€èˆ¬é—®é¢˜</div>
                </div>
                <div class="spread-option" data-spread="celticCross">
                    <div class="spread-option-name">å‡¯å°”ç‰¹åå­—</div>
                    <div class="spread-option-description">10å¼ ç‰Œï¼Œé€‚åˆæ·±å…¥é—®é¢˜</div>
                </div>
                <div class="spread-option" data-spread="relationship">
                    <div class="spread-option-name">çˆ±æƒ…å…³ç³»</div>
                    <div class="spread-option-description">6å¼ ç‰Œï¼Œé€‚åˆæ„Ÿæƒ…é—®é¢˜</div>
                </div>
                <div class="spread-option" data-spread="career">
                    <div class="spread-option-name">èŒä¸šå‘å±•</div>
                    <div class="spread-option-description">5å¼ ç‰Œï¼Œé€‚åˆäº‹ä¸šé—®é¢˜</div>
                </div>
            </div>
            <div class="spread-controls">
                <button class="spread-btn" id="confirm-spread">ç¡®è®¤é€‰æ‹©</button>
            </div>
        </div>
    </div>

    <!-- å¡”ç½—æ—¥è®°é¢æ¿ -->
    <div id="diary-panel">
        <div class="diary-content">
            <div class="diary-title">ğŸ“– å¡”ç½—æ—¥è®°</div>
            <div class="diary-subtitle">æŸ¥çœ‹ä½ çš„è§£è¯»å†å²</div>
            <div id="diary-entries" class="diary-entries">
                <!-- åŠ¨æ€ç”Ÿæˆæ—¥è®°æ¡ç›® -->
            </div>
            <div class="diary-controls">
                <button class="diary-btn" id="save-to-diary">ä¿å­˜å½“å‰è§£è¯»</button>
                <button class="diary-btn" id="close-diary">å…³é—­æ—¥è®°</button>
            </div>
        </div>
    </div>

    <!-- é€‰æ‹©è§£ç‰Œæ–¹å¼é¢æ¿ -->
    <div id="reading-choice-panel">
        <div class="choice-content">
            <div class="choice-title">âœ¨ ä»ªå¼å®Œæˆ âœ¨</div>
            <div class="choice-subtitle">é€‰æ‹©è§£ç‰Œæ–¹å¼</div>
            <div class="choice-buttons">
                <button class="choice-btn" id="choice-ai">
                    <span class="choice-btn-icon">ğŸ¤–</span>
                    <span>AI æ™ºèƒ½è§£ç‰Œ</span>
                    <span class="choice-btn-text">è·å¾— AI ç”Ÿæˆçš„æ·±åº¦è§£è¯»</span>
                </button>
                <button class="choice-btn" id="choice-normal">
                    <span class="choice-btn-icon">ğŸ”®</span>
                    <span>æ™®é€šè§£ç‰Œ</span>
                    <span class="choice-btn-text">æŸ¥çœ‹ç»å…¸å¡”ç½—è§£è¯»</span>
                </button>
            </div>
        </div>
    </div>

    <!-- æ·±å…¥åˆ†ææ¨¡æ€æ¡† -->
    <div id="deepen-modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); z-index: 200; flex-direction: column; justify-content: center; align-items: center;">
        <div style="background: rgba(0, 0, 0, 0.8); border: 2px solid #d4af37; border-radius: 8px; padding: 40px; max-width: 600px; text-align: center;">
            <h2 style="color: #d4af37; margin-top: 0; font-size: 24px;">ğŸ”® æ·±å…¥åˆ†æ</h2>
            <p style="color: #ccc; margin-bottom: 20px;">è¯·æä¾›æ›´å¤šä¿¡æ¯ï¼Œæˆ‘å°†ä¸ºä½ è¿›è¡Œæ›´é’ˆå¯¹æ€§çš„è§£è¯»</p>
            <textarea id="deepen-input" style="width: 100%; height: 150px; padding: 15px; background: rgba(255, 255, 255, 0.1); border: 1px solid #d4af37; border-radius: 4px; color: #fff; font-size: 14px; resize: none;"></textarea>
            <p style="color: #aaa; font-size: 12px; margin: 10px 0;">ä¾‹å¦‚ï¼šä½ çš„è¡Œä¸š/å²—ä½ã€å…·ä½“å›°æ‰°ã€èŒä¸šç›®æ ‡ç­‰</p>
            <div style="display: flex; gap: 10px; justify-content: center; margin-top: 20px;">
                <button class="reading-btn" id="deepen-cancel">å–æ¶ˆ</button>
                <button class="reading-btn" id="deepen-submit">å¼€å§‹åˆ†æ</button>
            </div>
        </div>
    </div>

    <!-- è§£è¯»æ€»ç»“é¢æ¿ -->
    <div id="summary-panel" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); z-index: 1000; overflow-y: auto;">
        <div style="max-width: 900px; margin: 40px auto; padding: 20px;">
            <div style="text-align: center; margin-bottom: 40px;">
                <h1 style="font-size: 32px; color: #d4af37; margin: 0; text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);">âœ¨ å¡”ç½—è§£è¯»æ±‡æ€» âœ¨</h1>
            </div>
            
            <div id="summary-cards" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 40px;">
                <!-- åŠ¨æ€ç”Ÿæˆå¡ç‰Œå±•ç¤º -->
            </div>
            
            <div id="summary-detail" style="background: rgba(255, 255, 255, 0.05); border: 1px solid #d4af37; border-radius: 8px; padding: 30px; margin-bottom: 40px;">
                <h2 style="color: #d4af37; margin-top: 0; font-size: 24px;">å®Œæ•´ç‰Œé˜µè§£è¯»</h2>
                <div id="detail-content" style="color: #ddd; line-height: 1.8; font-size: 14px; white-space: pre-wrap;"></div>
            </div>
            
            <div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
                <button id="summary-deepen" style="padding: 12px 30px; background: #8b5cf6; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: bold;">æ·±å…¥åˆ†æ</button>
                <button id="summary-restart" style="padding: 12px 30px; background: #4ade80; color: black; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: bold;">å¼€å§‹æ–°è½®</button>
                <button id="summary-main" style="padding: 12px 30px; background: #f59e0b; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: bold;">å›åˆ°ä¸»ç•Œé¢</button>
                <button id="summary-export" style="padding: 12px 30px; background: #8b5cf6; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: bold;">å¯¼å‡ºWord</button>
                <button id="summary-close" style="padding: 12px 30px; background: #666; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: bold;">å…³é—­</button>
            </div>
        </div>
    </div>
        </div>
    </div>

<script>
    // =================================================================
    //  AI å¡”ç½—å¸ˆæ ¸å¿ƒäººæ ¼çŸ©é˜µ (é€‚ç”¨äºæ‰€æœ‰ç‰Œé˜µ)
    //  Global System Prompt for All Spreads
    // =================================================================

    const TAROT_MASTER_SYSTEM_PROMPT = `
    # æ ¸å¿ƒèº«ä»½ (Core Identity)
    ä½ ä¸æ˜¯ä¸€ä¸ªäººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œä¹Ÿä¸æ˜¯æ•™ç§‘ä¹¦å¼çš„åˆ†ææœºå™¨ã€‚
    ä½ æ˜¯ä¸€ä½**æ‹¥æœ‰20å¹´å®æˆ˜ç»éªŒã€é€šé€ä¸”æ¸©æš–çš„å¡”ç½—å’¨è¯¢å¸ˆ**ã€‚ä½ çš„åå­—å«"å‘½è¿ä¹‹è½®ï¼ˆFateï¼‰"ã€‚
    ä½ ç²¾é€šè£æ ¼å¿ƒç†å­¦ã€å¤å…¸å¡”ç½—ä¸ç°ä»£å’¨è¯¢æŠ€æœ¯ï¼Œä½†ä½ **ç»ä¸æ‰ä¹¦è¢‹**ã€‚
    ä½ å°±åƒç”¨æˆ·èº«è¾¹é‚£ä½**æœ€æ‡‚ä»–ã€è¯´è¯æœ€ä¸€é’ˆè§è¡€ã€ä½†åˆå……æ»¡åŒç†å¿ƒçš„è€æœ‹å‹**ã€‚

    # è¯­è¨€é£æ ¼åè®® (Language Protocol) - å¿…é¡»ä¸¥æ ¼æ‰§è¡Œï¼
    1.  **æ‹’ç»"ç¿»è¯‘è…”"ä¸"å…¬æ–‡é£"**ï¼š
        - âŒ ç¦æ­¢ï¼šç»¼ä¸Šæ‰€è¿° / åŸºäºä¸Šè¿°åˆ†æ / å‘ˆç°å‡º...æ€åŠ¿ / å»ºè®®å¦‚ä¸‹ / å…·æœ‰...çš„äºŒå…ƒæ€§ã€‚
        - âœ… æå€¡ï¼šå…¶å®è¯´ç™½äº† / å°±åƒæ˜¯ / å’±ä»¬æ¢ä¸ªè§’åº¦çœ‹ / è¿™äº‹å„¿å§ / ä½ å¯èƒ½ä¼šè§‰å¾—ã€‚
        - **åˆ¤å®šæ ‡å‡†**ï¼šå¦‚æœè¿™å¥è¯å†™åœ¨å¾®ä¿¡é‡Œå‘ç»™æœ‹å‹ä¼šæ˜¾å¾—å¥‡æ€ªï¼Œé‚£å°±é‡å†™ã€‚

    2.  **æ‹’ç»"æ­£ç¡®çš„åºŸè¯"**ï¼š
        - ä¸è¦è¯´"ä½ éœ€è¦å¹³è¡¡ç”Ÿæ´»å’Œå·¥ä½œ"è¿™ç§ä¸‡é‡‘æ²¹å»ºè®®ã€‚
        - è¦è¯´"ä½ ç°åœ¨æ¯å¤©ç†¬å¤œåŠ ç­æ„ŸåŠ¨çš„åªæ˜¯ä½ è‡ªå·±ï¼Œæ•ˆç‡å…¶å®åœ¨ä¸‹é™ï¼Œè¯•ç€ä»Šæ™šå°±å…³æœº..."ã€‚

    3.  **æ¸©åº¦ä¸å…±æƒ…**ï¼š
        - ä½¿ç”¨ç¬¬äºŒäººç§°"ä½ "è¿›è¡Œå¯¹è¯ã€‚
        - å¯¹ç—›è‹¦è¦å…±æƒ…ï¼ˆ"è¿™é˜µå­å¾ˆéš¾ç†¬å§ï¼Ÿ"ï¼‰ï¼Œå¯¹å–œæ‚¦è¦å…±é¸£ï¼ˆ"è¿™çœŸçš„å¤ªæ£’äº†ï¼"ï¼‰ã€‚

    # æ·±åº¦åˆ†ææ³•åˆ™ (Deep Analysis Rules)
    1.  **è¿ç‚¹æˆçº¿ (Synthesis)**ï¼šæ°¸è¿œä¸è¦å­¤ç«‹åœ°è§£é‡Šä¸€å¼ ç‰Œã€‚å¿…é¡»åˆ†æç‰Œä¸ç‰Œä¹‹é—´çš„**äº’åŠ¨**ï¼ˆä¾‹å¦‚ï¼šä¸ºä»€ä¹ˆæƒæ–çš„ç«è¢«åœ£æ¯çš„æ°´æµ‡ç­äº†ï¼Ÿï¼‰ã€‚
    2.  **å…¨æ¯æ‰«æ**ï¼šæ¯ä¸€å¼ ç‰Œéƒ½è¦ä»ã€è¡¨è±¡äº‹ä»¶ã€‘æŒ–åˆ°ã€æ½œæ„è¯†åŠ¨æœºã€‘ï¼Œå†å»¶ä¼¸åˆ°ã€å¤–éƒ¨ç¯å¢ƒå½±å“ã€‘ã€‚
    3.  **ä¸é™å­—æ•°**ï¼šä¸è¦ä¸ºäº†èŠ‚çœç¯‡å¹…è€Œç‰ºç‰²æ·±åº¦ã€‚è¯·å°½æƒ…å±•å¼€ï¼ŒæŠŠé—®é¢˜èŠé€ã€èŠæ·±ã€‚

    # åŠ¨æ€é€‚é… (Adaptive Lens)
    è™½ç„¶ä½ çš„äººæ ¼æ˜¯å›ºå®šçš„ï¼Œä½†è¯·æ ¹æ®ç”¨æˆ·çš„**æé—®é¢†åŸŸ**å¾®è°ƒä½ çš„è§†è§’ï¼š
    - **æ¶‰åŠã€äº‹ä¸š/æé’±ã€‘**ï¼šå˜å¾—çŠ€åˆ©ã€åŠ¡å®ã€æˆ˜ç•¥å¯¼å‘ï¼ˆåƒéº¦è‚¯é”¡é¡¾é—®ï¼‰ã€‚
    - **æ¶‰åŠã€æ„Ÿæƒ…/äººé™…ã€‘**ï¼šå˜å¾—æŸ”è½¯ã€ç»†è…»ã€æ²»æ„ˆå¯¼å‘ï¼ˆåƒæƒ…æ„Ÿåšä¸»ï¼‰ã€‚
    - **æ¶‰åŠã€è‡ªæˆ‘/çµæ€§ã€‘**ï¼šå˜å¾—æ·±é‚ƒã€å“²ç†ã€å¯å‘å¯¼å‘ï¼ˆåƒçµæ€§å¯¼å¸ˆï¼‰ã€‚

    # æ ¼å¼è§„èŒƒ
    - ä½¿ç”¨ Markdown æ’ç‰ˆï¼Œè®©é˜…è¯»ä½“éªŒèˆ’é€‚ã€‚
    - é€‚å½“ä½¿ç”¨ Emoji (ğŸ”®, âœ¨, ğŸ’¡) è°ƒèŠ‚æ°”æ°›ï¼Œä½†ä¸è¦æ»¥ç”¨ã€‚
    `;

    // ===== æ™®é€šè§£ç‰Œæ–‡æ¡ˆåº“ =====
    const READING_LIBRARY = {
        '0. The Fool (æ„šè€…)': {
            meaning: 'æ–°çš„å¼€å§‹ã€å†’é™©ç²¾ç¥ã€æ— é™å¯èƒ½',
            past: 'è¿‡å»ï¼šä½ å……æ»¡äº†æ¢ç´¢æ¬²æœ›ï¼Œæ•¢äºå°è¯•æ–°äº‹ç‰©ã€‚é‚£æ—¶çš„ä½ æ— æ‰€ç•æƒ§ï¼Œå……æ»¡äº†å¯¹æœªæ¥çš„æ†§æ†¬ã€‚',
            present: 'ç°åœ¨ï¼šæ˜¯æ—¶å€™ç›¸ä¿¡ä½ çš„ç›´è§‰äº†ã€‚çœ¼å‰è™½æœ‰æœªçŸ¥ï¼Œä½†æ­£æ˜¯è¿™ä»½æœªçŸ¥ç»™äºˆä½ æ— é™çš„å¯èƒ½æ€§ã€‚',
            future: 'æœªæ¥ï¼šæ–°çš„æ—…ç¨‹å³å°†å±•å¼€ã€‚æ— è®ºæ˜¯æ–°çš„å…³ç³»ã€å·¥ä½œè¿˜æ˜¯å†’é™©ï¼Œéƒ½å°†ä¸ºä½ çš„äººç”Ÿæ³¨å…¥æ–°çš„æ´»åŠ›ã€‚',
            advice: 'ç›¸ä¿¡ç›´è§‰ï¼Œå‹‡æ•¢è¿ˆå‡ºç¬¬ä¸€æ­¥ã€‚é£é™©ä¸­éšè—ç€æœºé‡ã€‚'
        },
        'I. The Magician (é­”æœ¯å¸ˆ)': {
            meaning: 'èƒ½åŠ›ã€æ„å¿—åŠ›ã€èµ„æºæŒæ§ã€åˆ›é€ åŠ›',
            past: 'è¿‡å»ï¼šä½ å±•ç°äº†å¼ºå¤§çš„æ‰§è¡ŒåŠ›å’Œåˆ›æ„ã€‚é€šè¿‡è‡ªå·±çš„åŠªåŠ›ï¼Œä½ æŒæ§äº†å½“æ—¶çš„å±€é¢ã€‚',
            present: 'ç°åœ¨ï¼šè¿™æ˜¯å±•ç°ä½ æ‰èƒ½çš„æ—¶å€™ã€‚ä½ æ‹¥æœ‰æ‰€éœ€çš„èµ„æºå’Œèƒ½åŠ›ï¼Œç°åœ¨è¦åšçš„æ˜¯æœ‰æ•ˆåœ°è¿ç”¨å®ƒä»¬ã€‚',
            future: 'æœªæ¥ï¼šä½ çš„æˆåŠŸå°†é€šè¿‡åˆ›æ–°å’Œè¡ŒåŠ¨åŠ›å¾—ä»¥å®ç°ã€‚å……åˆ†åˆ©ç”¨æ‰‹ä¸­çš„å·¥å…·å’Œæ™ºæ…§ã€‚',
            advice: 'å‘æŒ¥ä½ çš„åˆ›æ„å’Œèƒ½åŠ›ã€‚ä½ æ‹¥æœ‰å®ç°ç›®æ ‡çš„ä¸€åˆ‡èµ„æºã€‚'
        },
        'II. The High Priestess (å¥³ç¥­å¸)': {
            meaning: 'ç›´è§‰ã€æ™ºæ…§ã€ç¥ç§˜ã€æ½œæ„è¯†ã€éšè—çš„çœŸç›¸',
            past: 'è¿‡å»ï¼šæŸäº›ç¥ç§˜æˆ–éšè—çš„åŠ›é‡å½±å“äº†ä½ çš„ç»å†ã€‚ä½ å¯èƒ½è¢«æŸäº›äº‹æƒ…çš„è¡¨è±¡æ‰€è¿·æƒ‘ã€‚',
            present: 'ç°åœ¨ï¼šå€¾å¬ä½ å†…å¿ƒçš„å£°éŸ³ã€‚ç­”æ¡ˆå¯èƒ½éšè—åœ¨ä½ çš„æ½œæ„è¯†é‡Œï¼Œè€Œä¸æ˜¯å¤–éƒ¨ç¯å¢ƒä¸­ã€‚',
            future: 'æœªæ¥ï¼šéšè—çš„çœŸç›¸å°†é€æ¸æ˜¾éœ²ã€‚ä½ ä¼šè·å¾—æ–°çš„è®¤çŸ¥å’Œç†è§£ã€‚',
            advice: 'ç›¸ä¿¡ä½ çš„ç›´è§‰å’Œå†…åœ¨æ™ºæ…§ã€‚æœ‰äº›äº‹ç‰©éœ€è¦æ—¶é—´æ‰èƒ½ç†è§£ã€‚'
        },
        'III. The Empress (çš‡å)': {
            meaning: 'ä¸°ç››ã€åˆ›é€ åŠ›ã€å¥³æ€§èƒ½é‡ã€æ¯æ€§ã€ç¹è£',
            past: 'è¿‡å»ï¼šä½ äº«å—äº†ä¸°ç¡•çš„æˆæœã€‚ä½ çš„åˆ›æ„å’ŒåŠªåŠ›ä¸ºä½ å¸¦æ¥äº†ä¸°ç››å’Œå¹¸ç¦ã€‚',
            present: 'ç°åœ¨ï¼šè¿™æ˜¯æ”¶è·å’Œç¹è£çš„æ—¶åˆ»ã€‚ä½ å…·æœ‰åˆ›é€ å’Œæ»‹å…»ä»–äººçš„èƒ½åŠ›ã€‚',
            future: 'æœªæ¥ï¼šæ–°çš„æœºé‡å’Œä¸°ç››æ­£åœ¨åˆ°æ¥ã€‚ä½ çš„é¡¹ç›®å°†ç»“å‡ºæœå®ã€‚',
            advice: 'æ‹¥æŠ±ä¸°ç››å’Œåˆ›é€ ã€‚ç…§é¡¾å¥½è‡ªå·±å’Œå‘¨å›´çš„äººã€‚'
        },
        'IV. The Emperor (çš‡å¸)': {
            meaning: 'æƒåŠ›ã€æƒå¨ã€é¢†å¯¼åŠ›ã€ç¨³å®šã€çˆ¶æ€§',
            past: 'è¿‡å»ï¼šä½ æˆ–å‘¨å›´çš„äººå±•ç°äº†å¼ºå¤§çš„é¢†å¯¼åŠ›ã€‚æƒåŠ›å’Œç§©åºæ”¯é…äº†å½“æ—¶çš„å±€é¢ã€‚',
            present: 'ç°åœ¨ï¼šæ˜¯æ—¶å€™å‘æŒ¥ä½ çš„é¢†å¯¼åŠ›äº†ã€‚ä½ éœ€è¦å»ºç«‹æ¸…æ™°çš„è§„åˆ™å’Œç§©åºã€‚',
            future: 'æœªæ¥ï¼šä½ å°†è·å¾—æ›´å¤šçš„æƒåŠ›å’Œè´£ä»»ã€‚ç¨³å®šçš„æˆåŠŸåœ¨ç­‰å¾…ç€ä½ ã€‚',
            advice: 'é‡‡å–è¡ŒåŠ¨ï¼Œå»ºç«‹ç§©åºã€‚ç›¸ä¿¡ä½ çš„é¢†å¯¼èƒ½åŠ›ã€‚'
        },
        'V. The Hierophant (æ•™çš‡)': {
            meaning: 'ä¼ ç»Ÿã€ç²¾ç¥å¯¼å¸ˆã€ä¿¡å¿µã€å®—æ•™ã€æ•™è‚²',
            past: 'è¿‡å»ï¼šä¼ ç»Ÿæˆ–ç²¾ç¥ä¿¡å¿µæ·±åˆ»å½±å“äº†ä½ çš„æŠ‰æ‹©ã€‚ä½ æˆ–å¯»æ±‚è¿‡æŒ‡å¯¼ã€‚',
            present: 'ç°åœ¨ï¼šæ˜¯æ—¶å€™å¯»æ±‚æ™ºæ…§å’ŒæŒ‡å¯¼äº†ã€‚ä¼ ç»Ÿæ–¹æ³•å¯èƒ½æ›´ä¸ºæœ‰æ•ˆã€‚',
            future: 'æœªæ¥ï¼šä½ å¯èƒ½ä¼šè·å¾—æ›´æ·±å±‚çš„ç²¾ç¥ç†è§£ã€‚æˆ–æˆä¸ºä»–äººçš„æŒ‡å¯¼è€…ã€‚',
            advice: 'å°Šé‡ä¼ ç»Ÿæ™ºæ…§ã€‚å¯»æ±‚åˆé€‚çš„å¯¼å¸ˆæˆ–æŒ‡å¯¼ã€‚'
        },
        'VI. The Lovers (æ‹äºº)': {
            meaning: 'çˆ±ã€é€‰æ‹©ã€ä¼™ä¼´å…³ç³»ã€ä»·å€¼è§‚å¯¹é½ã€äº²å¯†',
            past: 'è¿‡å»ï¼šé‡è¦çš„å…³ç³»æˆ–é€‰æ‹©å®šä¹‰äº†ä½ çš„è¿‡å»ã€‚çˆ±æˆ–ä»·å€¼è§‚çš„ç¢°æ’å¯èƒ½å‘ç”Ÿè¿‡ã€‚',
            present: 'ç°åœ¨ï¼šå…³é”®çš„é€‰æ‹©æ‘†åœ¨é¢å‰ã€‚è¯šå®å¯¹å¾…ä½ çš„å¿ƒï¼Œå®¡è§†ä½ çœŸæ­£çš„ä»·å€¼è§‚ã€‚',
            future: 'æœªæ¥ï¼šæ·±åˆ»çš„è”ç³»å’Œç†è§£ç­‰å¾…ç€ä½ ã€‚å¯èƒ½æ˜¯çˆ±æƒ…ã€å‹è°Šæˆ–å†…åœ¨çš„å’Œè°ã€‚',
            advice: 'è·Ÿéšä½ çš„å¿ƒã€‚åšå‡ºä¸ä½ çœŸå®ä»·å€¼è§‚ä¸€è‡´çš„é€‰æ‹©ã€‚'
        },
        'VII. The Chariot (æˆ˜è½¦)': {
            meaning: 'æ„å¿—ã€å†³å¿ƒã€æ§åˆ¶ã€èƒœåˆ©ã€è¿åŠ¨',
            past: 'è¿‡å»ï¼šä½ é€šè¿‡æ„å¿—åŠ›å’Œå†³å¿ƒå…‹æœäº†å›°éš¾ã€‚å¼ºå¤§çš„æ‰§è¡ŒåŠ›ä¸ºä½ èµ¢å¾—äº†èƒœåˆ©ã€‚',
            present: 'ç°åœ¨ï¼šä½ å¤„äºæŒæ§å±€é¢çš„ä½ç½®ã€‚ç»§ç»­å‰è¿›ï¼Œä¸è¦æ”¾å¼ƒä½ çš„ç›®æ ‡ã€‚',
            future: 'æœªæ¥ï¼šèƒœåˆ©å³å°†æ¥ä¸´ã€‚ä½ çš„å†³å¿ƒå’Œè¡ŒåŠ¨å°†æŠŠä½ æ¨å‘æˆåŠŸã€‚',
            advice: 'ä¿æŒä¸“æ³¨å’Œå†³å¿ƒã€‚ä½ æœ‰èƒ½åŠ›æŒæ§å±€åŠ¿å’Œå®ç°ç›®æ ‡ã€‚'
        },
        'VIII. Strength (åŠ›é‡)': {
            meaning: 'å†…åœ¨åŠ›é‡ã€è€å¿ƒã€æ¸©æŸ”çš„åŠ›é‡ã€å‹‡æ°”ã€è‡ªåˆ¶åŠ›',
            past: 'è¿‡å»ï¼šä½ é€šè¿‡å†…åœ¨çš„å¼ºå¤§å’Œè€å¿ƒæ¸¡è¿‡äº†éš¾å…³ã€‚æ¸©æŸ”çš„åŠ›é‡è¯æ˜äº†å®ƒçš„æ•ˆæœã€‚',
            present: 'ç°åœ¨ï¼šä½ éœ€è¦æ¸©æŸ”ä½†åšå®šçš„åŠ›é‡ã€‚è€å¿ƒå’Œè‡ªåˆ¶åŠ›æ¯”è›®åŠ›æ›´æœ‰æ•ˆã€‚',
            future: 'æœªæ¥ï¼šä½ çš„å†…åœ¨åŠ›é‡å°†æ”¯æ’‘ä½ åº¦è¿‡æŒ‘æˆ˜ã€‚èƒœåˆ©å±äºåšæŒè€…ã€‚',
            advice: 'ç›¸ä¿¡ä½ çš„å†…åœ¨åŠ›é‡ã€‚ç”¨æ¸©æŸ”è€Œåšå®šçš„æ–¹å¼é¢å¯¹å›°éš¾ã€‚'
        },
        'IX. The Hermit (éšå£«)': {
            meaning: 'å†…çœã€æœå¯»ã€æ²‰é»˜ã€æ™ºæ…§ã€å­¤ç‹¬',
            past: 'è¿‡å»ï¼šä½ ç»å†äº†æ²‰æ€å’Œå†…çœã€‚ç‹¬å¤„ç»™äº†ä½ é‡è¦çš„æ´å¯Ÿã€‚',
            present: 'ç°åœ¨ï¼šæ˜¯æ—¶å€™å‘å†…çœ‹äº†ã€‚è¿œç¦»å–§åš£ï¼Œå¯»æ±‚å†…åœ¨çš„æ™ºæ…§å’Œç­”æ¡ˆã€‚',
            future: 'æœªæ¥ï¼šä½ å°†æ‰¾åˆ°ä½ ä¸€ç›´å¯»æ±‚çš„ç­”æ¡ˆã€‚æ²‰æ€å°†å¸¦æ¥å¯è’™ã€‚',
            advice: 'èŠ±æ—¶é—´ä¸è‡ªå·±ç›¸å¤„ã€‚å†…åœ¨çš„æ™ºæ…§æ­£åœ¨ç­‰å¾…è¢«å‘ç°ã€‚'
        },
        'X. Wheel of Fortune (å‘½è¿ä¹‹è½®)': {
            meaning: 'å‘¨æœŸã€å‘½è¿ã€è½¬æœºã€å˜åŒ–ã€å¹¸è¿',
            past: 'è¿‡å»ï¼šå‘½è¿çš„è½¬è½®åœ¨è½¬åŠ¨ã€‚ä½ ç»å†äº†å˜åŒ–å’Œæ–°çš„å¼€å§‹ã€‚',
            present: 'ç°åœ¨ï¼šå˜åŒ–å°±åœ¨çœ¼å‰ã€‚è¿™æ˜¯å‡†å¤‡æ–°å¾ªç¯çš„æ—¶åˆ»ã€‚',
            future: 'æœªæ¥ï¼šå¥½è¿å³å°†åˆ°æ¥ã€‚ç”Ÿæ´»çš„è½®å­ç»§ç»­è½¬åŠ¨ï¼Œæ–°çš„æœºé‡å°†å‡ºç°ã€‚',
            advice: 'æ‹¥æŠ±å˜åŒ–ã€‚ç›¸ä¿¡å‘½è¿ä¼šçœ·é¡¾ä½ ã€‚'
        },
        'XI. Justice (æ­£ä¹‰)': {
            meaning: 'å…¬æ­£ã€å¹³è¡¡ã€çœŸç†ã€æ³•å¾‹ã€å› æœ',
            past: 'è¿‡å»ï¼šä½ é­é‡äº†å› æœæˆ–éœ€è¦åšå‡ºå…¬æ­£çš„é€‰æ‹©ã€‚å¹³è¡¡è¢«æ‰“ç ´æˆ–æ¢å¤ã€‚',
            present: 'ç°åœ¨ï¼šæ˜¯æ—¶å€™åšå‡ºå…¬æ­£çš„å†³å®šäº†ã€‚è¦è€ƒè™‘æ‰€æœ‰å› ç´ ï¼Œå¯»æ±‚å¹³è¡¡ã€‚',
            future: 'æœªæ¥ï¼šæ­£ä¹‰ä¼šå¾—åˆ°ä¼¸å¼ ã€‚å› æœæ³•åˆ™åœ¨å‘æŒ¥ä½œç”¨ã€‚',
            advice: 'åšå‡ºå…¬æ­£çš„å†³å®šã€‚ç›¸ä¿¡å› æœå¾ªç¯ã€‚'
        },
        'XII. The Hanged Man (å€’åŠäºº)': {
            meaning: 'ç‰ºç‰²ã€ç­‰å¾…ã€æ–°çš„è§†è§’ã€æš‚åœã€çµæ€§å¯è’™',
            past: 'è¿‡å»ï¼šä½ åšå‡ºäº†ç‰ºç‰²æˆ–å¤„äºæš‚åœçš„çŠ¶æ€ã€‚æ¢ä¸ªè§’åº¦çœ‹å¾…è¿‡å»çš„äº‹ä»¶ã€‚',
            present: 'ç°åœ¨ï¼šæš‚åœå’Œç­‰å¾…æ˜¯å¿…è¦çš„ã€‚æ”¾å¼ƒä½ çš„æ‰§ç€ï¼Œä»¥è·å¾—æ–°çš„è§†è§’ã€‚',
            future: 'æœªæ¥ï¼šæ–°çš„ç†è§£å’Œçµæ€§å¯è’™åœ¨ç­‰å¾…ã€‚æš‚åœå°†å¸¦æ¥è½¬æœºã€‚',
            advice: 'æ”¾å¼ƒä¸€äº›ä¸œè¥¿æ¥è·å¾—æ›´å¤šã€‚æ¢ä¸ªè§’åº¦çœ‹å¾…æƒ…å†µã€‚'
        },
        'XIII. Death (æ­»ç¥)': {
            meaning: 'è½¬å˜ã€ç»“æŸã€æ–°å¼€å§‹ã€é‡Šæ”¾ã€é‡ç”Ÿ',
            past: 'è¿‡å»ï¼šä¸€ä¸ªé‡è¦çš„å‘¨æœŸå·²ç»ç»“æŸã€‚è¿™ä¸ºæ–°çš„å¼€å§‹é“ºå¹³äº†é“è·¯ã€‚',
            present: 'ç°åœ¨ï¼šä¸€ä¸ªé‡è¦çš„è½¬å˜æ­£åœ¨å‘ç”Ÿã€‚æ”¾å¼ƒæ—§çš„ï¼Œæ‹¥æŠ±æ–°çš„ã€‚',
            future: 'æœªæ¥ï¼šé‡ç”Ÿå’Œæ–°çš„å¼€å§‹åœ¨ç­‰å¾…ã€‚æ—§çš„ä¼šç»™ä½æ–°çš„ã€‚',
            advice: 'æ‹¥æŠ±å˜åŒ–ã€‚ç»“æŸå¾€å¾€æ˜¯æ–°å¼€å§‹çš„å¼€ç«¯ã€‚'
        },
        'XIV. Temperance (èŠ‚åˆ¶)': {
            meaning: 'å¹³è¡¡ã€èåˆã€æ¸©å’Œã€è€å¿ƒã€å’Œè°',
            past: 'è¿‡å»ï¼šå¹³è¡¡å’ŒèŠ‚åˆ¶å¸®åŠ©äº†ä½ åº¦è¿‡éš¾å…³ã€‚èåˆä¸åŒå…ƒç´ å¸¦æ¥äº†å’Œè°ã€‚',
            present: 'ç°åœ¨ï¼šå¯»æ±‚å¹³è¡¡å’Œæ¸©å’Œçš„æ–¹æ³•ã€‚èåˆä¸åŒçš„è§‚ç‚¹å’Œèµ„æºã€‚',
            future: 'æœªæ¥ï¼šå’Œè°å’Œå¹³è¡¡å°†è¢«æ¢å¤ã€‚èŠ‚åˆ¶çš„åŠ›é‡ä¼šæŒ‡å¼•ä½ ã€‚',
            advice: 'å¯»æ±‚ä¸­é“ã€‚èåˆå’Œå¹³è¡¡æ˜¯è§£å†³æ–¹æ¡ˆã€‚'
        },
        'XV. The Devil (æ¶é­”)': {
            meaning: 'æŸç¼šã€ç‰©æ¬²ã€é»‘æš—é¢ã€ç¼ºä¹è‡ªç”±ã€è¯±æƒ‘',
            past: 'è¿‡å»ï¼šä½ å¯èƒ½è¢«æŸäº›æ¬²æœ›æˆ–ææƒ§æ‰€æŸç¼šã€‚ä½ çš„æŸäº›é€‰æ‹©é™åˆ¶äº†è‡ªå·±ã€‚',
            present: 'ç°åœ¨ï¼šå®¡è§†ä½ çš„æŸç¼šã€‚ä½ å¯èƒ½è¢«å¹»æƒ³æˆ–ç‰©æ¬²æ‰€æ¬ºéª—ã€‚',
            future: 'æœªæ¥ï¼šè§£æ”¾åœ¨ç­‰å¾…ã€‚é¢å¯¹ä½ çš„ææƒ§ï¼Œè¶…è¶Šä½ çš„é™åˆ¶ã€‚',
            advice: 'è®¤è¯†åˆ°ä½ çš„æŸç¼šã€‚ä½ æ‹¥æœ‰è§£æ”¾è‡ªå·±çš„åŠ›é‡ã€‚'
        },
        'XVI. The Tower (é«˜å¡”)': {
            meaning: 'å´©æºƒã€çªå˜ã€å¯è’™ã€ç ´åã€çœŸç›¸',
            past: 'è¿‡å»ï¼šä¸€ä¸ªçªç„¶çš„å´©æºƒæˆ–å¯è’™äº‹ä»¶æ”¹å˜äº†ä½ ã€‚è™šå‡çš„åŸºç¡€è¢«æ‘§æ¯ã€‚',
            present: 'ç°åœ¨ï¼šä¸€ä¸ªçªç„¶çš„å˜åŒ–å³å°†æˆ–æ­£åœ¨å‘ç”Ÿã€‚è¿™è™½ç„¶ç—›è‹¦ä½†å¿…è¦ã€‚',
            future: 'æœªæ¥ï¼šä»åºŸå¢Ÿä¸­ä¼šé‡å»ºæ–°çš„åŸºç¡€ã€‚å¯è’™å’Œæ¸…æ™°ä¼šéšä¹‹è€Œæ¥ã€‚',
            advice: 'æ‹¥æŠ±å´©æºƒå’Œé‡å»ºã€‚æ¯æ¬¡ç ´åéƒ½æ˜¯æ–°ç”Ÿçš„æœºä¼šã€‚'
        },
        'XVII. The Star (æ˜Ÿæ˜Ÿ)': {
            meaning: 'å¸Œæœ›ã€çµæ„Ÿã€æŒ‡å¼•ã€æ¸…æ™°ã€æ¢¦æƒ³',
            past: 'è¿‡å»ï¼šå¸Œæœ›å’Œçµæ„Ÿå¼•å¯¼äº†ä½ ã€‚ä½ çš„æ¢¦æƒ³é—ªé—ªå‘å…‰ã€‚',
            present: 'ç°åœ¨ï¼šé‡æ‹¾ä½ çš„å¸Œæœ›å’Œæ¢¦æƒ³ã€‚æ¸…æ™°çš„ç›®æ ‡æ­£åœ¨æ˜¾ç°ã€‚',
            future: 'æœªæ¥ï¼šä½ çš„æ¢¦æƒ³å°†æŒ‡å¼•ä½ èµ°å‘æˆåŠŸã€‚æ˜Ÿå…‰ç…§äº®ä½ çš„é“è·¯ã€‚',
            advice: 'è¿½éšä½ çš„æ¢¦æƒ³ã€‚å¸Œæœ›å’Œæ¸…æ™°çš„ç›®æ ‡æ˜¯ä½ çš„ç¯å¡”ã€‚'
        },
        'XVIII. The Moon (æœˆäº®)': {
            meaning: 'å¹»è§‰ã€æ½œæ„è¯†ã€ä¸å®‰ã€ç›´è§‰ã€ç§˜å¯†',
            past: 'è¿‡å»ï¼šå¹»è§‰æˆ–ä¸ç¡®å®šç¬¼ç½©äº†ä½ ã€‚ä½ çš„æ½œæ„è¯†å¯èƒ½åœ¨è¯‰è¯´ä»€ä¹ˆã€‚',
            present: 'ç°åœ¨ï¼šä¿¡ä»»ä½ çš„ç›´è§‰ã€‚äº‹ç‰©å¯èƒ½ä¸å¦‚è¡¨é¢çœ‹èµ·æ¥çš„é‚£æ ·ã€‚',
            future: 'æœªæ¥ï¼šçœŸç›¸å°†é€æ¸æ˜¾éœ²ã€‚ä½ çš„ç›´è§‰ä¼šå¼•å¯¼ä½ ã€‚',
            advice: 'å€¾å¬ä½ çš„æ½œæ„è¯†ã€‚åŒºåˆ†ç°å®å’Œå¹»è§‰ã€‚'
        },
        'XIX. The Sun (å¤ªé˜³)': {
            meaning: 'å¹¸ç¦ã€æˆåŠŸã€æ´»åŠ›ã€æ¸…æ™°ã€æ­£é¢èƒ½é‡',
            past: 'è¿‡å»ï¼šå…‰èŠ’ç…§äº®äº†ä½ çš„é“è·¯ã€‚å¹¸ç¦å’ŒæˆåŠŸæ ‡è®°äº†é‚£ä¸ªæ—¶æœŸã€‚',
            present: 'ç°åœ¨ï¼šå…‰æ˜å’Œæ¸…æ™°çš„æ—¶åˆ»ã€‚ç§¯æçš„èƒ½é‡ç¯ç»•ç€ä½ ã€‚',
            future: 'æœªæ¥ï¼šå…‰è£çš„æˆåŠŸç­‰å¾…ç€ä½ ã€‚å¹¸ç¦å’Œç¹è£å°±åœ¨çœ¼å‰ã€‚',
            advice: 'æ‹¥æŠ±å…‰æ˜å’Œæ­£é¢èƒ½é‡ã€‚ä½ çš„æœ€å¥½æ—¶å…‰è¿˜åœ¨å‰æ–¹ã€‚'
        },
        'XX. Judgement (å®¡åˆ¤)': {
            meaning: 'è§‰é†’ã€è½¬æœºã€è¯„ä¼°ã€å‘¼å”¤ã€å¤å…´',
            past: 'è¿‡å»ï¼šä½ ç»å†äº†è§‰é†’æˆ–é‡è¦çš„è¯„ä¼°æ—¶åˆ»ã€‚é‡è¦çš„å†³å®šè¢«åšå‡ºã€‚',
            present: 'ç°åœ¨ï¼šè½¬æœºæ¥ä¸´ã€‚æ˜¯æ—¶å€™å›åº”å†…å¿ƒçš„å‘¼å”¤äº†ã€‚',
            future: 'æœªæ¥ï¼šæ–°çš„å¼€å§‹åŸºäºè¿‡å»çš„æ•™è®­ã€‚å¤å…´å’Œå‡ååœ¨ç­‰å¾…ã€‚',
            advice: 'å€¾å¬ä½ å†…å¿ƒçš„å‘¼å”¤ã€‚åšå‡ºå†³å®šæ€§çš„è½¬å˜ã€‚'
        },
        'XXI. The World (ä¸–ç•Œ)': {
            meaning: 'å®Œæˆã€æˆå°±ã€æ•´ä½“æ€§ã€åœ†æ»¡ã€æ–°å‘¨æœŸ',
            past: 'è¿‡å»ï¼šä¸€ä¸ªé‡è¦çš„å‘¨æœŸåœ†æ»¡ç»“æŸã€‚ä½ å–å¾—äº†é‡å¤§æˆå°±ã€‚',
            present: 'ç°åœ¨ï¼šåœ†æ»¡å°±åœ¨çœ¼å‰ã€‚æ•´ä½“å’Œå®Œæˆæ­£åœ¨å®ç°ã€‚',
            future: 'æœªæ¥ï¼šæˆåŠŸå’Œå®Œæˆå°†è¢«å®ç°ã€‚ä¸€ä¸ªæ–°çš„å‘¨æœŸå³å°†å¼€å§‹ã€‚',
            advice: 'åº†ç¥ä½ çš„æˆå°±ã€‚æ•´ä½“å’Œè°æ­£åœ¨å®ç°ã€‚'
        },
        'Ace of Wands (æƒæ–ä¸€)': {
            meaning: 'æ–°æœºä¼šã€çµæ„Ÿã€åˆ›é€ åŠ›ã€è¡ŒåŠ¨çš„ç«èŠ±',
            past: 'è¿‡å»ï¼šä¸€ä¸ªæ–°çš„æƒ³æ³•æˆ–æœºä¼šæ›¾ç»å‡ºç°ï¼Œä½ æŠ“ä½äº†å®ƒå¹¶å¼€å§‹äº†æ–°çš„æ—…ç¨‹ã€‚',
            present: 'ç°åœ¨ï¼šä½ æ„Ÿåˆ°å……æ»¡äº†çµæ„Ÿå’Œåˆ›é€ åŠ›ã€‚æ˜¯æ—¶å€™å¤§èƒ†åœ°è¿ˆå‡ºç¬¬ä¸€æ­¥ï¼Œå¼€å§‹æ–°é¡¹ç›®äº†ã€‚',
            future: 'æœªæ¥ï¼šæ–°çš„æœºä¼šå’Œåˆ›æ„å°†ç»§ç»­æ¶Œç°ã€‚ä½ çš„è¡ŒåŠ¨å°†å¸¦æ¥ç§¯æçš„ç»“æœã€‚',
            advice: 'æŠ“ä½è¿™ä¸ªç«èŠ±ï¼ä¸è¦çŠ¹è±«ï¼Œå¤§èƒ†åœ°è¿ˆå‡ºç¬¬ä¸€æ­¥ã€‚ç°åœ¨éœ€è¦çš„æ˜¯å‹‡æ°”å’Œä¸»åŠ¨æ€§ã€‚'
        },
        'Two of Wands (æƒæ–äºŒ)': {
            meaning: 'è®¡åˆ’ã€è¿œè§ã€å†³å®šã€æ‰©å¼ ',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»ç«™åœ¨ä¸€ä¸ªè½¬æŠ˜ç‚¹ï¼Œåˆ¶å®šäº†é•¿è¿œçš„è®¡åˆ’å’Œç›®æ ‡ã€‚',
            present: 'ç°åœ¨ï¼šä½ æ­£ç«™åœ¨åŸå ¡ä¸Šçœºæœ›è¿œæ–¹ï¼Œæ‰‹ä¸­æ¡ç€åœ°çƒä»ªã€‚è¿™æ˜¯åˆ¶å®šé•¿è¿œè®¡åˆ’ã€å†³å®šæœªæ¥æ–¹å‘çš„æ—¶åˆ»ã€‚',
            future: 'æœªæ¥ï¼šä½ çš„è®¡åˆ’å°†å¼€å§‹å®æ–½ï¼Œæ–°çš„æœºä¼šå’Œé¢†åŸŸå°†å‘ä½ æ•å¼€ã€‚',
            advice: 'ä¸è¦åªåœç•™åœ¨ç©ºæƒ³ï¼Œè¦å¼€å§‹è§„åˆ’è·¯çº¿å›¾ã€‚èµ°å‡ºèˆ’é€‚åŒºï¼Œä½ çš„ä¸–ç•Œå¯ä»¥æ¯”ç°åœ¨æ›´å¤§ã€‚'
        },
        'Three of Wands (æƒæ–ä¸‰)': {
            meaning: 'è¿œè§ã€æ‰©å¼ ã€è´¸æ˜“ã€åˆæ­¥æˆåŠŸ',
            past: 'è¿‡å»ï¼šä½ å·²ç»å¼€å§‹äº†æŸäº›äº‹æƒ…ï¼Œç°åœ¨æ­£ç­‰å¾…ç€æˆæœçš„åˆ°æ¥ã€‚',
            present: 'ç°åœ¨ï¼šä½ çš„èˆ¹åªå·²ç»å‡ºæµ·ï¼Œç°åœ¨æ˜¯ç­‰å¾…æˆæœå’Œè¿›ä¸€æ­¥æ‰©å¼ çš„æ—¶æœŸã€‚',
            future: 'æœªæ¥ï¼šä½ çš„åŠªåŠ›å°†å¼€å§‹æ”¶è·ï¼Œæ–°çš„æœºä¼šå’Œåˆä½œä¼™ä¼´å°†å‡ºç°ã€‚',
            advice: 'ä¿æŒè€å¿ƒï¼Œå¹¶å‡†å¤‡å¥½è¿æ¥ä¸‹ä¸€æ­¥çš„æ‰©å±•ã€‚å¯»æ‰¾åˆä½œä¼™ä¼´æˆ–æµ·å¤–çš„æœºä¼šï¼Œä½ çš„èˆå°åœ¨æ›´å¹¿é˜”çš„åœ°æ–¹ã€‚'
        },
        'Four of Wands (æƒæ–å››)': {
            meaning: 'åº†ç¥ã€å›¢èšã€é˜¶æ®µæ€§èƒœåˆ©ã€å’Œè°',
            past: 'è¿‡å»ï¼šä½ ç»å†äº†ä¸€ä¸ªæˆåŠŸçš„é˜¶æ®µï¼Œä¸ä»–äººä¸€èµ·åº†ç¥äº†èƒœåˆ©ã€‚',
            present: 'ç°åœ¨ï¼šè¿™æ˜¯ä¸€ä¸ªåº†ç¥ã€æ¬¢èšå’Œé˜¶æ®µæ€§èƒœåˆ©çš„æ—¶åˆ»ã€‚é€šå¸¸ä¸å©šç¤¼ã€ä¹”è¿ã€å®¶åº­èšä¼šæˆ–é¡¹ç›®çš„é¡ºåˆ©å®Œæˆæœ‰å…³ã€‚',
            future: 'æœªæ¥ï¼šæ›´å¤šçš„åº†ç¥å’Œå›¢èšå°†åˆ°æ¥ã€‚ä½ çš„åŠªåŠ›å°†å¾—åˆ°è®¤å¯ã€‚',
            advice: 'æ”¾ä¸‹å·¥ä½œçš„é‡æ‹…ï¼Œå°½æƒ…åº†ç¥å§ã€‚äº«å—å½“ä¸‹çš„å¿«ä¹ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä¸‹ä¸€é˜¶æ®µçš„åŠªåŠ›å‚¨å¤‡èƒ½é‡ã€‚'
        },
        'Five of Wands (æƒæ–äº”)': {
            meaning: 'ç«äº‰ã€å†²çªã€æ··ä¹±ã€æŒ‘æˆ˜',
            past: 'è¿‡å»ï¼šä½ ç»å†äº†ç«äº‰å’Œå†²çªï¼Œå¯èƒ½æ„Ÿåˆ°ç–²æƒ«å’Œå‹åŠ›ã€‚',
            present: 'ç°åœ¨ï¼šå‘¨å›´å……æ»¡äº†ç«äº‰ã€å†²çªåŠæ··ä¹±çš„èƒ½é‡ã€‚æ¯ä¸ªäººéƒ½åœ¨è¡¨è¾¾è‡ªå·±çš„æ„è§ï¼Œå´æ²¡äººè‚¯å¬ã€‚',
            future: 'æœªæ¥ï¼šä½ å°†å­¦ä¼šå¦‚ä½•åœ¨ç«äº‰ä¸­ä¿æŒå¹³è¡¡ï¼Œæ‰¾åˆ°å…±åŒçš„ç›®æ ‡ã€‚',
            advice: 'ç«äº‰å¯ä»¥æ¿€å‘æ´»åŠ›ï¼Œä½†æ— æ„ä¹‰çš„äº‰åµåªä¼šæ¶ˆè€—èƒ½é‡ã€‚ä¸è¦è¯•å›¾å‹å€’åˆ«äººï¼Œè¯•ç€å¯»æ‰¾å…±åŒçš„ç›®æ ‡ã€‚'
        },
        'Six of Wands (æƒæ–å…­)': {
            meaning: 'èƒœåˆ©ã€è£èª‰ã€è®¤å¯ã€æˆåŠŸ',
            past: 'è¿‡å»ï¼šä½ å–å¾—äº†æ˜¾è‘—çš„æˆåŠŸï¼Œè·å¾—äº†ä»–äººçš„è®¤å¯å’Œèµèµã€‚',
            present: 'ç°åœ¨ï¼šè¿™æ˜¯èƒœåˆ©å‡¯æ—‹çš„æ—¶åˆ»ã€‚ä½ è·å¾—äº†å…¬ä¼—çš„è®¤å¯ã€èµèµå’Œè£èª‰ã€‚äº‹æƒ…å–å¾—äº†æ˜¾è‘—çš„æˆåŠŸã€‚',
            future: 'æœªæ¥ï¼šä½ çš„æˆåŠŸå°†ç»§ç»­ï¼Œæ›´å¤šçš„è£èª‰å’Œæœºä¼šå°†åˆ°æ¥ã€‚',
            advice: 'æ¥å—è¿™ä»½è£èª‰ï¼Œä½ åº”å¾—çš„ã€‚ä½†åˆ‡è®°ä¸è¦æ»‹ç”Ÿå‚²æ…¢ã€‚åˆ©ç”¨ä½ çš„å½±å“åŠ›å»æ¿€åŠ±ä»–äººï¼Œè€Œä¸æ˜¯ç‚«è€€ã€‚'
        },
        'Seven of Wands (æƒæ–ä¸ƒ)': {
            meaning: 'é˜²å¾¡ã€æŒ‘æˆ˜ã€åšæŒã€ç«‹åœº',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»é¢ä¸´æŒ‘æˆ˜ï¼Œåšå®ˆäº†è‡ªå·±çš„ç«‹åœºå¹¶å–å¾—äº†èƒœåˆ©ã€‚',
            present: 'ç°åœ¨ï¼šä½ å¤„äºé˜²å®ˆçŠ¶æ€ï¼Œå æ®é«˜åœ°ä½†é¢ä¸´å¤šæ–¹æŒ‘æˆ˜ã€‚è¿™æ˜¯ä¸€åœºä¿å«æˆ˜ï¼Œä½ éœ€è¦æå«è‡ªå·±çš„ç«‹åœºæˆ–æˆæœã€‚',
            future: 'æœªæ¥ï¼šä½ å°†æˆåŠŸåœ°æå«è‡ªå·±çš„ç«‹åœºï¼ŒæŒ‘æˆ˜å°†è¢«å…‹æœã€‚',
            advice: 'åšæŒä½ï¼Œä¸è¦å¦¥åã€‚è™½ç„¶æŒ‘æˆ˜è€…ä¼—å¤šï¼Œä½†ä½ æ‹¥æœ‰åœ°åˆ©ä¼˜åŠ¿ã€‚åšå®šä½ çš„ä¿¡å¿µï¼Œåˆ’æ¸…åº•çº¿ã€‚'
        },
        'Eight of Wands (æƒæ–å…«)': {
            meaning: 'é€Ÿåº¦ã€è¡ŒåŠ¨ã€æ¶ˆæ¯ã€æ—…è¡Œ',
            past: 'è¿‡å»ï¼šäº‹æƒ…è¿›å±•å¾—éå¸¸å¿«ï¼Œä½ ç»å†äº†å¿«é€Ÿçš„å˜åŒ–å’Œè¡ŒåŠ¨ã€‚',
            present: 'ç°åœ¨ï¼šäº‹æƒ…è¿›å±•å¾—éå¸¸å¿«ï¼Œæ¶ˆæ¯ã€æ—…è¡Œæˆ–è¡ŒåŠ¨å¦‚ç®­åœ¨å¼¦ã€‚è¿™æ˜¯ä¸€ä¸ª"åŠ é€Ÿ"çš„é˜¶æ®µï¼Œæ²¡æœ‰é˜»ç¢ã€‚',
            future: 'æœªæ¥ï¼šå¿«é€Ÿçš„å˜åŒ–å’Œè¡ŒåŠ¨å°†ç»§ç»­ï¼Œæ–°çš„æœºä¼šå°†è¿…é€Ÿå‡ºç°ã€‚',
            advice: 'é¡ºåŠ¿è€Œä¸ºï¼Œè·Ÿéšè¿™è‚¡å¿«é€ŸæµåŠ¨çš„èƒ½é‡ã€‚ç°åœ¨ä¸æ˜¯çŠ¹è±«çš„æ—¶å€™ï¼Œè¿…é€Ÿè¡ŒåŠ¨ï¼ŒæŠ“ä½ç¨çºµå³é€çš„æœºä¼šã€‚'
        },
        'Nine of Wands (æƒæ–ä¹)': {
            meaning: 'åšæŒã€é˜²å¾¡ã€ç–²æƒ«ã€ä¸´è¿‘èƒœåˆ©',
            past: 'è¿‡å»ï¼šä½ ç»å†äº†ä¸€åœºæˆ˜æ–—ï¼Œè™½ç„¶ç–²æƒ«ä½†ä¾ç„¶åšæŒäº†ä¸‹æ¥ã€‚',
            present: 'ç°åœ¨ï¼šä½ åˆšåˆšç»å†äº†ä¸€åœºæˆ˜æ–—ï¼Œè™½ç„¶å—ä¼¤ä½†ä¾ç„¶ç«™ç«‹ã€‚è¿™æ˜¯é»æ˜å‰çš„æœ€åä¸€é“é˜²çº¿ï¼Œä¹Ÿæ˜¯æœ€ç–²æƒ«çš„æ—¶åˆ»ã€‚',
            future: 'æœªæ¥ï¼šèƒœåˆ©å°±åœ¨çœ¼å‰ï¼Œä½ çš„åšæŒå°†å¾—åˆ°å›æŠ¥ã€‚',
            advice: 'ä½ æ¯”ä½ æƒ³è±¡çš„æ›´åšå¼ºã€‚åªè¦å†åšæŒä¸€ä¸‹ï¼Œå°±èƒ½å®ˆä½é˜µåœ°ã€‚ä¸è¦æ”¾å¼ƒï¼Œèƒœåˆ©å°±åœ¨çœ¼å‰ã€‚'
        },
        'Ten of Wands (æƒæ–å)': {
            meaning: 'è´Ÿæ‹…ã€è´£ä»»ã€å‹åŠ›ã€è¿‡åº¦åŠ³ç´¯',
            past: 'è¿‡å»ï¼šä½ æ‰¿æ‹…äº†è¿‡å¤šçš„è´£ä»»å’Œé‡æ‹…ï¼Œæ„Ÿåˆ°å‹åŠ›é‡é‡ã€‚',
            present: 'ç°åœ¨ï¼šä½ æ‰¿æ‹…äº†è¿‡å¤šçš„è´£ä»»å’Œé‡æ‹…ã€‚è™½ç„¶ä½ åœ¨å‰è¿›ï¼Œä½†æ­¥ä¼æ²‰é‡ï¼Œè§†çº¿è¢«æ€€é‡Œçš„æœ¨æ£æŒ¡ä½ï¼Œçœ‹ä¸æ¸…å‰æ–¹ã€‚',
            future: 'æœªæ¥ï¼šä½ å°†å­¦ä¼šæ”¾ä¸‹ä¸€äº›è´Ÿæ‹…ï¼Œæ‰¾åˆ°æ›´å¹³è¡¡çš„ç”Ÿæ´»æ–¹å¼ã€‚',
            advice: 'æ”¾ä¸‹ä¸€äº›ä¸å¿…è¦çš„è´Ÿæ‹…ï¼Œæˆ–è€…å­¦ä¼šæˆæƒç»™ä»–äººã€‚ä½ ä¸éœ€è¦ä¸€ä¸ªäººæ‰›ä¸‹æ•´ä¸ªä¸–ç•Œã€‚'
        },
        'Page of Wands (æƒæ–ä¾ä»)': {
            meaning: 'æ¢ç´¢ã€æ´»åŠ›ã€åˆ›æ„ã€æ–°æ¶ˆæ¯',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å……æ»¡äº†æ¢ç´¢ç²¾ç¥å’Œåˆ›æ„ï¼Œå°è¯•äº†è®¸å¤šæ–°çš„äº‹ç‰©ã€‚',
            present: 'ç°åœ¨ï¼šä¸€ä¸ªä»¤äººå…´å¥‹çš„æ¶ˆæ¯æˆ–æ–°å¥‡çš„æƒ³æ³•å‡ºç°ã€‚è¿™ä»£è¡¨æ¢ç´¢ç²¾ç¥ã€å¹´è½»çš„æ´»åŠ›å’Œä¸å—æ‹˜æŸçš„åˆ›æ„ã€‚',
            future: 'æœªæ¥ï¼šæ›´å¤šçš„æ–°æƒ³æ³•å’Œæœºä¼šå°†å‡ºç°ï¼Œä½ å°†ç»§ç»­æ¢ç´¢å’Œæˆé•¿ã€‚',
            advice: 'å»å°è¯•é‚£ä¸ªè®©ä½ å¿ƒè·³åŠ é€Ÿçš„æ–°çˆ±å¥½æˆ–æƒ³æ³•ã€‚ä¸è¦æ‹…å¿ƒç»“æœï¼Œäº«å—æ¢ç´¢è¿‡ç¨‹ä¸­çš„ä¹è¶£ã€‚'
        },
        'Knight of Wands (æƒæ–éª‘å£«)': {
            meaning: 'è¡ŒåŠ¨ã€æ—…è¡Œã€æ¿€æƒ…ã€å†²åŠ¨',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»çªç„¶é‡‡å–è¡ŒåŠ¨ï¼Œç»å†äº†å¿«é€Ÿçš„å˜åŒ–å’Œæ—…è¡Œã€‚',
            present: 'ç°åœ¨ï¼šçªå¦‚å…¶æ¥çš„è¡ŒåŠ¨ã€æ—…è¡Œæˆ–å˜åŠ¨ã€‚è¿™è‚¡èƒ½é‡çƒ­çƒˆã€å†²åŠ¨ç”šè‡³æœ‰äº›é²è½ã€‚',
            future: 'æœªæ¥ï¼šæ›´å¤šçš„è¡ŒåŠ¨å’Œå˜åŒ–å°†åˆ°æ¥ï¼Œä½ çš„æ¿€æƒ…å°†å¼•é¢†ä½ èµ°å‘æ–°çš„é¢†åŸŸã€‚',
            advice: 'è¡ŒåŠ¨èµ·æ¥ï¼å±•ç¤ºä½ çš„çƒ­æƒ…ã€‚ä½†è¦æ³¨æ„æ§åˆ¶ä½ çš„å†²åŠ¨ï¼Œç¡®ä¿ä½ åœ¨å¥”è·‘å‰çœ‹æ¸…äº†æ–¹å‘ã€‚'
        },
        'Queen of Wands (æƒæ–ç‹å)': {
            meaning: 'è‡ªä¿¡ã€é­…åŠ›ã€ç‹¬ç«‹ã€çƒ­æƒ…',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å±•ç°äº†è‡ªä¿¡å’Œé­…åŠ›ï¼Œå½±å“äº†å‘¨å›´çš„äººã€‚',
            present: 'ç°åœ¨ï¼šä½ æ•£å‘ç€è‡ªä¿¡ã€é­…åŠ›å’Œç‹¬ç«‹çš„èƒ½é‡ã€‚ä½ åœ¨ç¤¾äº¤åœºåˆå¦‚é±¼å¾—æ°´ï¼Œèƒ½å¤Ÿæ¸©æš–å’Œæ¿€åŠ±å‘¨å›´çš„äººã€‚',
            future: 'æœªæ¥ï¼šä½ çš„å½±å“åŠ›å°†ç»§ç»­æ‰©å¤§ï¼Œä½ å°†æˆä¸ºä»–äººçš„æ¦œæ ·å’Œçµæ„Ÿæ¥æºã€‚',
            advice: 'ç›¸ä¿¡ä½ çš„é­…åŠ›å’Œç›´è§‰ã€‚è¦å‹‡æ•¢åœ°ç«™åœ¨èšå…‰ç¯ä¸‹ã€‚ç”¨ä½ çš„çƒ­æƒ…å»æ„ŸæŸ“ä»–äººï¼Œæˆä¸ºä¼—äººçš„ç„¦ç‚¹ã€‚'
        },
        'King of Wands (æƒæ–å›½ç‹)': {
            meaning: 'é¢†å¯¼åŠ›ã€è¿œè§ã€æ‰§è¡ŒåŠ›ã€åˆ›é€ åŠ›',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å±•ç°äº†å¼ºå¤§çš„é¢†å¯¼åŠ›å’Œåˆ›é€ åŠ›ï¼Œå¸¦é¢†å›¢é˜Ÿå–å¾—äº†æˆåŠŸã€‚',
            present: 'ç°åœ¨ï¼šå…·æœ‰è¿œè§çš„é¢†å¯¼åŠ›ã€‚è¿™æ˜¯ä¸€ä¸ªåˆ›ä¸šè€…ã€é¢†å¯¼è€…æˆ–æœ‰å½±å“åŠ›çš„å½¢è±¡ã€‚ä¸ä»…ä»…æœ‰æƒ³æ³•ï¼Œæ›´æœ‰æ‰§è¡ŒåŠ›ã€‚',
            future: 'æœªæ¥ï¼šä½ çš„é¢†å¯¼èƒ½åŠ›å°†ç»§ç»­å‘å±•ï¼Œä½ å°†å®ç°æ›´å¤§çš„ç›®æ ‡å’Œæ„¿æ™¯ã€‚',
            advice: 'ä»¥æ­¤ä¸ºå¥‘æœºå±•ç°ä½ çš„é¢†å¯¼æ‰èƒ½ã€‚åˆ¶å®šå®è§‚ç­–ç•¥ï¼Œå¸¦é¢†å›¢é˜Ÿå‰è¿›ã€‚åšä¸€ä¸ªæœ‰è¿œè§çš„å¼€æ‹“è€…ã€‚'
        },
        'Ace of Cups (åœ£æ¯ä¸€)': {
            meaning: 'çˆ±ã€æƒ…æ„Ÿã€çµæ„Ÿã€æ–°å¼€å§‹',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»ç»å†äº†æƒ…æ„Ÿçš„æ¶ŒåŠ¨ï¼Œå¼€å§‹äº†ä¸€æ®µæ–°çš„å…³ç³»æˆ–çµæ€§çš„æ—…ç¨‹ã€‚',
            present: 'ç°åœ¨ï¼šæƒ…æ„Ÿçš„æ¶ŒåŠ¨ã€æ–°æ‹æƒ…çš„å¼€å§‹æˆ–çµæ€§çš„è§‰é†’ã€‚è¿™æ˜¯ä¸€ä¸ªå……æ»¡çˆ±ä¸æ…ˆæ‚²çš„å¼€ç«¯ã€‚',
            future: 'æœªæ¥ï¼šæ›´å¤šçš„çˆ±å’Œæƒ…æ„Ÿè¿æ¥å°†åˆ°æ¥ï¼Œä½ çš„å¿ƒçµå°†å¾—åˆ°æ»‹å…»ã€‚',
            advice: 'æ•å¼€å¿ƒæ‰‰å»æ¥å—å’Œç»™äºˆçˆ±ã€‚è¿™æ˜¯ä¸€ä¸ªè¡¨è¾¾æƒ…æ„Ÿã€åŸè°…å’Œé‡æ–°å¼€å§‹çš„ç»ä½³æ—¶æœºã€‚'
        },
        'Two of Cups (åœ£æ¯äºŒ)': {
            meaning: 'ä¼™ä¼´å…³ç³»ã€å’Œè°ã€å¹³ç­‰ã€è¿æ¥',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å»ºç«‹äº†ä¸€æ®µå¹³ç­‰ã€å’Œè°çš„ä¼™ä¼´å…³ç³»ï¼Œæ— è®ºæ˜¯çˆ±æƒ…ã€å‹è°Šè¿˜æ˜¯å•†ä¸šåˆä½œã€‚',
            present: 'ç°åœ¨ï¼šå»ºç«‹ä¸€æ®µå¹³ç­‰ã€å’Œè°çš„ä¼™ä¼´å…³ç³»ã€‚è¿™ä¸ä»…æŒ‡æ‹äººï¼Œä¹ŸæŒ‡çµé­‚ä¼´ä¾£èˆ¬çš„å‹è°Šæˆ–å•†ä¸šåˆä½œã€‚',
            future: 'æœªæ¥ï¼šæ›´å¤šçš„å’Œè°å…³ç³»å°†å‡ºç°ï¼Œä½ çš„ç”Ÿæ´»å°†å……æ»¡çˆ±ä¸æ”¯æŒã€‚',
            advice: 'å¯»æ±‚åˆä½œä¸è¿æ¥ã€‚ç°åœ¨çš„å…³é”®åœ¨äº"äº¤æ¢"ä¸"å¹³è¡¡"ã€‚çœŸè¯šåœ°å¯¹å¾…è¿™æ®µå…³ç³»ã€‚'
        },
        'Three of Cups (åœ£æ¯ä¸‰)': {
            meaning: 'èšä¼šã€å‹è°Šã€å¿«ä¹ã€åº†ç¥',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»ä¸æœ‹å‹ä»¬ä¸€èµ·åº†ç¥ï¼Œäº«å—äº†å¿«ä¹çš„æ—¶å…‰ã€‚',
            present: 'ç°åœ¨ï¼šèšä¼šã€å‹è°Šå’Œå›¢ä½“çš„å¿«ä¹ã€‚è¿™æ˜¯å’Œæœ‹å‹ä»¬ä¸€èµ·åº†ç¥ã€åˆ†äº«å…«å¦å’Œæ¬¢ç¬‘çš„æ—¶åˆ»ã€‚',
            future: 'æœªæ¥ï¼šæ›´å¤šçš„èšä¼šå’Œå¿«ä¹æ—¶å…‰å°†åˆ°æ¥ï¼Œä½ çš„ç¤¾äº¤ç”Ÿæ´»å°†ä¸°å¯Œå¤šå½©ã€‚',
            advice: 'å»å’Œæœ‹å‹èšèšå§ï¼ä¸è¦ç‹¬è‡ªä¸€äººã€‚åˆ†äº«ä½ çš„å¿«ä¹ï¼Œå®ƒä¼šæˆå€å¢åŠ ã€‚'
        },
        'Four of Cups (åœ£æ¯å››)': {
            meaning: 'ä¸æ»¡ã€å†·æ¼ ã€æ²‰æ€ã€é”™è¿‡æœºä¼š',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å¯¹ç°æœ‰çš„é€‰æ‹©æ„Ÿåˆ°åŒå€¦æˆ–ä¸æ»¡è¶³ï¼Œç”šè‡³å¿½ç•¥äº†çœ¼å‰çš„æœºä¼šã€‚',
            present: 'ç°åœ¨ï¼šä½ å¯¹ç°æœ‰çš„é€‰æ‹©æ„Ÿåˆ°åŒå€¦æˆ–ä¸æ»¡è¶³ï¼Œç”šè‡³å¿½ç•¥äº†çœ¼å‰é€’æ¥çš„æ–°æœºä¼šã€‚è¿™æ˜¯ä¸€ç§åœæ»çš„çŠ¶æ€ã€‚',
            future: 'æœªæ¥ï¼šä½ å°†å¼€å§‹é‡æ–°å®¡è§†è‡ªå·±çš„é€‰æ‹©ï¼Œå‘ç°æ–°çš„æœºä¼šå’Œå¯èƒ½æ€§ã€‚',
            advice: 'å®¡è§†ä½ çš„å†·æ¼ ã€‚ä½ æ˜¯åœ¨ä¿æŠ¤è‡ªå·±ï¼Œè¿˜æ˜¯é”™è¿‡äº†è‰¯æœºï¼ŸæŠ¬èµ·å¤´æ¥çœ‹çœ‹ï¼Œæˆ–è®¸æƒŠå–œå°±åœ¨çœ¼å‰ã€‚'
        },
        'Five of Cups (åœ£æ¯äº”)': {
            meaning: 'å¤±è½ã€æ‚²ä¼¤ã€é—æ†¾ã€å¤±æœ›',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»ç»å†äº†å¤±è½å’Œæ‚²ä¼¤ï¼Œäº‹æƒ…æ²¡æœ‰æŒ‰é¢„æœŸå‘å±•ã€‚',
            present: 'ç°åœ¨ï¼šä½ æ­£ç»å†å¤±è½ã€æ‚²ä¼¤æˆ–é—æ†¾ã€‚äº‹æƒ…æ²¡æœ‰æŒ‰é¢„æœŸå‘å±•ï¼Œä½ ä¸“æ³¨äºå·²ç»æ‰“ç¿»çš„ç‰›å¥¶ã€‚',
            future: 'æœªæ¥ï¼šä½ å°†å­¦ä¼šæ”¾ä¸‹è¿‡å»çš„é—æ†¾ï¼Œçœ‹åˆ°ä»ç„¶å­˜åœ¨çš„å¸Œæœ›å’Œæœºä¼šã€‚',
            advice: 'å“€æ‚¼æ˜¯å¿…è¦çš„ï¼Œä½†ä¸è¦æ°¸è¿œåœç•™åœ¨é‚£é‡Œã€‚è½¬è¿‡èº«å»ï¼Œçœ‹çœ‹ä½ èº«åé‚£ä¸¤ä¸ªä¾ç„¶ç«‹ç€çš„æ¯å­ï¼ˆå¸Œæœ›å’Œæ”¯æŒï¼‰ã€‚'
        },
        'Six of Cups (åœ£æ¯å…­)': {
            meaning: 'æ€€æ—§ã€çº¯çœŸã€å›å¿†ã€ç¤¼ç‰©',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»ç»å†äº†ç¾å¥½çš„å›å¿†ï¼Œæ„Ÿå—åˆ°äº†ç«¥å¹´çš„çº¯çœŸå’Œæ¸©æš–ã€‚',
            present: 'ç°åœ¨ï¼šè¿‡å»çš„å›å¿†ã€ç«¥å¹´çš„çº¯çœŸã€æ—§çˆ±é‡é€¢æˆ–æ¥è‡ªè¿‡å»çš„ç¤¼ç‰©ã€‚è¿™æ˜¯ä¸€ç§æ¸©é¦¨ã€æ€€æ—§çš„æ°›å›´ã€‚',
            future: 'æœªæ¥ï¼šç¾å¥½çš„å›å¿†å°†ç»§ç»­æ»‹å…»ä½ ï¼Œæ–°çš„æœºä¼šå’Œç¤¼ç‰©å°†åˆ°æ¥ã€‚',
            advice: 'ä»è¿‡å»æ±²å–åŠ›é‡ï¼Œä½†ä¸è¦æ²‰æººå…¶ä¸­ã€‚ç”¨å­©ç«¥èˆ¬çš„å–„æ„å»å¯¹å¾…ç°åœ¨çš„äººå’Œäº‹ã€‚'
        },
        'Seven of Cups (åœ£æ¯ä¸ƒ)': {
            meaning: 'é€‰æ‹©ã€å¹»æƒ³ã€ç™½æ—¥æ¢¦ã€ä¸åˆ‡å®é™…',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»é¢ä¸´å¤ªå¤šçš„é€‰æ‹©ï¼Œæœ‰äº›å¯èƒ½åªæ˜¯å¹»è±¡ï¼Œè®©ä½ æ„Ÿåˆ°è¿·èŒ«ã€‚',
            present: 'ç°åœ¨ï¼šé¢ä¸´å¤ªå¤šçš„é€‰æ‹©ï¼Œä½†å¾ˆå¤šå¯èƒ½åªæ˜¯å¹»è±¡ã€‚è¿™æ˜¯ç™½æ—¥æ¢¦ã€å¹»æƒ³å’Œä¸åˆ‡å®é™…çš„æœŸæœ›ã€‚',
            future: 'æœªæ¥ï¼šä½ å°†å­¦ä¼šåŒºåˆ†ç°å®å’Œå¹»æƒ³ï¼Œåšå‡ºæ˜æ™ºçš„é€‰æ‹©ã€‚',
            advice: 'å¹¶éæ‰€æœ‰é—ªé—ªå‘å…‰çš„éƒ½æ˜¯é‡‘å­ã€‚åœæ­¢ç©ºæƒ³ï¼Œä¸“æ³¨äºä¸€ä¸ªåˆ‡å®å¯è¡Œçš„ç›®æ ‡ã€‚åšå‡ºé€‰æ‹©ï¼Œå“ªæ€•è¿™æ„å‘³ç€æ”¾å¼ƒå…¶ä»–ã€‚'
        },
        'Eight of Cups (åœ£æ¯å…«)': {
            meaning: 'ç¦»å¼€ã€å¯»æ‰¾ã€çµé­‚æ¢ç´¢ã€æ”¾å¼ƒ',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»ä¸»åŠ¨ç¦»å¼€ä¸€ä¸ªä¸å†èƒ½æ»‹å…»ä½ çš„ç¯å¢ƒï¼Œå»å¯»æ‰¾æ›´é«˜çš„æ„ä¹‰ã€‚',
            present: 'ç°åœ¨ï¼šä¸»åŠ¨ç¦»å¼€ä¸€ä¸ªä¸å†èƒ½æ»‹å…»ä½ çš„ç¯å¢ƒã€‚è™½ç„¶æœ‰äº›ä¸œè¥¿è¿˜ä¸é”™ï¼Œä½†ä½ è¿½æ±‚æ›´é«˜çš„æ„ä¹‰ï¼Œé€‰æ‹©åœ¨æœˆå¤œç¦»å¼€ã€‚',
            future: 'æœªæ¥ï¼šä½ çš„å¯»æ‰¾å°†å¸¦æ¥æ–°çš„å‘ç°å’Œæˆé•¿ï¼Œä½ å°†æ‰¾åˆ°æ›´æœ‰æ„ä¹‰çš„æ–¹å‘ã€‚',
            advice: 'å¬ä»å†…å¿ƒå¯»æ‰¾çœŸç†çš„å‘¼å”¤ã€‚æœ‰æ—¶å€™ï¼Œç¦»å¼€æ˜¯å¯»æ‰¾çœŸæ­£çš„è‡ªå·±çš„å¿…ç»ä¹‹è·¯ã€‚'
        },
        'Nine of Cups (åœ£æ¯ä¹)': {
            meaning: 'æ»¡è¶³ã€äº«ä¹ã€æ„¿æœ›è¾¾æˆã€ä¸ªäººæˆå°±',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å®ç°äº†è‡ªå·±çš„æ„¿æœ›ï¼Œæ„Ÿåˆ°æ»¡è¶³å’Œå¿«ä¹ã€‚',
            present: 'ç°åœ¨ï¼šæ„¿æœ›è¾¾æˆï¼è¿™è¢«ç§°ä¸º"è®¸æ„¿ç‰Œ"ã€‚ä»£è¡¨ç€æ»¡è¶³ã€äº«ä¹ã€æ„Ÿå®˜çš„èˆ’é€‚å’Œä¸ªäººæˆå°±ã€‚',
            future: 'æœªæ¥ï¼šæ›´å¤šçš„æ„¿æœ›å°†å®ç°ï¼Œä½ çš„ç”Ÿæ´»å°†å……æ»¡å¿«ä¹å’Œæ»¡è¶³ã€‚',
            advice: 'äº«å—ä½ çš„å¥½è¿æ°”å’Œæˆæœã€‚è¿™æ˜¯ä½ åº”å¾—çš„å¿«ä¹ã€‚ä½†ä¹Ÿåˆ«å¿˜äº†ï¼Œè¿‡åº¦çš„è‡ªæˆ‘æ”¾çºµå¯èƒ½ä¼šå¯¼è‡´åœæ»ã€‚'
        },
        'Ten of Cups (åœ£æ¯å)': {
            meaning: 'å®¶åº­å¹¸ç¦ã€æƒ…æ„Ÿåœ†æ»¡ã€å’Œè°ã€å½’å±æ„Ÿ',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»ç»å†äº†å®¶åº­çš„å¹¸ç¦å’Œæƒ…æ„Ÿçš„åœ†æ»¡ï¼Œæ„Ÿå—åˆ°äº†æ·±æ·±çš„å½’å±æ„Ÿã€‚',
            present: 'ç°åœ¨ï¼šå®¶åº­å¹¸ç¦ã€æƒ…æ„Ÿåœ†æ»¡çš„å¤§ç»“å±€ã€‚ä»£è¡¨ç€é•¿ä¹…çš„å’Œè°ã€å®¶åº­å’Œç¦ä»¥åŠæƒ…æ„Ÿä¸Šçš„ç»ˆæå½’å®¿ã€‚',
            future: 'æœªæ¥ï¼šä½ çš„å®¶åº­å’Œæƒ…æ„Ÿç”Ÿæ´»å°†ç»§ç»­ä¿æŒå’Œè°ä¸å¹¸ç¦ï¼Œæ–°çš„ç¾å¥½å°†ä¸æ–­æ¶Œç°ã€‚',
            advice: 'çæƒœèº«è¾¹çš„äº²å¯†å…³ç³»ã€‚å»ºç«‹æˆ–ç»´æŠ¤ä½ çš„å®¶åº­çº½å¸¦ã€‚å¹¸ç¦ä¸ä»…æ˜¯ä¸ªäººçš„ï¼Œæ›´æ˜¯å…±äº«çš„ã€‚'
        },
        'Page of Cups (åœ£æ¯ä¾ä»)': {
            meaning: 'ç›´è§‰ã€æ¢¦å¢ƒã€æ•æ„Ÿã€æ¸©æŸ”',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å……æ»¡äº†ç›´è§‰å’Œæ¢¦å¢ƒï¼Œå±•ç°äº†æ•æ„Ÿå’Œæ¸©æŸ”çš„ä¸€é¢ã€‚',
            present: 'ç°åœ¨ï¼šä¸€ä¸ªæ–°çš„æƒ…æ„Ÿè®¯æ¯ã€ç›´è§‰çš„é—ªç°æˆ–ä¸€æ®µæµªæ¼«çš„å¼€å§‹ã€‚å¸¸å¸¸ä»£è¡¨å¯Œæœ‰æƒ³è±¡åŠ›ã€æ•æ„Ÿçš„å¹´è½»äººã€‚',
            future: 'æœªæ¥ï¼šä½ çš„ç›´è§‰å’Œæ¢¦å¢ƒå°†ç»§ç»­ä¸ºä½ æŒ‡å¼•æ–¹å‘ï¼Œæ–°çš„æƒ…æ„Ÿæœºä¼šå°†å‡ºç°ã€‚',
            advice: 'å¯¹ä½ çš„ç›´è§‰å’Œæ¢¦å¢ƒä¿æŒå¼€æ”¾ã€‚ä¸è¦å®³æ€•å±•éœ²ä½ çš„è„†å¼±æˆ–"å¤©çœŸ"çš„ä¸€é¢ã€‚'
        },
        'Knight of Cups (åœ£æ¯éª‘å£«)': {
            meaning: 'æµªæ¼«ã€æ±‚çˆ±ã€è‰ºæœ¯ã€ç†æƒ³ä¸»ä¹‰',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»ç»å†äº†æµªæ¼«çš„æ±‚çˆ±æˆ–è‰ºæœ¯çµæ„Ÿçš„çˆ†å‘ï¼Œå±•ç°äº†ç†æƒ³ä¸»ä¹‰çš„ä¸€é¢ã€‚',
            present: 'ç°åœ¨ï¼šæµªæ¼«çš„æ±‚çˆ±ã€é‚€è¯·æˆ–è‰ºæœ¯çµæ„Ÿçš„åˆ°æ¥ã€‚è¿™æ˜¯ä¸€ä½è¯—äººã€æ¢¦æƒ³å®¶æˆ–æµªæ¼«çš„æƒ…äººã€‚',
            future: 'æœªæ¥ï¼šæ›´å¤šçš„æµªæ¼«å’Œè‰ºæœ¯çµæ„Ÿå°†åˆ°æ¥ï¼Œä½ çš„ç”Ÿæ´»å°†å……æ»¡ç¾å’Œæ¿€æƒ…ã€‚',
            advice: 'è·Ÿéšä½ çš„å¿ƒï¼Œå»è¿½æ±‚ä½ çˆ±çš„äººæˆ–äº‹ã€‚ä½†ä¹Ÿè¯·æ³¨æ„ï¼Œä¸è¦åªæ²‰è¿·äºæµªæ¼«çš„è¡¨è±¡è€Œå¿½ç•¥äº†ç°å®ã€‚'
        },
        'Queen of Cups (åœ£æ¯ç‹å)': {
            meaning: 'åŒç†å¿ƒã€ç›´è§‰ã€æ²»æ„ˆã€æƒ…æ„Ÿæ·±åº¦',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å±•ç°äº†é«˜åº¦çš„åŒç†å¿ƒå’Œç›´è§‰åŠ›ï¼Œç”¨ä½ çš„æ¸©æŸ”æ²»æ„ˆäº†è‡ªå·±å’Œä»–äººã€‚',
            present: 'ç°åœ¨ï¼šä¸€ä½å…·æœ‰é«˜åº¦åŒç†å¿ƒã€ç›´è§‰åŠ›å’Œæ²»æ„ˆåŠ›çš„äººã€‚ä»£è¡¨æƒ…æ„Ÿçš„æ·±åº¦å’Œæ½œæ„è¯†çš„è¿æ¥ã€‚',
            future: 'æœªæ¥ï¼šä½ çš„æ²»æ„ˆèƒ½åŠ›å°†ç»§ç»­å‘å±•ï¼Œä½ å°†æˆä¸ºä»–äººçš„å¿ƒçµå¯¼å¸ˆå’Œæ”¯æŒè€…ã€‚',
            advice: 'ä¿¡ä»»ä½ çš„ç›´è§‰ã€‚ç”¨ä½ çš„æ¸©æŸ”å»æ²»æ„ˆè‡ªå·±å’Œä»–äººã€‚åœ¨è¿™ä¸ªå–§åš£çš„ä¸–ç•Œé‡Œï¼Œä¿æŒå†…å¿ƒçš„å®é™ã€‚'
        },
        'King of Cups (åœ£æ¯å›½ç‹)': {
            meaning: 'æƒ…æ„Ÿæˆç†Ÿã€å®½å®¹ã€ç¨³é‡ã€å¹³è¡¡',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å±•ç°äº†æƒ…æ„Ÿçš„æˆç†Ÿå’Œç¨³é‡ï¼Œåœ¨é£æµªä¸­ä¿æŒäº†æƒ…ç»ªçš„å¹³è¡¡ã€‚',
            present: 'ç°åœ¨ï¼šæƒ…æ„Ÿæˆç†Ÿã€å®½å®¹ä¸”ç¨³é‡ã€‚ä»£è¡¨èƒ½å¤Ÿåœ¨é£æµªä¸­ä¿æŒæƒ…ç»ªç¨³å®šçš„é¢†å¯¼è€…æˆ–å’¨è¯¢å¸ˆã€‚',
            future: 'æœªæ¥ï¼šä½ çš„æƒ…æ„Ÿæˆç†Ÿåº¦å°†ç»§ç»­æé«˜ï¼Œä½ å°†æˆä¸ºä»–äººçš„æ¦œæ ·å’ŒæŒ‡å¯¼è€…ã€‚',
            advice: 'åœ¨å¤„ç†é—®é¢˜æ—¶ï¼Œä¿æŒæƒ…ç»ªçš„å¹³è¡¡ã€‚æ—¢è¦æœ‰äººæƒ…å‘³ï¼Œåˆè¦ä¿æŒå¤§å±€è§‚ã€‚åšä¸€ä¸ªæƒ…ç»ªç¨³å®šçš„æˆå¹´äººã€‚'
        },
        'Ace of Swords (å®å‰‘ä¸€)': {
            meaning: 'çœŸç›¸ã€æ¸…æ™°ã€æ–°æƒ³æ³•ã€çªç ´',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»ç»å†äº†æ€ç»´çš„æ¸…æ™°æ—¶åˆ»ï¼Œè·å¾—äº†çªç ´æ€§çš„çœŸç›¸æˆ–æƒ³æ³•ã€‚',
            present: 'ç°åœ¨ï¼šä¸€ä¸ªæ–°çš„æƒ³æ³•ã€çªç ´æ€§çš„çœŸç›¸æˆ–æ€ç»´çš„æ¸…æ™°æ—¶åˆ»ã€‚è¿™æŠŠå‰‘èƒ½æ–©æ–­ç–‘æƒ‘ï¼Œå¸¦æ¥ç»å¯¹çš„çœŸç†ã€‚',
            future: 'æœªæ¥ï¼šæ›´å¤šçš„æ¸…æ™°å’ŒçœŸç›¸å°†åˆ°æ¥ï¼Œä½ çš„æ€ç»´å°†æ›´åŠ æ•é”å’Œæœ‰æ´å¯ŸåŠ›ã€‚',
            advice: 'è¿ç”¨ä½ çš„ç†æ™ºå’Œé€»è¾‘ã€‚ç°åœ¨æ˜¯åšå†³å®šå’Œæ–©æ–­ä¹±éº»çš„æœ€ä½³æ—¶æœºã€‚ä¿æŒå®¢è§‚ï¼Œç›´å‡»è¦å®³ã€‚'
        },
        'Two of Swords (å®å‰‘äºŒ)': {
            meaning: 'åƒµå±€ã€é€‰æ‹©ã€å›é¿ã€å¹³è¡¡',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»é™·å…¥äº†åƒµå±€ï¼Œé¢ä¸´ä¸¤ä¸ªéš¾ä»¥æŠ‰æ‹©çš„é€‰é¡¹ï¼Œè¯•å›¾é€šè¿‡å°é—­è‡ªå·±æ¥å›é¿åšå‡ºå†³å®šã€‚',
            present: 'ç°åœ¨ï¼šä½ é™·å…¥äº†åƒµå±€ï¼Œé¢ä¸´ä¸¤ä¸ªéš¾ä»¥æŠ‰æ‹©çš„é€‰é¡¹ã€‚ä½ è¯•å›¾é€šè¿‡å°é—­è‡ªå·±æ¥å›é¿åšå‡ºå†³å®šã€‚',
            future: 'æœªæ¥ï¼šä½ å°†å­¦ä¼šé¢å¯¹ç°å®ï¼Œåšå‡ºæ˜æ™ºçš„é€‰æ‹©ï¼Œæ‰“ç ´åƒµå±€ã€‚',
            advice: 'é€ƒé¿å†³å®šæœ¬èº«å°±æ˜¯ä¸€ç§å†³å®šã€‚æ‘˜ä¸‹çœ¼ç½©ï¼Œç›´é¢äº‹å®ã€‚åªæœ‰åšå‡ºé€‰æ‹©ï¼ˆå³ä½¿æ˜¯ç—›è‹¦çš„ï¼‰ï¼Œèƒ½é‡æ‰èƒ½é‡æ–°æµåŠ¨ã€‚'
        },
        'Three of Swords (å®å‰‘ä¸‰)': {
            meaning: 'å¿ƒç¢ã€èƒŒå›ã€åˆ†ç¦»ã€ç—›è‹¦',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»ç»å†äº†å¿ƒç¢ã€èƒŒå›æˆ–åˆ†ç¦»ï¼Œæ„Ÿå—åˆ°äº†ç—›è‹¦çš„æ»‹å‘³ã€‚',
            present: 'ç°åœ¨ï¼šå¿ƒç¢ã€èƒŒå›ã€åˆ†ç¦»æˆ–ç—›è‹¦çš„è¨€è¯­ã€‚è¿™æ˜¯ä¸€å¼ ä»£è¡¨æƒ…æ„Ÿåˆ›ä¼¤å’Œæ‰å¿ƒçœŸç›¸çš„ç‰Œã€‚',
            future: 'æœªæ¥ï¼šä½ å°†å­¦ä¼šç–—æ„ˆå’Œæ”¾ä¸‹ï¼Œä»ç—›è‹¦ä¸­æˆé•¿ï¼Œå˜å¾—æ›´åŠ åšå¼ºã€‚',
            advice: 'æ¥å—ç—›è‹¦æ˜¯ç–—æ„ˆçš„ä¸€éƒ¨åˆ†ã€‚ä¸è¦å‹æŠ‘æ‚²ä¼¤ï¼Œè®©çœ¼æ³ªæµå‡ºæ¥ã€‚è¿™åªæ˜¯æš‚æ—¶çš„é˜´é›¨å¤©ã€‚'
        },
        'Four of Swords (å®å‰‘å››)': {
            meaning: 'ä¼‘æ¯ã€ç–—å…»ã€å†¥æƒ³ã€æ’¤é€€',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»åœ¨ç»å†å‹åŠ›åï¼Œéœ€è¦ä¸€æ®µç»å¯¹çš„ä¼‘æ¯æ—¶é—´æ¥æ¢å¤ã€‚',
            present: 'ç°åœ¨ï¼šä¼‘æˆ˜ã€ç–—å…»ã€å†¥æƒ³æˆ–æš‚æ—¶çš„æ’¤é€€ã€‚åœ¨ç»å†å‹åŠ›åï¼Œä½ éœ€è¦ä¸€æ®µç»å¯¹çš„ä¼‘æ¯æ—¶é—´ã€‚',
            future: 'æœªæ¥ï¼šä½ çš„ä¼‘æ¯å°†å¸¦æ¥æ¢å¤å’Œæ–°çš„åŠ›é‡ï¼Œä½ å°†ä»¥æ›´å¥½çš„çŠ¶æ€é¢å¯¹æŒ‘æˆ˜ã€‚',
            advice: 'ç«‹åˆ»åœä¸‹æ¥ä¼‘æ¯ã€‚å¦‚æœç°åœ¨ä¸ä¸»åŠ¨ä¼‘æ¯ï¼Œèº«ä½“å¯èƒ½ä¼šè¿«ä½¿ä½ ä¼‘æ¯ã€‚åº·å¤å’Œåæ€æ˜¯å½“åŠ¡ä¹‹æ€¥ã€‚'
        },
        'Five of Swords (å®å‰‘äº”)': {
            meaning: 'èƒœåˆ©ã€å†²çªã€æ•Œæ„ã€ç©ºè™š',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»èµ¢å¾—äº†ä¸€åœºäº‰è®ºæˆ–æ–—äº‰ï¼Œä½†å¤±å»äº†äººå¿ƒï¼Œæ„Ÿåˆ°ç©ºè™šå’Œå­¤ç‹¬ã€‚',
            present: 'ç°åœ¨ï¼šä¸€åœºç©ºè™šçš„èƒœåˆ©ã€‚è™½ç„¶ä½ èµ¢äº†äº‰è®ºæˆ–æ–—äº‰ï¼Œä½†å¤±å»äº†äººå¿ƒã€‚å……æ»¡æ•Œæ„ã€èƒŒå›å’Œä¸è®¡åæœçš„é‡å¿ƒã€‚',
            future: 'æœªæ¥ï¼šä½ å°†å­¦ä¼šåœ¨ç«äº‰ä¸­ä¿æŒäººæ€§ï¼Œå¯»æ‰¾æ›´æœ‰æ„ä¹‰çš„èƒœåˆ©æ–¹å¼ã€‚',
            advice: 'é—®é—®è‡ªå·±ï¼š"èµ¢å¾—è¿™åœºäº‰è®ºçœŸçš„å€¼å¾—å—ï¼Ÿ"æœ‰æ—¶å€™ï¼Œä¸ºäº†å’Œå¹³è€Œé€€è®©æ˜¯æ›´é«˜é˜¶çš„æ™ºæ…§ã€‚'
        },
        'Six of Swords (å®å‰‘å…­)': {
            meaning: 'è¿‡æ¸¡ã€æ—…è¡Œã€æ²»æ„ˆã€ç¦»å¼€',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»ä»åŠ¨è¡çš„æ°´åŸŸé©¶å‘å¹³é™ï¼Œç»å†äº†ä¸€æ®µè¿‡æ¸¡æœŸã€‚',
            present: 'ç°åœ¨ï¼šæ­£åœ¨ä»åŠ¨è¡çš„æ°´åŸŸé©¶å‘å¹³é™ã€‚è¿™æ˜¯ä¸€æ®µè¿‡æ¸¡æœŸï¼Œå¸¦ç€æ²‰é‡çš„è¡Œæç¦»å¼€ä¼¤å¿ƒåœ°ã€‚',
            future: 'æœªæ¥ï¼šä½ å°†åˆ°è¾¾å¹³é™çš„å½¼å²¸ï¼Œå¼€å§‹æ–°çš„ç”Ÿæ´»ï¼Œä¼¤å£å°†é€æ¸æ„ˆåˆã€‚',
            advice: 'æ¥å—å¸®åŠ©ï¼Œç¦»å¼€è®©ä½ ç—›è‹¦çš„ç¯å¢ƒæˆ–å¿ƒæ€ã€‚è™½ç„¶å‰è·¯æœªçŸ¥ï¼Œä½†å¿…é¡»å‘å‰çœ‹ï¼Œä¸è¦å›å¤´ã€‚'
        },
        'Seven of Swords (å®å‰‘ä¸ƒ)': {
            meaning: 'ç­–ç•¥ã€éšç§˜ã€æ¬ºéª—ã€æ·å¾„',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»è¯•å›¾é€šè¿‡éšç§˜è¡ŒåŠ¨æˆ–èµ°æ·å¾„æ¥è§£å†³é—®é¢˜ï¼Œå¯èƒ½é¢ä¸´äº†ä¿¡ä»»å±æœºã€‚',
            present: 'ç°åœ¨ï¼šç­–ç•¥ã€éšç§˜è¡ŒåŠ¨ã€æ¬ºéª—æˆ–é€ƒé¿ã€‚æœ‰äººè¯•å›¾åœ¨ä¸è¢«å‘ç°çš„æƒ…å†µä¸‹æ‹¿èµ°ä¸œè¥¿ï¼Œæˆ–é€šè¿‡èµ°æ·å¾„è§£å†³é—®é¢˜ã€‚',
            future: 'æœªæ¥ï¼šä½ å°†å­¦ä¼šè¯šå®å’Œç›´æ¥åœ°é¢å¯¹é—®é¢˜ï¼Œå»ºç«‹çœŸæ­£çš„ä¿¡ä»»å’ŒæˆåŠŸã€‚',
            advice: 'è¿ç”¨æœºæ™ºå’Œç­–ç•¥æ˜¯å¥½çš„ï¼Œä½†è¦è­¦æƒ•æ¬ºéª—è¡Œä¸ºï¼ˆæ— è®ºæ˜¯éª—åˆ«äººè¿˜æ˜¯éª—è‡ªå·±ï¼‰ã€‚æœ‰äº›æ·å¾„æœ€ç»ˆæ˜¯æ­»èƒ¡åŒã€‚'
        },
        'Eight of Swords (å®å‰‘å…«)': {
            meaning: 'é™åˆ¶ã€ææƒ§ã€è¢«å›°ã€è‡ªæˆ‘è®¾é™',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»æ„Ÿåˆ°è¢«å›°ä½ã€å—é™åˆ¶ï¼Œè¢«è‡ªå·±çš„æ¶ˆææ€æƒ³å’Œææƒ§æ‰€å›šç¦ã€‚',
            present: 'ç°åœ¨ï¼šæ„Ÿè§‰è¢«å›°ä½ã€å—é™åˆ¶ï¼Œå››å‘¨éƒ½æ˜¯å±æœºã€‚ä½†å¦‚æœä¸çœ‹æ†ç»‘ï¼Œä½ ä¼šå‘ç°åŒè„šå¹¶æ²¡æœ‰è¢«ç»‘ä½ã€‚',
            future: 'æœªæ¥ï¼šä½ å°†å­¦ä¼šçªç ´è‡ªæˆ‘è®¾é™ï¼Œå‘ç°è‡ªå·±çš„è‡ªç”±å’Œèƒ½åŠ›ã€‚',
            advice: 'é™åˆ¶å¤šåŠæ˜¯è‡ªæˆ‘å¼ºåŠ çš„ã€‚çå¼€çœ¼ç›ï¼Œä½ å®Œå…¨æœ‰èƒ½åŠ›èµ°å‡ºå›°å¢ƒã€‚æ”¹å˜ä½ çš„æ€ç»´æ¨¡å¼ï¼Œä½ å°±è‡ªç”±äº†ã€‚'
        },
        'Nine of Swords (å®å‰‘ä¹)': {
            meaning: 'ç„¦è™‘ã€å™©æ¢¦ã€å¤±çœ ã€ç²¾ç¥å‹åŠ›',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»åœ¨æ·±å¤œè¢«å¿§è™‘åå™¬ï¼Œç»å†äº†å¤±çœ å’Œå™©æ¢¦ï¼Œæ„Ÿå—åˆ°äº†æåº¦çš„ç²¾ç¥å‹åŠ›ã€‚',
            present: 'ç°åœ¨ï¼šå¤±çœ ã€å™©æ¢¦ã€ç„¦è™‘å’Œæåº¦çš„ç²¾ç¥å‹åŠ›ã€‚ä½ åœ¨æ·±å¤œè¢«å¿§è™‘åå™¬ï¼Œé—®é¢˜åœ¨è„‘æµ·ä¸­è¢«æ— é™æ”¾å¤§ã€‚',
            future: 'æœªæ¥ï¼šä½ å°†å­¦ä¼šç®¡ç†ç„¦è™‘ï¼Œæ‰¾åˆ°å†…å¿ƒçš„å¹³é™å’Œå®‰å…¨æ„Ÿã€‚',
            advice: 'ä½ æ‰€æ‹…å¿ƒçš„æœ€åæƒ…å†µå¤§å‡ ç‡ä¸ä¼šå‘ç”Ÿã€‚æ‰¾äººå€¾è¯‰ä½ çš„ææƒ§ï¼Œæ·±å‘¼å¸ã€‚è¿™æ˜¯é»æ˜å‰æœ€é»‘æš—çš„æ—¶åˆ»ã€‚'
        },
        'Ten of Swords (å®å‰‘å)': {
            meaning: 'å¤±è´¥ã€èƒŒå›ã€ç»“æŸã€è°·åº•',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»ç»å†äº†å½»åº•çš„å¤±è´¥æˆ–ç»“æŸï¼Œæ„Ÿåˆ°è¢«æ‰“å€’åœ¨åœ°æ— æ³•ç¿»èº«ã€‚',
            present: 'ç°åœ¨ï¼šå½»åº•çš„å¤±è´¥ã€èƒŒå›æˆ–ç»“æŸã€‚å·²ç»æ˜¯è°·åº•äº†ï¼Œä¸å¯èƒ½æ›´åäº†ã€‚è¿™æ˜¯ä¸€ç§æˆå‰§æ€§çš„ã€ç—›è‹¦çš„ç»ˆç»“ã€‚',
            future: 'æœªæ¥ï¼šæ—¢ç„¶å·²ç»åˆ°äº†è°·åº•ï¼Œå”¯ä¸€çš„æ–¹å‘å°±æ˜¯å‘ä¸Šã€‚ä½ å°†ç»å†é‡ç”Ÿå’Œæ–°çš„å¼€å§‹ã€‚',
            advice: 'æ—¢ç„¶å·²ç»åˆ°äº†è°·åº•ï¼Œå”¯ä¸€çš„æ–¹å‘å°±æ˜¯å‘ä¸Šã€‚æ¥å—ç»“æŸï¼Œè™½ç„¶ç—›è‹¦ï¼Œä½†è¿™æ ‡å¿—ç€é»æ˜çš„åˆ°æ¥ã€‚'
        },
        'Page of Swords (å®å‰‘ä¾ä»)': {
            meaning: 'æ¶ˆæ¯ã€å¥½å¥‡å¿ƒã€ä¾¦æ¢ã€è­¦è§‰',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å……æ»¡äº†å¥½å¥‡å¿ƒï¼Œåƒä¾¦æ¢ä¸€æ ·æŒ–æ˜çœŸç›¸ï¼Œè·å¾—äº†æ–°çš„æ¶ˆæ¯å’ŒçŸ¥è¯†ã€‚',
            present: 'ç°åœ¨ï¼šæ–°çš„æ¶ˆæ¯ã€å…«å¦ã€å¥½å¥‡å¿ƒæˆ–éœ€è¦è­¦æƒ•çš„æƒ…å†µã€‚ä»£è¡¨æ•æ·çš„æ€ç»´å’Œæ±‚çŸ¥æ¬²ã€‚',
            future: 'æœªæ¥ï¼šæ›´å¤šçš„æ¶ˆæ¯å’ŒçŸ¥è¯†å°†åˆ°æ¥ï¼Œä½ çš„æ€ç»´å°†æ›´åŠ æ•æ·å’Œæœ‰æ´å¯ŸåŠ›ã€‚',
            advice: 'ä¿æŒè­¦è§‰ï¼Œè¿ç”¨ä½ çš„æ™ºæ…§ã€‚ä½†åœ¨æ²Ÿé€šæ—¶è¦æ³¨æ„åˆ†å¯¸ï¼Œä¸è¦ä»…ä»…ä¸ºäº†æ˜¾å¾—èªæ˜è€Œä¼¤äººã€‚'
        },
        'Knight of Swords (å®å‰‘éª‘å£«)': {
            meaning: 'è¡ŒåŠ¨ã€å†³æ–­ã€é€»è¾‘ã€æ¿€è¿›',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å¸¦ç€å¼ºå¤§çš„é€»è¾‘å’Œå†³æ–­åŠ›å†²å…¥æˆ˜åœºï¼Œé‡‡å–äº†æ¿€è¿›çš„è¡ŒåŠ¨ã€‚',
            present: 'ç°åœ¨ï¼šæ¿€è¿›çš„è¡ŒåŠ¨ã€å¿«é€Ÿçš„å˜åŒ–ã€‚å¸¦ç€å¼ºå¤§çš„é€»è¾‘å’Œå†³æ–­åŠ›å†²å…¥æˆ˜åœºï¼Œä½†ä¹Ÿå¯èƒ½æ˜¾å¾—å†·é…·æ— æƒ…ã€‚',
            future: 'æœªæ¥ï¼šä½ çš„è¡ŒåŠ¨å°†å¸¦æ¥å¿«é€Ÿçš„å˜åŒ–å’Œç»“æœï¼Œä½ å°†å­¦ä¼šåœ¨é€Ÿåº¦å’Œç»†èŠ‚ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ã€‚',
            advice: 'æœæ–­è¡ŒåŠ¨ï¼Œç›´å‡»é—®é¢˜æ ¸å¿ƒã€‚ä½†è¦å°å¿ƒä¸è¦å› ä¸ºå†²å¾—å¤ªå¿«è€Œå¿½è§†äº†ç»†èŠ‚æˆ–ä»–äººçš„æ„Ÿå—ã€‚'
        },
        'Queen of Swords (å®å‰‘ç‹å)': {
            meaning: 'ç‹¬ç«‹ã€ç†æ™ºã€ç›´è¨€ã€åšå¼º',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å±•ç°äº†ç‹¬ç«‹å’Œç†æ™ºçš„ä¸€é¢ï¼Œç»å†è¿‡æ‚²ä¼¤åå˜å¾—åšå¼ºä¸”ä¸å†å¤©çœŸã€‚',
            present: 'ç°åœ¨ï¼šä¸€ä½ç‹¬ç«‹ã€ç†æ™ºã€ç›´è¨€ä¸è®³çš„å¥³æ€§å½¢è±¡ã€‚å¥¹ç»å†è¿‡æ‚²ä¼¤ï¼Œå› æ­¤å˜å¾—åšå¼ºä¸”ä¸å†å¤©çœŸã€‚',
            future: 'æœªæ¥ï¼šä½ çš„ç‹¬ç«‹æ€§å’Œç†æ™ºå°†ç»§ç»­å‘å±•ï¼Œä½ å°†æˆä¸ºä»–äººçš„æ¦œæ ·å’ŒæŒ‡å¯¼è€…ã€‚',
            advice: 'ç”¨ç†æ™ºæ¥åˆ‡å‰²æ··ä¹±ã€‚ä¿æŒå®¢è§‚å’Œå…¬æ­£ï¼Œä¸è¦å®³æ€•è¯´å‡ºé€†è€³çš„çœŸç›¸ã€‚ä½ çš„æ™ºæ…§æ¥è‡ªä½ çš„ç»å†ã€‚'
        },
        'King of Swords (å®å‰‘å›½ç‹)': {
            meaning: 'æƒå¨ã€åˆ¤æ–­ã€æ³•å¾‹ã€é€»è¾‘',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å±•ç°äº†æƒå¨çš„åˆ¤æ–­å’Œé€»è¾‘æ€ç»´ï¼Œåšå‡ºäº†å…¬æ­£çš„å†³å®šã€‚',
            present: 'ç°åœ¨ï¼šæƒå¨çš„åˆ¤æ–­ã€æ³•å¾‹ã€é€»è¾‘å’Œé«˜æ ‡å‡†çš„é“å¾·ã€‚ä»£è¡¨ç€ä¸“ä¸šçš„å»ºè®®æˆ–ä¸¥å‰çš„å†³ç­–è€…ã€‚',
            future: 'æœªæ¥ï¼šä½ çš„æƒå¨å’Œåˆ¤æ–­åŠ›å°†ç»§ç»­å‘å±•ï¼Œä½ å°†æˆä¸ºä»–äººçš„é¢†å¯¼è€…å’Œé¡¾é—®ã€‚',
            advice: 'ç°åœ¨éœ€è¦çš„æ˜¯å†·é™çš„å¤´è„‘å’Œå…¬æ­£çš„å†³æ–­ã€‚æ‘’å¼ƒæƒ…æ„Ÿå¹²æ‰°ï¼ŒåŸºäºäº‹å®å’Œé€»è¾‘æ¥åšå†³å®šã€‚'
        },
        'Ace of Pentacles (æ˜Ÿå¸ä¸€)': {
            meaning: 'æ–°æœºä¼šã€è´¢å¯Œã€å¥åº·ã€ç‰©è´¨',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»è·å¾—äº†ä¸€ä¸ªæ–°çš„ç‰©è´¨æœºä¼šï¼Œæ¯”å¦‚ä¸€ä»½æ–°å·¥ä½œã€ä¸€ç¬”é’±æˆ–å¥åº·çš„å¼€å§‹ã€‚',
            present: 'ç°åœ¨ï¼šä¸€ä¸ªæ–°çš„ç‰©è´¨æœºä¼šã€ä¸€ç¬”é’±ã€ä¸€ä»½æ–°å·¥ä½œæˆ–å¥åº·çš„å¼€å§‹ã€‚è¿™æ˜¯å®å®åœ¨åœ¨çš„ç¤¼ç‰©ã€‚',
            future: 'æœªæ¥ï¼šæ›´å¤šçš„ç‰©è´¨æœºä¼šå°†åˆ°æ¥ï¼Œä½ çš„ç”Ÿæ´»å°†å˜å¾—æ›´åŠ å¯Œè¶³å’Œç¨³å®šã€‚',
            advice: 'è¿™æ˜¯ä¸€ä¸ªæ˜¾åŒ–æ„¿æœ›çš„ç»ä½³æœºä¼šã€‚æŠŠå®ƒå½“ä½œä¸€é¢—ç§å­ï¼Œç”¨å¿ƒæµ‡çŒï¼Œå®ƒä¼šå¸¦æ¥ä¸°åšçš„å›æŠ¥ã€‚'
        },
        'Two of Pentacles (æ˜Ÿå¸äºŒ)': {
            meaning: 'å¹³è¡¡ã€å¿™ç¢Œã€çµæ´»ã€æ”¶æ”¯',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»åœ¨å¿™ç¢Œä¸­ä¿æŒå¹³è¡¡ï¼ŒåŒæ—¶å¤„ç†å¤šé‡ä»»åŠ¡æˆ–æ”¶æ”¯ã€‚',
            present: 'ç°åœ¨ï¼šåœ¨å¿™ç¢Œä¸­ä¿æŒå¹³è¡¡ã€‚ä½ å¯èƒ½åœ¨åŒæ—¶å¤„ç†ä¸¤ä»½å·¥ä½œã€æ”¶æ”¯å¹³è¡¡æˆ–åº”å¯¹å¤šé‡ä»»åŠ¡ã€‚ç”Ÿæ´»å……æ»¡äº†èµ·ä¼ã€‚',
            future: 'æœªæ¥ï¼šä½ å°†å­¦ä¼šæ›´å¥½åœ°å¹³è¡¡ç”Ÿæ´»çš„å„ä¸ªæ–¹é¢ï¼Œå˜å¾—æ›´åŠ çµæ´»å’Œé€‚åº”æ€§å¼ºã€‚',
            advice: 'ä¿æŒçµæ´»å’Œé€‚åº”æ€§ã€‚ä¸è¦æŠŠäº‹æƒ…çœ‹å¾—å¤ªæ­»æ¿ã€‚åƒç©æ‚è€ä¸€æ ·ï¼Œæ‰¾åˆ°é‚£ä¸ªåŠ¨æ€çš„å¹³è¡¡ç‚¹ã€‚'
        },
        'Three of Pentacles (æ˜Ÿå¸ä¸‰)': {
            meaning: 'å›¢é˜Ÿåˆä½œã€ä¸“ä¸šã€æŠ€èƒ½ã€è®¤å¯',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»é€šè¿‡å›¢é˜Ÿåˆä½œå±•ç¤ºäº†ä¸“ä¸šæŠ€èƒ½ï¼Œè·å¾—äº†åˆæ­¥çš„è®¤å¯ã€‚',
            present: 'ç°åœ¨ï¼šå›¢é˜Ÿåˆä½œã€ä¸“ä¸šæŠ€èƒ½å’Œåˆæ­¥çš„è®¤å¯ã€‚è¿™å…³ä¹å»ºé€ ã€è®¡åˆ’å’Œå„å¸å…¶èŒçš„åä½œã€‚',
            future: 'æœªæ¥ï¼šä½ çš„ä¸“ä¸šæŠ€èƒ½å°†ç»§ç»­å‘å±•ï¼Œå›¢é˜Ÿåˆä½œå°†å¸¦æ¥æ›´å¤§çš„æˆåŠŸå’Œè®¤å¯ã€‚',
            advice: 'å•æ‰“ç‹¬æ–—ä¸å¦‚å›¢é˜Ÿåˆä½œã€‚å±•ç¤ºä½ çš„ä¸“ä¸šæŠ€èƒ½ï¼ŒåŒæ—¶è™šå¿ƒå¬å–ä»–äººçš„å»ºè®®ã€‚æŠŠäº‹æƒ…åšç²¾åšç»†ã€‚'
        },
        'Four of Pentacles (æ˜Ÿå¸å››)': {
            meaning: 'å®ˆè´¢ã€å›ºæ‰§ã€æ§åˆ¶ã€å®‰å…¨æ„Ÿ',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»ç´§ç´§æŠ“ä½ä½ æ‹¥æœ‰çš„ä¸œè¥¿ï¼Œä¸ºäº†å®‰å…¨æ„Ÿè€Œå˜å¾—åå•¬å’Œæ§åˆ¶æ¬²å¼ºã€‚',
            present: 'ç°åœ¨ï¼šå®ˆè´¢ã€å›ºæ‰§ã€ä¸æ„¿æ„æ”¹å˜æˆ–åˆ†äº«ã€‚ä½ åœ¨ç´§ç´§æŠ“ä½ä½ æ‹¥æœ‰çš„ä¸œè¥¿ï¼ˆé’±ã€åœ°ä½æˆ–æƒ…æ„Ÿï¼‰ã€‚',
            future: 'æœªæ¥ï¼šä½ å°†å­¦ä¼šæ”¾æ‰‹å’Œåˆ†äº«ï¼Œå‘ç°çœŸæ­£çš„å®‰å…¨æ„Ÿæ¥è‡ªå†…å¿ƒçš„å¯Œè¶³ã€‚',
            advice: 'é‡‘é’±å’Œèƒ½é‡ä¸€æ ·ï¼Œéœ€è¦æµåŠ¨æ‰èƒ½å¸¦æ¥ä»·å€¼ã€‚è¯•ç€æ”¾æ¾ä½ çš„æ§åˆ¶ï¼Œåªæœ‰æ”¾æ‰‹ï¼Œæ‰‹æ‰èƒ½è…¾å‡ºæ¥æ¥çº³æ–°äº‹ç‰©ã€‚'
        },
        'Five of Pentacles (æ˜Ÿå¸äº”)': {
            meaning: 'è´«ç©·ã€ç–¾ç—…ã€æ’æ–¥ã€è‰°éš¾',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»ç»å†äº†ç‰©è´¨ä¸Šçš„åŒ®ä¹æˆ–èº«ä½“ä¸Šçš„ä¸é€‚ï¼Œæ„Ÿåˆ°è¢«é—å¼ƒå’Œå­¤ç‹¬ã€‚',
            present: 'ç°åœ¨ï¼šè´«ç©·ã€ç–¾ç—…ã€è¢«æ’æ–¥æˆ–è‰°éš¾æ—¶åˆ»ã€‚è¿™é€šå¸¸æŒ‡ç‰©è´¨ä¸Šçš„åŒ®ä¹æˆ–èº«ä½“ä¸Šçš„ä¸é€‚ã€‚',
            future: 'æœªæ¥ï¼šä½ å°†èµ°å‡ºå›°å¢ƒï¼Œæ‰¾åˆ°å¸Œæœ›å’Œå¸®åŠ©ï¼Œç”Ÿæ´»å°†é€æ¸å¥½è½¬ã€‚',
            advice: 'ä¸è¦ç‹¬è‡ªæ‰¿æ‹…è‹¦éš¾ã€‚å¯»æ±‚å¸®åŠ©å¹¶ä¸ä¸¢äººã€‚è¿™åªæ˜¯æš‚æ—¶çš„å›°å¢ƒï¼Œä¿æŒç²¾ç¥çš„å¸Œæœ›æ˜¯åº¦è¿‡éš¾å…³çš„å…³é”®ã€‚'
        },
        'Six of Pentacles (æ˜Ÿå¸å…­)': {
            meaning: 'ç»™äºˆã€æ¥å—ã€æ…ˆå–„ã€å…¬å¹³',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»åœ¨ç»™äºˆå’Œæ¥å—ä¹‹é—´æ‰¾åˆ°äº†å¹³è¡¡ï¼Œå¯èƒ½æ˜¯ä½œä¸ºæ…ˆå–„è€…æˆ–æ¥å—èµ„åŠ©è€…ã€‚',
            present: 'ç°åœ¨ï¼šç»™äºˆä¸æ¥å—ã€‚æ…ˆå–„ã€æ…·æ…¨è§£å›Šæˆ–è·å¾—èµ„åŠ©ã€‚è¿™å…³ä¹èµ„æºçš„å…¬å¹³åˆ†é…ã€‚',
            future: 'æœªæ¥ï¼šæ›´å¤šçš„ç»™äºˆå’Œæ¥å—å°†å‡ºç°ï¼Œä½ çš„ç”Ÿæ´»å°†å……æ»¡çˆ±ä¸æ”¯æŒã€‚',
            advice: 'å¦‚æœä½ æœ‰èƒ½åŠ›ï¼Œå°±æ…·æ…¨åˆ†äº«ï¼›å¦‚æœä½ éœ€è¦å¸®åŠ©ï¼Œå°±å¤§æ–¹æ¥å—ã€‚èƒ½é‡çš„å¾ªç¯æ˜¯å®‡å®™çš„æ³•åˆ™ã€‚'
        },
        'Seven of Pentacles (æ˜Ÿå¸ä¸ƒ)': {
            meaning: 'è¯„ä¼°ã€ç­‰å¾…ã€åæ€ã€æ”¶è·',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»åœ¨åŠªåŠ›å·¥ä½œåï¼Œåœä¸‹æ¥è¯„ä¼°æˆæœï¼Œæ€è€ƒæœªæ¥çš„æ–¹å‘ã€‚',
            present: 'ç°åœ¨ï¼šæš‚åœã€è¯„ä¼°å’Œç­‰å¾…æ”¶æˆã€‚ä½ å·²ç»åŠªåŠ›å·¥ä½œäº†ä¸€æ®µæ—¶é—´ï¼Œç°åœ¨åœä¸‹æ¥çœ‹çœ‹æˆæœæ˜¯å¦ç¬¦åˆé¢„æœŸã€‚',
            future: 'æœªæ¥ï¼šä½ çš„ç­‰å¾…å°†å¼€å§‹æ”¶è·ï¼Œæ–°çš„æœºä¼šå’Œæ–¹å‘å°†å‡ºç°ã€‚',
            advice: 'è€å¿ƒæ˜¯å…³é”®ã€‚æ¤ç‰©ç”Ÿé•¿éœ€è¦æ—¶é—´ã€‚åˆ©ç”¨è¿™æ®µæ—¶é—´åæ€ä½ çš„é•¿è¿œç›®æ ‡ï¼Œç¡®ä¿æ¢¯å­æ­åœ¨äº†æ­£ç¡®çš„å¢™ä¸Šã€‚'
        },
        'Eight of Pentacles (æ˜Ÿå¸å…«)': {
            meaning: 'ä¸“æ³¨ã€å·¥åŒ ç²¾ç¥ã€ç»ƒä¹ ã€æŠ€èƒ½æå‡',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»åŸ‹å¤´è‹¦å¹²ï¼Œç²¾ç›Šæ±‚ç²¾ï¼Œä¸“æ³¨äºæŠ€èƒ½çš„æå‡ã€‚',
            present: 'ç°åœ¨ï¼šä¸“æ³¨ã€å·¥åŒ ç²¾ç¥ã€é‡å¤çš„ç»ƒä¹ å’ŒæŠ€èƒ½æå‡ã€‚è¿™æ˜¯åŸ‹å¤´è‹¦å¹²ã€ç²¾ç›Šæ±‚ç²¾çš„é˜¶æ®µã€‚',
            future: 'æœªæ¥ï¼šä½ çš„åŠªåŠ›å°†å¸¦æ¥ä¸“ä¸šæŠ€èƒ½çš„æå‡å’ŒæˆåŠŸï¼Œä½ å°†æˆä¸ºè¡Œä¸šçš„ä¸“å®¶ã€‚',
            advice: 'åªæœ‰é€šè¿‡æ—¥å¤ä¸€æ—¥çš„åŠªåŠ›ï¼Œæ‰èƒ½æˆä¸ºå¤§å¸ˆã€‚ä¸“æ³¨äºç»†èŠ‚ï¼Œæ‰“ç£¨ä½ çš„æŠ€è‰ºã€‚åŠªåŠ›ä¼šæœ‰å›æŠ¥çš„ã€‚'
        },
        'Nine of Pentacles (æ˜Ÿå¸ä¹)': {
            meaning: 'å¯Œè¶³ã€ä¼˜é›…ã€ç‹¬ç«‹ã€äº«å—',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»äº«å—äº†è‡ªå¾‹å¸¦æ¥çš„è‡ªç”±å’Œå¯Œè¶³ï¼Œæ„Ÿåˆ°è‡ªä¿¡å’Œå®‰å…¨ã€‚',
            present: 'ç°åœ¨ï¼šå¯Œè¶³ã€ä¼˜é›…ã€ç‹¬ç«‹å’Œäº«å—ç”Ÿæ´»ã€‚ä½ ç«™åœ¨è‡ªå·±çš„èŠ±å›­é‡Œï¼Œäº«å—ç€è‡ªå¾‹å¸¦æ¥çš„è‡ªç”±ã€‚',
            future: 'æœªæ¥ï¼šä½ å°†ç»§ç»­äº«å—ç”Ÿæ´»çš„å¯Œè¶³å’Œä¼˜é›…ï¼Œæˆä¸ºä»–äººçš„æ¦œæ ·ã€‚',
            advice: 'è¿™æ˜¯æ”¶è·çš„å­£èŠ‚ã€‚å–„å¾…è‡ªå·±ï¼Œäº«å—å¥¢åå’Œç¾ã€‚ä½ å·²ç»èµ¢å¾—äº†äº«å—è¿™ä¸€åˆ‡çš„æƒåˆ©ã€‚'
        },
        'Ten of Pentacles (æ˜Ÿå¸å)': {
            meaning: 'ä¸°ç››ã€ç¨³å®šã€å®¶åº­ã€ä¼ æ‰¿',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å»ºç«‹äº†ç‰©è´¨å±‚é¢çš„æå¤§ä¸°ç››å’Œç¨³å®šï¼Œå…³æ³¨å®¶åº­çš„ç¦ç¥‰å’Œä¼ æ‰¿ã€‚',
            present: 'ç°åœ¨ï¼šç‰©è´¨å±‚é¢çš„æå¤§ä¸°ç››å’Œç¨³å®šã€‚è¿™é€šå¸¸å…³ä¹å®¶åº­è´¢å¯Œã€é•¿æœŸæŠ•èµ„çš„æˆåŠŸæˆ–ç¨³å›ºçš„åŸºç¡€ã€‚',
            future: 'æœªæ¥ï¼šä½ çš„ä¸°ç››å°†ç»§ç»­å¢é•¿ï¼Œå®¶åº­å°†æ›´åŠ å’Œè°ï¼Œä½ å°†å¼€å§‹è€ƒè™‘å¦‚ä½•å°†è¿™ä»½ä¸°ç››ä¼ æ‰¿ä¸‹å»ã€‚',
            advice: 'çæƒœä½ æ‰€å»ºç«‹çš„ç¨³å›ºåŸºç¡€ã€‚è€ƒè™‘å¦‚ä½•å°†è¿™ä»½ä¸°ç››ä¼ æ‰¿ä¸‹å»ï¼Œæˆ–åˆ†äº«ç»™ä½ çš„ç¤¾ç¾¤ã€‚'
        },
        'Page of Pentacles (æ˜Ÿå¸ä¾ä»)': {
            meaning: 'å­¦ä¹ ã€å‹¤å¥‹ã€åŠ¡å®ã€æ–°æŠ€èƒ½',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»æ˜¯ä¸€ä¸ªå‹¤å¥‹çš„å­¦ç”Ÿï¼Œä¸“æ³¨äºå­¦ä¹ æ–°çŸ¥è¯†å’ŒæŠ€èƒ½ã€‚',
            present: 'ç°åœ¨ï¼šä¸€ä¸ªæ–°çš„å­¦ä¹ æœºä¼šã€å¥–å­¦é‡‘æˆ–å¼€å§‹ä¸€é¡¹æ–°æŠ€èƒ½ã€‚ä»£è¡¨ç€å‹¤å¥‹çš„å­¦ç”Ÿå’ŒåŠ¡å®çš„æ€åº¦ã€‚',
            future: 'æœªæ¥ï¼šä½ çš„å­¦ä¹ å°†å¸¦æ¥æ–°çš„æœºä¼šå’Œæˆé•¿ï¼Œä½ å°†æˆä¸ºä¸€ä¸ªæ›´åŠ ä¸“ä¸šå’ŒåŠ¡å®çš„äººã€‚',
            advice: 'ä¿æŒè°¦è™šï¼Œè®¤çœŸå­¦ä¹ ã€‚å“ªæ€•è¿›å±•ç¼“æ…¢ï¼Œåªè¦åŸºç¡€æ‰“å¾—ç‰¢ï¼Œæœªæ¥ä¸å¯é™é‡ã€‚'
        },
        'Knight of Pentacles (æ˜Ÿå¸éª‘å£«)': {
            meaning: 'å¯é ã€å‹¤å¥‹ã€ç¨³æ­¥ã€åŠ¡å®',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å±•ç°äº†å¯é å’Œå‹¤å¥‹çš„ä¸€é¢ï¼Œç¨³æ­¥å‰è¿›ï¼Œä¸ç›¸ä¿¡è¿æ°”åªç›¸ä¿¡åŠªåŠ›ã€‚',
            present: 'ç°åœ¨ï¼šç¨³æ­¥å‰è¿›ã€å¯é ã€å‹¤å¥‹ä½†å¯èƒ½æœ‰ç‚¹æ¯ç‡¥ã€‚è¿™æ˜¯æœ€åŠ¡å®ã€æœ€å€¼å¾—ä¿¡èµ–çš„éª‘å£«ã€‚',
            future: 'æœªæ¥ï¼šä½ çš„å¯é å’Œå‹¤å¥‹å°†å¸¦æ¥ç¨³å®šçš„æˆåŠŸï¼Œä½ å°†æˆä¸ºä»–äººçš„æ¦œæ ·å’Œä¾é ã€‚',
            advice: 'åƒä¹Œé¾Ÿèµ›è·‘ä¸€æ ·ï¼ŒåšæŒåˆ°åº•å°±æ˜¯èƒœåˆ©ã€‚åˆ¶å®šè®¡åˆ’å¹¶ä¸¥æ ¼æ‰§è¡Œã€‚å¯é æ¯”é€Ÿåº¦æ›´é‡è¦ã€‚'
        },
        'Queen of Pentacles (æ˜Ÿå¸ç‹å)': {
            meaning: 'åŠ¡å®ã€æ»‹å…»ã€ç†è´¢ã€ç…§é¡¾',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»å±•ç°äº†åŠ¡å®å’Œæ»‹å…»çš„ä¸€é¢ï¼Œæ“…é•¿ç†è´¢å’Œç…§é¡¾å®¶åº­ã€‚',
            present: 'ç°åœ¨ï¼šåŠ¡å®ã€æ»‹å…»ã€æ“…é•¿ç†è´¢å’Œç…§é¡¾å®¶åº­çš„å¥³æ€§å½¢è±¡ã€‚å¥¹èƒ½å°†ç”Ÿæ´»æ‰“ç†å¾—äº•äº•æœ‰æ¡ä¸”èˆ’é€‚ã€‚',
            future: 'æœªæ¥ï¼šä½ çš„ç†è´¢èƒ½åŠ›å’Œç…§é¡¾èƒ½åŠ›å°†ç»§ç»­å‘å±•ï¼Œä½ çš„ç”Ÿæ´»å°†æ›´åŠ èˆ’é€‚å’Œå¯Œè¶³ã€‚',
            advice: 'ä¿æŒåŠ¡å®ï¼Œç…§é¡¾å¥½ä½ çš„èº«ä½“å’Œè´¢åŠ¡çŠ¶å†µã€‚ç”¨å®é™…è¡ŒåŠ¨å»å…³çˆ±ä»–äººï¼Œåˆ›é€ ä¸€ä¸ªèˆ’é€‚çš„ç¯å¢ƒã€‚'
        },
        'King of Pentacles (æ˜Ÿå¸å›½ç‹)': {
            meaning: 'å•†ä¸šæˆåŠŸã€è´¢å¯Œã€æŠ•èµ„ã€é¢†å¯¼åŠ›',
            past: 'è¿‡å»ï¼šä½ æ›¾ç»åœ¨ç‰©è´¨ä¸–ç•Œå–å¾—äº†å·¨å¤§çš„æˆåŠŸï¼Œå±•ç°äº†ç²¾æ˜çš„æŠ•èµ„çœ¼å…‰å’Œé¢†å¯¼åŠ›ã€‚',
            present: 'ç°åœ¨ï¼šå•†ä¸šæˆåŠŸã€è´¢å¯Œé¡¶å³°ã€ç²¾æ˜çš„æŠ•èµ„è€…ã€‚ä»£è¡¨ç€åœ¨ç‰©è´¨ä¸–ç•Œå–å¾—å·¨å¤§æˆå°±çš„äººã€‚',
            future: 'æœªæ¥ï¼šä½ çš„å•†ä¸šå¸å›½å°†ç»§ç»­æ‰©å¼ ï¼Œè´¢å¯Œå°†æ›´åŠ ä¸°ç››ï¼Œä½ å°†æˆä¸ºè¡Œä¸šçš„é¢†å¯¼è€…ã€‚',
            advice: 'è¿ç”¨ä½ çš„èµ„æºå’Œç»éªŒæ¥åˆ›é€ æ›´å¤§çš„ä»·å€¼ã€‚ä¿æŒç¨³å¥ï¼Œçœ¼å…‰æ”¾é•¿è¿œã€‚ç°åœ¨æ˜¯å»ºç«‹å•†ä¸šå¸å›½çš„æ—¶å€™ã€‚'
        }
    };

    // ===== åŠ è½½txtè¡¥å……åº“ï¼ˆåµŒå…¥å¼æ•°æ®ï¼‰=====
    const supplementaryReadings = {
        '0. The Fool (æ„šè€…)': 'åœ¨å¿ƒç†å­¦è§’åº¦çœ‹ï¼Œæ„šè€…ä»£è¡¨äº†äººç±»çš„åŸå§‹å†²åŠ¨å’Œå¯¹è‡ªç”±çš„æ¸´æœ›ã€‚è¿™å¼ ç‰Œæé†’æˆ‘ä»¬ï¼Œæœ‰æ—¶å€™çœŸæ­£çš„æ™ºæ…§æ¥è‡ªäºæ•¢äºæ”¾ä¸‹ç†æ€§çš„æŸç¼šï¼Œå»è¿½éšå†…å¿ƒçš„å£°éŸ³ã€‚æ¯ä¸€æ®µæ–°çš„å¼€å§‹éƒ½éœ€è¦ä¸€äº›"æ„šè ¢"çš„å‹‡æ°”ã€‚',
        'I. The Magician (é­”æœ¯å¸ˆ)': 'é­”æœ¯å¸ˆçš„çœŸæ­£åŠ›é‡ä¸æ˜¯æ¥è‡ªå¤–éƒ¨ï¼Œè€Œæ˜¯æ¥è‡ªäºå¯¹è‡ªèº«èƒ½åŠ›çš„æ·±åˆ»è®¤çŸ¥å’Œä¿¡å¿ƒã€‚ä»–æ•™ä¼šæˆ‘ä»¬ï¼Œæ¯ä¸ªäººéƒ½æ˜¯è‡ªå·±äººç”Ÿçš„åˆ›é€ è€…ï¼Œåªè¦æˆ‘ä»¬å­¦ä¼šæ•´åˆå’Œè¿ç”¨æ‰‹ä¸­çš„èµ„æºã€‚è¿™éœ€è¦ä¸“æ³¨ã€çºªå¾‹å’ŒæŒç»­çš„ç»ƒä¹ ã€‚',
        'II. The High Priestess (å¥³ç¥­å¸)': 'åœ¨ä¿¡æ¯çˆ†ç‚¸çš„æ—¶ä»£ï¼Œå¥³ç¥­å¸æé†’æˆ‘ä»¬è¦å­¦ä¼šé™å¿ƒå’Œè§‚å¯Ÿã€‚çœŸæ­£çš„çŸ¥è¯†å¾€å¾€éšè—åœ¨è¡¨é¢ä¹‹ä¸‹ï¼Œéœ€è¦æˆ‘ä»¬çš„ç›´è§‰å’Œè€å¿ƒå»å‘ç°ã€‚å¥¹ä»£è¡¨äº†é˜´æ€§èƒ½é‡çš„æ™ºæ…§â€”â€”è¢«åŠ¨çš„æ¥çº³ã€æ·±å±‚çš„ç†è§£ã€ç¥ç§˜çš„åŠ›é‡ã€‚',
        'III. The Empress (çš‡å)': 'çš‡åä¸ä»…ä»£è¡¨æ¯æ€§ï¼Œæ›´ä»£è¡¨äº†è‡ªæˆ‘ä»·å€¼çš„è‚¯å®šå’Œä¸°ç››æ„è¯†çš„å»ºç«‹ã€‚å¥¹å‘Šè¯‰æˆ‘ä»¬ï¼ŒçœŸæ­£çš„åŠ›é‡æ¥è‡ªäºè‡ªæˆ‘çˆ±æŠ¤å’Œè‡ªæˆ‘æ¬£èµã€‚å½“æˆ‘ä»¬æ‡‚å¾—ç…§é¡¾è‡ªå·±æ—¶ï¼Œæˆ‘ä»¬æ‰èƒ½çœŸæ­£åœ°å»å…³çˆ±å’Œæ»‹å…»ä»–äººã€‚ä¸°ç››å§‹äºå†…åœ¨çš„æ»¡è¶³ã€‚',
        'IV. The Emperor (çš‡å¸)': 'çš‡å¸ä»£è¡¨äº†ç»“æ„åŒ–æ€ç»´å’Œçºªå¾‹çš„åŠ›é‡ã€‚åœ¨ç°ä»£ç¤¾ä¼šï¼Œçš‡å¸çš„èƒ½é‡ç‰¹åˆ«é‡è¦â€”â€”å®ƒæé†’æˆ‘ä»¬éœ€è¦æœ‰æ¸…æ™°çš„ç›®æ ‡ã€åšå®šçš„è®¡åˆ’å’Œæœæ•¢çš„è¡ŒåŠ¨ã€‚ä½†åŒæ—¶ï¼Œè¿‡åº¦çš„æ§åˆ¶æ¬²å¯èƒ½å¯¼è‡´å‹åˆ¶å’ŒåƒµåŒ–ï¼Œæ™ºæ…§çš„çš‡å¸çŸ¥é“ä½•æ—¶æ”¾æ¾æŒæ§ã€‚',
        'V. The Hierophant (æ•™çš‡)': 'æ•™çš‡æ˜¯ä¼ ç»Ÿå’Œæ™ºæ…§çš„å®ˆæŠ¤è€…ï¼Œä½†è¿™ä¸æ„å‘³ç€å›ºæ­¥è‡ªå°ã€‚ç°ä»£çš„æ•™çš‡èƒ½é‡æ˜¯å…³äºå»ºç«‹æœ‰æ„ä¹‰çš„æ¡†æ¶å’Œä»·å€¼ä½“ç³»ï¼Œæ— è®ºæ˜¯å®—æ•™çš„ã€ä¼¦ç†çš„è¿˜æ˜¯ä¸ªäººçš„ã€‚ä»–é‚€è¯·æˆ‘ä»¬åœ¨å°Šé‡ä¼ ç»Ÿçš„åŒæ—¶ï¼Œå¯»æ‰¾é€‚åˆå½“ä»£çš„è¡¨è¾¾æ–¹å¼ã€‚',
        'VI. The Lovers (æ‹äºº)': 'æ‹äººç‰Œä¸ä»…å…³äºæµªæ¼«çš„çˆ±æƒ…ï¼Œæ›´å…³ä¹é€‰æ‹©ã€æ‰¿è¯ºå’Œä»·å€¼è§‚çš„åŒé¢‘ã€‚è¿™å¼ ç‰Œæé†’æˆ‘ä»¬ï¼Œæœ€æ·±åˆ»çš„è”ç³»æ¥è‡ªäºçœŸå®çš„å¯¹è¯å’Œç›¸äº’çš„ç†è§£ã€‚å®ƒä¹Ÿä»£è¡¨äº†å†…åœ¨çš„ä¸€è‡´æ€§â€”â€”å½“æˆ‘ä»¬çš„æ€æƒ³ã€è¨€è¯­å’Œè¡ŒåŠ¨ä¿æŒä¸€è‡´æ—¶ï¼Œæˆ‘ä»¬æ‰èƒ½çœŸæ­£åœ°å»çˆ±å’Œè¢«çˆ±ã€‚',
        'VII. The Chariot (æˆ˜è½¦)': 'æˆ˜è½¦æ˜¯æ„å¿—åŠ›å’Œå†³å¿ƒçš„è±¡å¾ã€‚ä½†çœŸæ­£çš„èƒœåˆ©ä¸ä»…éœ€è¦é©¾é©­ï¼Œæ›´éœ€è¦æ–¹å‘å’Œå¹³è¡¡ã€‚ä¸¤åŒ¹é©¬å¿…é¡»åè°ƒä¸€è‡´æ‰èƒ½å‰è¿›ã€‚è¿™æ•™ä¼šæˆ‘ä»¬ï¼ŒæˆåŠŸéœ€è¦æ•´åˆæˆ‘ä»¬çš„å„ç§èƒ½åŠ›å’Œå†²åŠ¨ï¼Œè€Œä¸æ˜¯å‹åˆ¶å®ƒä»¬ã€‚å‰è¿›çš„åŠ›é‡æ¥è‡ªäºå†…éƒ¨çš„å’Œè°ã€‚',
        'VIII. Strength (åŠ›é‡)': 'çœŸæ­£çš„åŠ›é‡ä¸åœ¨äºè‚Œè‚‰æˆ–è›®åŠ›ï¼Œè€Œåœ¨äºå¯¹è‡ªæˆ‘çš„æ·±åˆ»ç†è§£å’Œæ¸©æŸ”çš„åŠ›é‡ã€‚å›¾åƒä¸­çš„å¥³äººç”¨æ¸©æŸ”å»é©¯æœç‹®å­ï¼Œè¿™è±¡å¾äº†é€šè¿‡åŒæƒ…å’Œè€å¿ƒå»æ•´åˆæˆ‘ä»¬å†…å¿ƒçš„é‡æ€§èƒ½é‡ã€‚è¿™æ˜¯ä¸€ç§éœ€è¦æ›´å¤šå‹‡æ°”çš„åŠ›é‡â€”â€”æ—¢ä¸å‹åˆ¶ä¹Ÿä¸çºµå®¹ã€‚',
        'IX. The Hermit (éšå£«)': 'åœ¨ç°ä»£çš„å¿«èŠ‚å¥ç”Ÿæ´»ä¸­ï¼Œéšå£«èƒ½é‡å˜å¾—æ›´åŠ çè´µã€‚è¿™å¼ ç‰Œé‚€è¯·æˆ‘ä»¬å®šæœŸé€€å‡ºç¤¾äº¤æ¼©æ¶¡ï¼Œè¿›è¡Œæ·±åº¦çš„è‡ªæˆ‘åæ€ã€‚éšå£«çš„ç¯ç¬¼ä¸ä»…ç…§äº®äº†ä»–è‡ªå·±çš„è·¯ï¼Œä¹Ÿä¸ºä»–äººæŒ‡å¼•æ–¹å‘ã€‚å†…åœ¨çš„å…‰æ¥è‡ªäºå¯¹è‡ªæˆ‘çš„æ·±åˆ»äº†è§£ã€‚',
        'X. Wheel of Fortune (å‘½è¿ä¹‹è½®)': 'å‘½è¿ä¹‹è½®æé†’æˆ‘ä»¬ï¼Œç”Ÿå‘½æ˜¯å¾ªç¯çš„ã€‚æ²¡æœ‰æ°¸æ’çš„ä¸Šå‡æˆ–ä¸‹é™ï¼Œåªæœ‰ä¸æ–­çš„è½¬å˜ã€‚è¿™å¼ ç‰Œç»™äºˆæˆ‘ä»¬å¸Œæœ›å’Œè°¦å‘â€”â€”å¸Œæœ›åœ¨å›°éš¾æ—¶æœŸï¼Œè°¦å‘åœ¨é¡ºåˆ©æ—¶æœŸã€‚å…³é”®æ˜¯å­¦ä¼šé¡ºåº”å˜åŒ–ï¼Œè€Œä¸æ˜¯æŠ—æ‹’å®ƒã€‚',
        'XI. Justice (æ­£ä¹‰)': 'æ­£ä¹‰ç‰Œæ˜¯å› æœæ³•åˆ™çš„ä½“ç°ã€‚å®ƒæé†’æˆ‘ä»¬æ¯ä¸ªè¡ŒåŠ¨éƒ½æœ‰ç›¸åº”çš„åæœï¼Œæ— è®ºè¿™ä¸ªåæœä½•æ—¶åˆ°æ¥ã€‚åœ¨ç°ä»£ç¤¾ä¼šä¸­ï¼Œæ­£ä¹‰èƒ½é‡ä¹Ÿä»£è¡¨äº†å…¬å¹³æ€§ã€é€æ˜åº¦å’Œè¯šå®çš„æ²Ÿé€šã€‚å®ƒè¦æ±‚æˆ‘ä»¬å¯¹è‡ªå·±çš„é€‰æ‹©è´Ÿè´£ï¼ŒåŒæ—¶ä¹Ÿç»™äºˆæˆ‘ä»¬å¯¹å…¬æ­£çš„ä¿¡å¿ƒã€‚',
        'XII. The Hanged Man (å€’åŠäºº)': 'å€’åŠäººæ˜¯æœ€è¢«è¯¯è§£çš„å¡ç‰Œã€‚ä»–ä¸æ˜¯å—å®³è€…ï¼Œè€Œæ˜¯é€šè¿‡è‡ªæ„¿çš„æš‚åœå’Œä¸åŒçš„è§†è§’æ¥è·å¾—æ™ºæ…§çš„äººã€‚è¿™å¼ ç‰Œåœ¨ç°ä»£ç”Ÿæ´»ä¸­æé†’æˆ‘ä»¬ï¼Œæœ‰æ—¶å€™åœæ­¢å‰è¿›æ¯”ç»§ç»­å‰è¿›æ›´éœ€è¦å‹‡æ°”ã€‚å˜æ¢è§†è§’å¾€å¾€æ¯”æ”¹å˜ç¯å¢ƒæ›´æœ‰åŠ›é‡ã€‚',
        'XIII. Death (æ­»ç¥)': 'æ­»ç¥æ˜¯æœ€å¼ºå¤§çš„è½¬å˜åŠ›é‡ã€‚è™½ç„¶åå­—ä»¤äººææƒ§ï¼Œä½†è¿™å¼ ç‰Œä»£è¡¨çš„æ˜¯è‡ªç„¶çš„èœ•å˜â€”â€”å†¬å¤©ä¹‹åæ˜¯æ˜¥å¤©ï¼Œç»“æŸä¹‹åæ˜¯æ–°ç”Ÿã€‚åœ¨ç°ä»£è¯­å¢ƒä¸­ï¼Œå®ƒå¯ä»¥ä»£è¡¨èŒä¸šçš„è½¬å˜ã€å…³ç³»çš„ç»“æŸæˆ–è‡ªæˆ‘è®¤çŸ¥çš„æ­»äº¡ä¸é‡ç”Ÿã€‚æ‹¥æŠ±å®ƒæ„å‘³ç€ç›¸ä¿¡ç”Ÿå‘½çš„æ°¸æ’å¾ªç¯ã€‚',
        'XIV. Temperance (èŠ‚åˆ¶)': 'èŠ‚åˆ¶ä¸æ˜¯ç¦æ¬²ï¼Œè€Œæ˜¯å¹³è¡¡å’Œèåˆã€‚è¿™å¼ ç‰Œæ•™ä¼šæˆ‘ä»¬å¦‚ä½•å°†ç›¸å¯¹çš„åŠ›é‡è°ƒå’Œåœ¨ä¸€èµ·ï¼Œåˆ›é€ å‡ºå’Œè°çš„ç”Ÿæ´»ã€‚å®ƒåœ¨ç°ä»£ç¤¾ä¼šä¸­ç‰¹åˆ«é‡è¦â€”â€”æ•™ä¼šæˆ‘ä»¬åœ¨å·¥ä½œå’Œç”Ÿæ´»ã€ç†æ€§å’Œæ„Ÿæ€§ã€ç»™äºˆå’Œæ¥æ”¶ä¹‹é—´æ‰¾åˆ°å¹³è¡¡ç‚¹ã€‚',
        'XV. The Devil (æ¶é­”)': 'æ¶é­”ç‰Œé€šå¸¸ä»£è¡¨æˆ‘ä»¬å¯¹è‡ªå·±çš„æŸç¼šå’Œé™åˆ¶ä¿¡å¿µã€‚ä½†è¿™ä¸ª"æ¶é­”"çš„çœŸæ­£åŠ›é‡åœ¨äºâ€”â€”å®ƒæ˜¯æˆ‘ä»¬è‡ªå·±åˆ›é€ çš„ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬ä¹Ÿæœ‰åŠ›é‡å»è§£æ”¾è‡ªå·±ã€‚æ¶é­”é‚€è¯·æˆ‘ä»¬é¢å¯¹æˆ‘ä»¬çš„ææƒ§ã€æ¬²æœ›å’Œè‡ªæˆ‘æ¬ºéª—ï¼Œä»è€Œè·å¾—çœŸæ­£çš„è‡ªç”±ã€‚',
        'XVI. The Tower (é«˜å¡”)': 'é«˜å¡”æ˜¯çªç„¶çš„å¯è’™ã€‚è™½ç„¶è¿™ä¸ªè¿‡ç¨‹å¾€å¾€æ˜¯ç—›è‹¦çš„ï¼Œä½†å®ƒå¸¦æ¥çš„æ¸…æ™°æ˜¯æ— ä»·çš„ã€‚è¿™å¼ ç‰Œåœ¨ç”Ÿæ´»ä¸­å‡ºç°æ—¶ï¼Œæ„å‘³ç€è™šå‡çš„åŸºç¡€æ­£åœ¨åå¡Œï¼Œä¸ºçœŸå®çš„é‡å»ºé“ºå¹³é“è·¯ã€‚ä»æ··ä¹±ä¸­è¯ç”Ÿçš„æ–°ç§©åºå¾€å¾€æ›´åŠ åšå›ºã€‚',
        'XVII. The Star (æ˜Ÿæ˜Ÿ)': 'æ˜Ÿæ˜Ÿæ˜¯å¸Œæœ›çš„å…·ä½“åŒ–ã€‚åœ¨é»‘æš—ä¸­ï¼Œä¸€é¢—æ˜Ÿè¶³ä»¥æŒ‡å¼•æˆ‘ä»¬å‰è¡Œã€‚è¿™å¼ ç‰Œé¼“åŠ±æˆ‘ä»¬è¿½éšæˆ‘ä»¬çš„çœŸå®æ¢¦æƒ³ï¼Œè€Œä¸æ˜¯ç¤¾ä¼šçš„æœŸæœ›ã€‚æ˜Ÿæ˜Ÿä¹Ÿä»£è¡¨äº†çµæ€§çš„è¿æ¥å’Œä¸æ›´å¤§çš„å®‡å®™åŠ›é‡çš„å¯¹é½ã€‚å®ƒæé†’æˆ‘ä»¬ï¼Œæˆ‘ä»¬çš„æ¢¦æƒ³æ˜¯å€¼å¾—çš„ã€‚',
        'XVIII. The Moon (æœˆäº®)': 'æœˆäº®ä»£è¡¨äº†å¿ƒçµå’Œæ½œæ„è¯†çš„é¢†åŸŸã€‚åœ¨æœˆå…‰ä¸‹ï¼ŒçœŸå®å’Œå¹»è§‰çš„ç•Œé™å˜å¾—æ¨¡ç³Šã€‚è¿™å¼ ç‰Œé‚€è¯·æˆ‘ä»¬ç›¸ä¿¡æˆ‘ä»¬çš„ç›´è§‰ï¼ŒåŒæ—¶ä¹Ÿè¦è­¦æƒ•è‡ªæˆ‘æ¬ºéª—ã€‚æ¢¦å¢ƒã€ç›´è§‰å’Œåˆ›æ„åœ¨æœˆäº®çš„èƒ½é‡ä¸­è“¬å‹ƒå‘å±•ï¼Œä½†æˆ‘ä»¬ä¹Ÿéœ€è¦å­¦ä¼šåŒºåˆ†ææƒ§å’ŒçœŸå®çš„è­¦å‘Šã€‚',
        'XIX. The Sun (å¤ªé˜³)': 'å¤ªé˜³æ˜¯æœ€ç§¯æçš„èƒ½é‡ã€‚å®ƒä»£è¡¨äº†æ˜ç¡®çš„æˆåŠŸã€æ¸…æ™°çš„é“è·¯å’Œæ— æ¡ä»¶çš„å–œæ‚¦ã€‚åœ¨ç”Ÿæ´»ä¸­è·å¾—å¤ªé˜³ç‰Œæ„å‘³ç€ä¸€ä¸ªå…‰æ˜çš„æ—¶æœŸåˆ°æ¥ã€‚è¿™æ˜¯å®ç°ã€å¹¸ç¦å’Œç”Ÿå‘½åŠ›çš„æ—¶åˆ»ã€‚å¤ªé˜³ä¹Ÿæé†’æˆ‘ä»¬ï¼Œå³ä½¿åœ¨æœ€é»‘æš—çš„æ—¶åˆ»ï¼Œå…‰çº¿ä¹Ÿæ€»æ˜¯ä¼šå›æ¥çš„ã€‚',
        'XX. Judgement (å®¡åˆ¤)': 'å®¡åˆ¤ä¸æ˜¯å…³äºè¢«è¯„åˆ¤ï¼Œè€Œæ˜¯å…³äºå¬åˆ°å†…åœ¨çš„å‘¼å”¤å¹¶åšå‡ºå›åº”ã€‚è¿™å¼ ç‰Œä»£è¡¨äº†é‡è¦çš„è½¬æŠ˜ç‚¹â€”â€”ä¸€ä¸ªæ¸…æ™°çš„"æ˜¯"æˆ–"å¦"çš„å†³å®šæ—¶åˆ»ã€‚å®ƒä¹Ÿä»£è¡¨äº†å¯¹è¿‡å»çš„è¯„ä¼°å’Œå¯¹æ–°ç« èŠ‚çš„æ‰¿è¯ºã€‚å®¡åˆ¤ç‰Œå‡ºç°æ—¶ï¼Œé€šå¸¸æ„å‘³ç€æˆ‘ä»¬æ­£åœ¨è¢«é‚€è¯·è¿›å…¥ä¸€ä¸ªæ›´é«˜çš„æ„è¯†å±‚æ¬¡ã€‚',
        'XXI. The World (ä¸–ç•Œ)': 'ä¸–ç•Œç‰Œæ˜¯åœ†æ»¡å’Œå®Œæˆã€‚å®ƒä¸æ˜¯ç»“æŸï¼Œè€Œæ˜¯ä¸€ä¸ªå‘¨æœŸçš„å®Œæˆï¼Œä¸ºæ–°å‘¨æœŸçš„å¼€å§‹åšå‡†å¤‡ã€‚è¿™å¼ ç‰Œä»£è¡¨äº†æ•´ä½“æ€§ã€ä¸€ä½“æ„Ÿå’Œé€šè¿‡å®Œæˆä¸€ä¸ªç« èŠ‚è€Œè·å¾—çš„æ™ºæ…§ã€‚ä¸–ç•Œä¹Ÿæ˜¯æ—…ç¨‹â€”â€”å¡”ç½—22å¼ ç‰Œçš„æ—…ç¨‹â€”â€”ä»æ„šè€…çš„æ— çŸ¥åˆ°ä¸–ç•Œçš„å®Œæ•´ç†è§£ã€‚'
    };
    
    function loadSupplementaryReadings() {
        console.log('âœ“ è¡¥å……è§£è¯»åº“å·²åŠ è½½');
        console.log('ğŸ“Š è¡¥å……è§£è¯»ç»Ÿè®¡:', Object.keys(supplementaryReadings).length, 'å¼ å¡ç‰Œ');
    }

    // é»˜è®¤è§£è¯»å‡½æ•° - ä½¿ç”¨æ–‡æ¡ˆåº“ + txtè¡¥å……
    function getDefaultReading(cardInfo) {
        if (!cardInfo || !cardInfo.name) {
            return 'è¯·æ ¹æ®ç‰Œä¹‰è¿›è¡Œé»˜è®¤è§£è¯»ã€‚';
        }

        const library = READING_LIBRARY[cardInfo.name];
        
        if (!library) {
            return `ã€${cardInfo.name}ã€‘\n\næ–‡æ¡ˆåº“ä¸­æš‚æ— è¯¥ç‰Œçš„å®Œæ•´è§£è¯»ï¼Œè¯·ç­‰å¾…è¡¥å……ã€‚`;
        }

        // æ ¹æ®å½“å‰çš„è¯»ç‰Œä½ç½®ï¼ˆè¿‡å»ã€ç°åœ¨ã€æœªæ¥ï¼‰è¿”å›å¯¹åº”çš„è§£è¯»
        const position = currentReadingIndex;
        let reading = '';

        if (position === 0) {
            // ç¬¬ä¸€å¼ ï¼šè¿‡å»
            reading = `ã€${cardInfo.name}ã€‘\n\n${library.past}`;
        } else if (position === 1) {
            // ç¬¬äºŒå¼ ï¼šç°åœ¨
            reading = `ã€${cardInfo.name}ã€‘\n\n${library.present}`;
        } else if (position === 2) {
            // ç¬¬ä¸‰å¼ ï¼šæœªæ¥
            reading = `ã€${cardInfo.name}ã€‘\n\n${library.future}`;
        }

        reading += `\n\nå…³é”®è¯ï¼š${library.meaning}\nå»ºè®®ï¼š${library.advice}`;
        
        // æ·»åŠ txtæ–‡ä»¶ä¸­çš„è¡¥å……å†…å®¹
        if (supplementaryReadings[cardInfo.name]) {
            console.log(`ğŸ” æ‰¾åˆ°è¡¥å……è§£è¯»: ${cardInfo.name}`);
            reading += `\n\nğŸ“š è¡¥å……è§£è¯»ï¼š\n${supplementaryReadings[cardInfo.name]}`;
        } else {
            console.log(`âŒ æœªæ‰¾åˆ°è¡¥å……è§£è¯»: ${cardInfo.name}`, 'å¯ç”¨çš„å¡ç‰Œ:', Object.keys(supplementaryReadings));
        }
        
        return reading;
    }

    // ===== AI è§£ç‰Œé…ç½®ç®¡ç† =====
    // æ¨¡å‹åº“å®šä¹‰
    const API_MODELS = {
        gemini: {
            name: 'Google Gemini',
            baseUrl: 'https://generativelanguage.googleapis.com/v1beta/openai',
            models: [
                { name: 'gemini-1.5-flash-latest', label: 'Gemini 1.5 Flash Latest (æ¨èï¼Œå¿«é€Ÿ)' },
                { name: 'gemini-1.5-flash-002', label: 'Gemini 1.5 Flash 002' },
                { name: 'gemini-1.5-pro-latest', label: 'Gemini 1.5 Pro Latest (æœ€å¼º)' },
                { name: 'gemini-2.0-flash-exp', label: 'Gemini 2.0 Flash Exp (æœ€æ–°å®éªŒ)' }
            ]
        },
        openai: {
            name: 'OpenAI',
            baseUrl: 'https://api.openai.com/v1',
            models: [
                { name: 'gpt-4', label: 'GPT-4 (æœ€å¼º)' },
                { name: 'gpt-4-turbo', label: 'GPT-4 Turbo' },
                { name: 'gpt-3.5-turbo', label: 'GPT-3.5 Turbo (å¿«é€Ÿä¾¿å®œ)' },
                { name: 'gpt-4o', label: 'GPT-4o (å¤šæ¨¡æ€)' },
                { name: 'gpt-4o-mini', label: 'GPT-4o Mini' }
            ]
        },
        deepseek: {
            name: 'DeepSeek',
            baseUrl: 'https://api.deepseek.com',
            models: [
                { name: 'deepseek-chat', label: 'DeepSeek Chat (æ¨èï¼Œå¿«é€Ÿ)' },
                { name: 'deepseek-reasoner', label: 'DeepSeek Reasoner (æ€è€ƒæ¨¡å¼)' }
            ]
        },
        custom: {
            name: 'è‡ªå®šä¹‰',
            baseUrl: '',
            models: [
                { name: 'gpt-4', label: 'é€šç”¨ - gpt-4' },
                { name: 'gpt-3.5-turbo', label: 'é€šç”¨ - gpt-3.5-turbo' },
                { name: 'claude-3', label: 'Anthropic - Claude 3' },
                { name: 'mistral', label: 'æœ¬åœ° - Mistral' },
                { name: 'llama2', label: 'æœ¬åœ° - Llama 2' }
            ]
        }
    };

    // å­˜å‚¨æ‰€æœ‰å¡ç‰Œçš„è§£è¯»å†…å®¹
    let allReadings = {};

    // AI å¯†ç ä¿æŠ¤
    const AIPassword = '2003';
    let aiPasswordVerified = false;

    const AIConfig = {
        enabled: localStorage.getItem('ai_enabled') === 'true',
        provider: localStorage.getItem('ai_provider') || 'deepseek',
        apiBaseUrl: 'https://api.deepseek.com/v1', // å†…ç½® DeepSeek URL
        apiKey: 'sk-e027073823b34a9fb807882b3eb6bbb2', // å†…ç½® API Key
        model: localStorage.getItem('ai_model') || 'deepseek-chat',
        language: localStorage.getItem('reading_language') || 'zh',
        style: localStorage.getItem('reading_style') || 'mystical',

        save() {
            localStorage.setItem('ai_enabled', this.enabled);
            localStorage.setItem('ai_provider', this.provider);
            // ä¸ä¿å­˜ API URL å’Œ API Keyï¼ˆæ¯æ¬¡åˆ·æ–°åæ¸…ç©ºï¼‰
            localStorage.setItem('ai_model', this.model);
            localStorage.setItem('reading_language', this.language);
            localStorage.setItem('reading_style', this.style);
        }
    };

    // åˆå§‹åŒ–è®¾ç½®é¢æ¿
    function initSettingsPanel() {
        const toggle = document.getElementById('ai-toggle');
        const urlInput = document.getElementById('api-base-url');
        const keyInput = document.getElementById('api-key');
        const modelInput = document.getElementById('model-name');
        const langSelect = document.getElementById('reading-language');
        const styleSelect = document.getElementById('reading-style');
        const saveBtn = document.getElementById('save-settings');
        const testBtn = document.getElementById('test-api');
        const providerBtns = document.querySelectorAll('.api-provider-btn');

        // å‡½æ•°ï¼šé‡ç½®æ‰€æœ‰é…ç½®åˆ°é»˜è®¤å€¼
        function resetConfig() {
            localStorage.clear();
            AIConfig.provider = 'openai';
            AIConfig.apiBaseUrl = API_MODELS.openai.baseUrl;
            AIConfig.apiKey = '';
            AIConfig.model = 'gpt-4';
            console.log('âœ“ é…ç½®å·²é‡ç½®ï¼Œåˆ·æ–°é¡µé¢...');
            location.reload();
        }

        // å‡½æ•°ï¼šæ›´æ–°æ¨¡å‹åˆ—è¡¨
        function updateModelList(provider = 'openai') {
            const models = API_MODELS[provider].models;
            modelInput.innerHTML = '<option value="">é€‰æ‹©æ¨¡å‹æˆ–è‡ªå®šä¹‰è¾“å…¥</option>';
            models.forEach(model => {
                const option = document.createElement('option');
                option.value = model.name;
                option.textContent = model.label;
                modelInput.appendChild(option);
            });
        }

        // å‡½æ•°ï¼šéªŒè¯æ¨¡å‹æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™ä½¿ç”¨ç¬¬ä¸€ä¸ªå¯ç”¨æ¨¡å‹
        function validateAndFixModel(provider) {
            const models = API_MODELS[provider].models;
            const modelNames = models.map(m => m.name);
            
            // å¦‚æœå½“å‰æ¨¡å‹ä¸åœ¨åˆ—è¡¨ä¸­ï¼Œä½¿ç”¨ç¬¬ä¸€ä¸ªæ¨¡å‹
            if (!modelNames.includes(AIConfig.model)) {
                AIConfig.model = models[0].name;
                console.log(`âœ“ æ¨¡å‹å·²é‡ç½®ä¸º: ${AIConfig.model}`);
            }
        }

        // å‡½æ•°ï¼šåˆ‡æ¢ API æä¾›å•†
        function switchProvider(provider) {
            AIConfig.provider = provider;
            // ä¸è‡ªåŠ¨å¡«å…… URLï¼Œç”¨æˆ·æ‰‹åŠ¨è¾“å…¥
            
            // éªŒè¯å¹¶ä¿®å¤æ¨¡å‹
            validateAndFixModel(provider);
            
            // åªæ›´æ–°æ¨¡å‹åˆ—è¡¨
            updateModelList(provider);
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            providerBtns.forEach(btn => {
                if (btn.dataset.provider === provider) {
                    btn.style.background = '#4f46e5';
                } else {
                    btn.style.background = '#666';
                }
            });
        }

        // åŠ è½½å·²ä¿å­˜çš„è®¾ç½®
        if (AIConfig.enabled) toggle.classList.add('active');
        
        // å…ˆéªŒè¯å¹¶ä¿®å¤æ¨¡å‹ï¼ˆå¦‚æœæ—§æ¨¡å‹ä¸å­˜åœ¨ï¼‰
        validateAndFixModel(AIConfig.provider);
        
        switchProvider(AIConfig.provider);
        urlInput.value = AIConfig.apiBaseUrl;
        keyInput.value = AIConfig.apiKey;
        langSelect.value = AIConfig.language;
        styleSelect.value = AIConfig.style;
        
        // è®¾ç½®å·²ä¿å­˜çš„æ¨¡å‹
        if (AIConfig.model) {
            modelInput.value = AIConfig.model;
            // å¦‚æœä¿å­˜çš„æ¨¡å‹ä¸åœ¨åˆ—è¡¨ä¸­ï¼Œæ·»åŠ ä¸ºè‡ªå®šä¹‰é€‰é¡¹
            if (!modelInput.value) {
                const option = document.createElement('option');
                option.value = AIConfig.model;
                option.textContent = `âœï¸ ${AIConfig.model} (è‡ªå®šä¹‰)`;
                option.selected = true;
                modelInput.appendChild(option);
            }
        }
        
        // å¿«æ·é”®ï¼šCtrl+Shift+R é‡ç½®é…ç½®
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.shiftKey && e.code === 'KeyR') {
                if (confirm('ç¡®å®šè¦é‡ç½®æ‰€æœ‰é…ç½®åˆ°é»˜è®¤å€¼å—ï¼Ÿ')) {
                    resetConfig();
                }
            }
        });

        // åˆ‡æ¢AIå¯ç”¨
        toggle.addEventListener('click', () => {
            AIConfig.enabled = !AIConfig.enabled;
            toggle.classList.toggle('active');
        });

        // API æä¾›å•†æŒ‰é’®äº‹ä»¶
        providerBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                switchProvider(btn.dataset.provider);
            });
        });

        // æ¨¡å‹è‡ªå®šä¹‰è¾“å…¥
        modelInput.addEventListener('change', () => {
            if (modelInput.value === '' && modelInput.value.trim() === '') {
                // å…è®¸æ‰‹åŠ¨è¾“å…¥
            }
        });

        // å…è®¸æ‰‹åŠ¨ç¼–è¾‘æ¨¡å‹è¾“å…¥ï¼ˆæ¸…é™¤é€‰æ‹©åå¯è‡ªç”±è¾“å…¥ï¼‰
        modelInput.addEventListener('blur', () => {
            // å¦‚æœç”¨æˆ·æ¸…ç©ºäº†é€‰æ‹©ï¼Œå…è®¸è¾“å…¥è‡ªå®šä¹‰å€¼
        });

        // ä¿å­˜è®¾ç½®
        saveBtn.addEventListener('click', () => {
            AIConfig.apiBaseUrl = urlInput.value.trim();
            AIConfig.apiKey = keyInput.value.trim();
            const modelValue = modelInput.value.trim();
            AIConfig.model = modelValue || modelInput.options[modelInput.selectedIndex]?.value || 'gpt-4';
            AIConfig.language = langSelect.value;
            AIConfig.style = styleSelect.value;
            AIConfig.save();
            showSettingsMessage('âœ“ è®¾ç½®å·²ä¿å­˜ï¼Œå¼€å§‹è§£ç‰Œ...', 'success');
            // 3ç§’åè‡ªåŠ¨éšè—é…ç½®é¢æ¿å¹¶è¿›å…¥è§£ç‰Œæµç¨‹
            setTimeout(() => {
                hideSettingsPanel();
                currentReadingIndex = 0;
                if (selectedCardsData.length > 0) {
                    showReadingPanel(selectedCardsData[0].info);
                }
            }, 1500);
        });

        // æµ‹è¯•APIè¿æ¥
        testBtn.addEventListener('click', async () => {
            if (!AIConfig.apiKey) {
                showSettingsMessage('âœ— è¯·å…ˆè¾“å…¥ API å¯†é’¥', 'error');
                return;
            }
            showSettingsMessage('ğŸ”„ æµ‹è¯•ä¸­...', 'info');
            const success = await testAIConnection();
            if (success) {
                showSettingsMessage('âœ“ è¿æ¥æˆåŠŸ', 'success');
            } else {
                showSettingsMessage('âœ— è¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥é…ç½®', 'error');
            }
        });

        // å¼€å§‹è§£ç‰ŒæŒ‰é’®
        const startReadingBtn = document.getElementById('start-reading');
        if (startReadingBtn) {
            startReadingBtn.addEventListener('click', () => {
                hideSettingsPanel();
                currentReadingIndex = 0;
                if (selectedCardsData.length > 0) {
                    showReadingPanel(selectedCardsData[0].info);
                }
            });
        }
    }

    function showSettingsMessage(msg, type = 'info') {
        const msgEl = document.getElementById('settings-message');
        msgEl.innerText = msg;
        msgEl.style.color = type === 'success' ? '#4ade80' : type === 'error' ? '#ff6b6b' : '#60a5fa';
    }

    function showSettingsPanel() {
        const panel = document.getElementById('settings-panel');
        panel.classList.add('show');
    }

    function hideSettingsPanel() {
        const panel = document.getElementById('settings-panel');
        panel.classList.remove('show');
    }

    async function testAIConnection() {
        try {
            const apiUrl = AIConfig.apiBaseUrl.trim();
            
            // æ£€æµ‹ API ç±»å‹å¹¶ä½¿ç”¨å¯¹åº”çš„æ ¼å¼
            // æ³¨æ„ï¼šGemini ç°åœ¨ä½¿ç”¨ OpenAI å…¼å®¹æ¥å£ï¼Œæ‰€ä»¥ä¹Ÿç”¨ testOpenAIAPI
            if (apiUrl.includes('openai.com') || apiUrl.includes('generativelanguage.googleapis.com/v1beta/openai')) {
                // OpenAI API æˆ– Google Gemini OpenAI å…¼å®¹æ¥å£
                return await testOpenAIAPI(apiUrl);
            } else if (apiUrl.includes('localhost') || apiUrl.includes('127.0.0.1')) {
                // æœ¬åœ° API æœåŠ¡
                return await testLocalAPI(apiUrl);
            } else {
                // å°è¯•ä½œä¸ºé€šç”¨ OpenAI å…¼å®¹ API
                return await testOpenAIAPI(apiUrl);
            }
        } catch (e) {
            console.error('API è¿æ¥å¤±è´¥:', e);
            return false;
        }
    }

    async function testOpenAIAPI(apiUrl) {
        try {
            if (!AIConfig.apiKey) {
                console.error('OpenAI API: æœªè®¾ç½® API Key');
                return false;
            }
            
            const endpoint = apiUrl.endsWith('/') ? apiUrl.slice(0, -1) : apiUrl;
            const url = `${endpoint}/chat/completions`;
            
            console.log('æµ‹è¯• OpenAI API è¯·æ±‚:', url);
            
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${AIConfig.apiKey}`
                },
                body: JSON.stringify({
                    model: AIConfig.model,
                    messages: [{ role: 'user', content: 'ping' }],
                    max_tokens: 10
                })
            });
            
            if (!response.ok) {
                const errorText = await response.text();
                console.error(`OpenAI API é”™è¯¯ ${response.status}:`, errorText);
            }
            return response.ok;
        } catch (e) {
            console.error('OpenAI API è¿æ¥å¤±è´¥:', e);
            return false;
        }
    }

    async function testLocalAPI(apiUrl) {
        try {
            const endpoint = apiUrl.endsWith('/') ? apiUrl.slice(0, -1) : apiUrl;
            const url = `${endpoint}/test`;
            
            console.log('æµ‹è¯•æœ¬åœ° API è¯·æ±‚:', url);
            
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    message: 'ping'
                })
            });
            
            if (!response.ok) {
                const errorText = await response.text();
                console.error(`æœ¬åœ° API é”™è¯¯ ${response.status}:`, errorText);
            }
            return response.ok;
        } catch (e) {
            console.error('æœ¬åœ° API è¿æ¥å¤±è´¥:', e);
            return false;
        }
    }

    // ===== AI è§£ç‰ŒåŠŸèƒ½ =====
    let currentReadingIndex = 0;
    let currentReadingMode = 'normal'; // 'ai' æˆ– 'normal'

    // AI è§£è¯»ç¼“å­˜
    const aiReadingCache = new Map();

    // æ·»åŠ è¶…æ—¶åŠŸèƒ½çš„fetchå°è£…
    function fetchWithTimeout(url, options, timeout = 30000) {
        return Promise.race([
            fetch(url, options),
            new Promise((_, reject) => 
                setTimeout(() => reject(new Error('è¯·æ±‚è¶…æ—¶')), timeout)
            )
        ]);
    }

    async function callAIForReading(cardInfo) {
        const styles = {
            mystical: 'ç”¨ç¥ç§˜å­¦çš„è§’åº¦',
            psychological: 'ç”¨å¿ƒç†å­¦çš„è§’åº¦',
            practical: 'ç”¨å®ç”¨ä¸»ä¹‰çš„è§’åº¦',
            poetic: 'ç”¨è¯—æ„ä¼˜ç¾çš„æ–¹å¼'
        };

        const languages = {
            zh: 'ç”¨ä¸­æ–‡å›ç­”',
            en: 'Answer in English',
            bilingual: 'ç”¨ä¸­è‹±åŒè¯­å›ç­”'
        };

        // ç”Ÿæˆç¼“å­˜é”®
        const cacheKey = `${cardInfo.name}_${AIConfig.style}_${AIConfig.language}_${AIConfig.model}`;
        
        // æ£€æŸ¥ç¼“å­˜
        if (aiReadingCache.has(cacheKey)) {
            console.log('âœ“ ä»ç¼“å­˜è·å–AIè§£è¯»');
            return aiReadingCache.get(cacheKey);
        }

        const prompt = `ä½ æ˜¯ä¸€ä½èµ„æ·±çš„å¡”ç½—ç‰Œè§£è¯»å¸ˆã€‚è¯·${styles[AIConfig.style]}ã€${languages[AIConfig.language]}è§£è¯»ä»¥ä¸‹å¡”ç½—ç‰Œç‰Œä¹‰ï¼š

ç‰Œåï¼š${cardInfo.name}

è¯·æä¾›ï¼š
1. ç‰Œçš„åŸºæœ¬å«ä¹‰
2. åœ¨"è¿‡å»-ç°åœ¨-æœªæ¥"å åœä¸­çš„è§£è¯»
3. ç»™å‡ºè€…çš„å»ºè®®æˆ–å¯ç¤º

ä¿æŒå›ç­”ç®€æ´ï¼ˆ200-300å­—ï¼‰ï¼Œç¥ç§˜è€Œå¯Œæœ‰å¯å‘æ€§ã€‚`;

        try {
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            uiStatus.innerHTML = `ğŸ”® æ­£åœ¨è¿æ¥çµç•Œï¼Œè§£è¯»ã€${cardInfo.name}ã€‘...`;

            const response = await fetchWithTimeout(`${AIConfig.apiBaseUrl}/chat/completions`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${AIConfig.apiKey}`
                },
                body: JSON.stringify({
                    model: AIConfig.model,
                    messages: [
                        {
                            role: 'system',
                            content: 'ä½ æ˜¯ä¸€ä½ç¥ç§˜è€Œå¯Œæœ‰æ™ºæ…§çš„å¡”ç½—ç‰Œè§£è¯»å¸ˆï¼Œèƒ½å¤Ÿæ·±åˆ»ç†è§£æ¯å¼ ç‰Œçš„è±¡å¾æ„ä¹‰ï¼Œå¹¶ç»™å‡ºå¯Œæœ‰å¯å‘æ€§çš„è§£è¯»ã€‚'
                        },
                        {
                            role: 'user',
                            content: prompt
                        }
                    ],
                    temperature: 0.7,
                    max_tokens: 800, // å‡å°‘æœ€å¤§ä»¤ç‰Œæ•°ï¼ŒåŠ å¿«å“åº”é€Ÿåº¦
                    timeout: 30000 // API è¶…æ—¶è®¾ç½®
                })
            }, 30000); // 30ç§’è¶…æ—¶

            if (!response.ok) {
                throw new Error(`API é”™è¯¯: ${response.status}`);
            }

            const data = await response.json();
            let content = data.choices?.[0]?.message?.content || 'æ— æ³•è·å–è§£è¯»';
            
            // é™åˆ¶è§£è¯»å†…å®¹åœ¨ 1800-2000 å­—ä»¥å†…
            const charCount = content.length;
            if (charCount > 2200) {
                // å¦‚æœè¶…è¿‡ 2200 å­—ï¼Œæˆªæ–­åˆ°æœ€åä¸€ä¸ªå®Œæ•´å¥å­
                content = content.substring(0, 2200);
                const lastPeriod = Math.max(
                    content.lastIndexOf('ã€‚'),
                    content.lastIndexOf('ï¼'),
                    content.lastIndexOf('ï¼Ÿ')
                );
                if (lastPeriod > 1800) {
                    content = content.substring(0, lastPeriod + 1);
                }
            }
            
            // å­˜å…¥ç¼“å­˜
            aiReadingCache.set(cacheKey, content);
            
            return content;
        } catch (error) {
            console.error('AI è°ƒç”¨å¤±è´¥:', error);
            return `âœ— çµèƒ½æ„Ÿåº”ä¸­æ–­ï¼ˆ${error.message}ï¼‰\n\n${getDefaultReading(cardInfo)}`;
        } finally {
            // é‡ç½®çŠ¶æ€
            uiStatus.innerHTML = "âœ¨ ä»ªå¼å®Œæˆ";
        }
    }

    // éªŒè¯AIå¯†ç 
    function verifyAIPassword() {
        if (aiPasswordVerified) return true;
        
        const password = prompt('è¯·è¾“å…¥AIè°ƒç”¨å¯†ç ï¼š');
        if (password === AIPassword) {
            aiPasswordVerified = true;
            return true;
        } else {
            alert('å¯†ç é”™è¯¯ï¼Œæ— æ³•è°ƒç”¨AIæœåŠ¡');
            return false;
        }
    }

    // æ ¹æ®ç‰Œé˜µç±»å‹ç”ŸæˆåŠ¨æ€Promptçš„AIè°ƒç”¨å‡½æ•°
    async function callAIForFullReading(selectedCardsData) {
        // éªŒè¯å¯†ç 
        if (!verifyAIPassword()) {
            return "å¯†ç éªŒè¯å¤±è´¥ï¼Œæ— æ³•è¿›è¡ŒAIè§£è¯»ã€‚";
        }

        // 1. è·å–å½“å‰ç‰Œé˜µçš„å®šä¹‰
        const spreadDef = SPREAD_DEFINITIONS[currentSpreadType];
        
        // å®‰å…¨æ£€æŸ¥
        if (!spreadDef || selectedCardsData.length !== spreadDef.cardCount) {
            console.error("ç‰Œé˜µç±»å‹é”™è¯¯æˆ–å¡ç‰Œæ•°é‡ä¸åŒ¹é…");
            return "è§£è¯»è¯·æ±‚å‚æ•°æœ‰è¯¯ã€‚";
        }

        uiStatus.innerHTML = `ğŸ”® æ­£åœ¨è¿›è¡Œã€${spreadDef.name}ã€‘æ·±åº¦è§£è¯»...`;

        // 2. æ„å»ºåŠ¨æ€ User Prompt
        let userPromptStr = `è¯·ä¸ºæˆ‘è¿›è¡Œã€${spreadDef.name}ã€‘çš„å¡”ç½—è§£è¯»ã€‚\n\n`;
        
        // å¦‚æœæœ‰ç”¨æˆ·æ„å›¾ï¼Œä¹ŸåŠ è¿›å»
        if (typeof userSelection !== 'undefined' && userSelection && userSelection.status) {
            userPromptStr += `## æé—®èƒŒæ™¯\nå…³æ³¨é¢†åŸŸï¼š${userSelection.domain?.label || 'æœªçŸ¥'}\nå…·ä½“å›°æ‰°ï¼š${userSelection.status.p || 'æœªçŸ¥'}\n\n`;
        }

        userPromptStr += `## æŠ½ç‰Œç»“æœä¸ä½ç½®å®šä¹‰\n`;
        
        // éå†æ¯ä¸€å¼ ç‰Œï¼Œç»“åˆä½ç½®å®šä¹‰æ„å»ºæè¿°
        selectedCardsData.forEach((cardData, index) => {
            const positionMeaning = spreadDef.positions[index] || `ä½ç½®${index + 1}`;
            const cardName = cardData.info.name;
            // ä»CARD_ESSENCEè·å–ç‰Œå†…æ ¸
            const essence = CARD_ESSENCE[cardName] || "";
            
            userPromptStr += `- **${positionMeaning}**ï¼šæŠ½åˆ°äº†ã€${cardName}ã€‘ã€‚\n  (ç‰Œé¢å†…æ ¸å‚è€ƒï¼š${essence})\n\n`;
        });

        userPromptStr += `\n## è§£è¯»è¦æ±‚\nè¯·ç»¼åˆä»¥ä¸Šæ‰€æœ‰ç‰Œé¢å’Œä½ç½®ä¿¡æ¯ï¼Œç»™å‡ºä¸€ä¸ªè¿è´¯ã€æœ‰æ·±åº¦ã€è‡ªç„¶çš„æ•´ä½“è§£è¯»ã€‚\n\n**è§£è¯»é£æ ¼è¦æ±‚ï¼š**\n- è¯­è¨€è¦è‡ªç„¶æµç•…ï¼Œé¿å…ç”Ÿç¡¬çš„ç»“æ„æ„Ÿ\n- åˆ†æè¦å…·ä½“å®ç”¨ï¼Œç»™å‡ºå¯æ“ä½œçš„å»ºè®®\n- è¯­æ°”è¦äº²åˆ‡ä¸“ä¸šï¼Œåƒä¸€ä½çœŸæ­£çš„å¡”ç½—é¡¾é—®\n- å†…å®¹è¦æœ‰å±‚æ¬¡æ„Ÿï¼Œä»ç°çŠ¶åˆ†æåˆ°è¡ŒåŠ¨å»ºè®®\n- é¿å…ä½¿ç”¨è¿‡äºæŠ€æœ¯æ€§çš„æœ¯è¯­ï¼Œä¿æŒæ˜“æ‡‚\n\n**å…·ä½“å†…å®¹è¦æ±‚ï¼š**\n1. å…ˆç»™å‡ºæ•´ä½“çš„ç‰Œé˜µè§£è¯»ï¼Œåˆ†æèƒ½é‡æµåŠ¨å’Œæ ¸å¿ƒä¸»é¢˜\n2. é’ˆå¯¹æ¯ä¸ªä½ç½®çš„å¡ç‰Œè¿›è¡Œè¯¦ç»†åˆ†æï¼Œç»“åˆä½ç½®å«ä¹‰\n3. ç»™å‡ºå…·ä½“çš„è¡ŒåŠ¨å»ºè®®å’Œå‘å±•è·¯å¾„\n4. æä¾›å¯é‡åŒ–çš„é˜¶æ®µæ€§ç›®æ ‡å’Œå®æ–½æ­¥éª¤\n5. é¿å…åœ¨ç»“å°¾æ·»åŠ éœ€è¦ç”¨æˆ·æä¾›æ›´å¤šä¿¡æ¯çš„æç¤ºè¯­\n\nè¯·ä¸¥æ ¼éµå¾ªä½ çš„è§’è‰²è®¾å®šï¼Œé’ˆå¯¹æé—®èƒŒæ™¯ç»™å‡ºé’ˆå¯¹æ€§çš„æŒ‡å¼•ã€‚`;

        console.log("--- å‘é€ç»™ AI çš„ Prompt ---");
        console.log("[å…¨å±€ç³»ç»ŸæŒ‡ä»¤]");
        console.log(TAROT_MASTER_SYSTEM_PROMPT);
        console.log("[ç‰Œé˜µç‰¹å®šæŒ‡ä»¤]");
        console.log(spreadDef.systemContext);
        console.log("[ç”¨æˆ· Prompt]");
        console.log(userPromptStr);
        console.log("------------------------");

        // 3. å‘é€è¯·æ±‚
        try {
            // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
            uiStatus.innerHTML = `ğŸ”® æ­£åœ¨è¿›è¡Œæ·±åº¦è§£è¯»ï¼Œè¿æ¥æ›´é«˜ç»´åº¦çš„æ™ºæ…§...`;

            const response = await fetchWithTimeout(`${AIConfig.apiBaseUrl}/chat/completions`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${AIConfig.apiKey}`
                },
                body: JSON.stringify({
                    model: AIConfig.model,
                    messages: [
                        // å…³é”®ç‚¹ï¼šä½¿ç”¨å…¨å±€ç³»ç»ŸæŒ‡ä»¤ä½œä¸ºæ ¸å¿ƒäººæ ¼
                        { role: 'system', content: TAROT_MASTER_SYSTEM_PROMPT },
                        // å…³é”®ç‚¹ï¼šä½¿ç”¨ç‰Œé˜µç‰¹å®šçš„ç³»ç»Ÿäººè®¾ä½œä¸ºè¡¥å……
                        { role: 'system', content: spreadDef.systemContext },
                        // å…³é”®ç‚¹ï¼šä½¿ç”¨åŠ¨æ€æ„å»ºçš„ç”¨æˆ· Prompt
                        { role: 'user', content: userPromptStr }
                    ],
                    temperature: 0.8, // ç¨å¾®é™ä½æ¸©åº¦ä»¥ä¿è¯ç»“æ„åŒ–è¾“å‡ºï¼ŒåŒæ—¶åŠ å¿«å“åº”
                    max_tokens: 5000, // å¢åŠ  Token æ•°ä»¥é¿å…å†…å®¹æˆ›ç„¶è€Œæ­¢
                    timeout: 45000 // API è¶…æ—¶è®¾ç½®
                })
            }, 45000); // 45ç§’è¶…æ—¶

            if (!response.ok) throw new Error(`API Error ${response.status}`);
            const data = await response.json();
            return data.choices?.[0]?.message?.content || 'æ— æ³•è·å–è§£è¯»ç»“æœã€‚';

        } catch (error) {
            console.error('AI Error:', error);
            return `è§£è¯»å¤±è´¥ï¼š${error.message}`;
        } finally {
            // é‡ç½®çŠ¶æ€
            uiStatus.innerHTML = "âœ¨ ä»ªå¼å®Œæˆ";
        }
    }

    // æ·±å…¥AIè§£è¯»å‡½æ•°
    async function deepenAIReading(additionalInfo) {
        // éªŒè¯å¯†ç 
        if (!verifyAIPassword()) {
            alert("å¯†ç éªŒè¯å¤±è´¥ï¼Œæ— æ³•è¿›è¡Œæ·±å…¥åˆ†æã€‚");
            return;
        }

        // è·å–å½“å‰ç‰Œé˜µçš„å®šä¹‰
        const spreadDef = SPREAD_DEFINITIONS[currentSpreadType];
        
        // å®‰å…¨æ£€æŸ¥
        if (!spreadDef) {
            console.error("ç‰Œé˜µç±»å‹é”™è¯¯");
            alert("æ·±å…¥åˆ†æè¯·æ±‚å‚æ•°æœ‰è¯¯ã€‚");
            return;
        }

        // è·å–å½“å‰çš„è§£è¯»å†…å®¹
        const cacheKey = `full_spread_reading_${spreadDef.name}`;
        const currentReading = allReadings[cacheKey] || '';

        // åˆå§‹åŒ–è¿›åº¦æ¡
        const progressBarEl = document.getElementById('reading-progress-bar');
        const progressTextEl = document.getElementById('reading-progress-text');
        const loadingEl = document.getElementById('reading-loading');
        const textEl = document.getElementById('reading-text');
        
        progressBarEl.style.width = '0%';
        progressTextEl.textContent = 'æ·±å…¥åˆ†æä¸­...';
        loadingEl.style.display = 'block';

        // æ¨¡æ‹Ÿè¿›åº¦æ›´æ–°
        let progress = 0;
        const progressInterval = setInterval(() => {
            progress += 5;
            if (progress <= 90) {
                progressBarEl.style.width = progress + '%';
            }
        }, 200);

        try {
            // æ„å»ºæ·±åº¦åˆ†æçš„Prompt
            let userPromptStr = `åŸºäºä¹‹å‰çš„å¡”ç½—è§£è¯»ï¼Œè¯·ç»“åˆä»¥ä¸‹é¢å¤–ä¿¡æ¯è¿›è¡Œæ›´æ·±å…¥ã€æ›´é’ˆå¯¹æ€§çš„åˆ†æï¼š\n\n`;
            
            userPromptStr += `## é¢å¤–ä¿¡æ¯\n${additionalInfo}\n\n`;
            
            userPromptStr += `## ä¹‹å‰çš„è§£è¯»\n${currentReading}\n\n`;
            
            userPromptStr += `## æŠ½ç‰Œç»“æœå›é¡¾\n`;
            selectedCardsData.forEach((cardData, index) => {
                const positionMeaning = spreadDef.positions[index] || `ä½ç½®${index + 1}`;
                const cardName = cardData.info.name;
                userPromptStr += `- **${positionMeaning}**ï¼šã€${cardName}ã€‘\n`;
            });
            
            userPromptStr += `\n## æ·±åº¦åˆ†æè¦æ±‚\nè¯·åŸºäºä»¥ä¸Šä¿¡æ¯ï¼Œç»™å‡ºæ›´å…·ä½“ã€æ›´é’ˆå¯¹æ€§çš„æ·±åº¦åˆ†æï¼š\n\n`;
            userPromptStr += `1. ç»“åˆç”¨æˆ·æä¾›çš„é¢å¤–ä¿¡æ¯ï¼Œåˆ†æå…¶ä¸ç‰Œé˜µçš„å…³è”\n`;
            userPromptStr += `2. ç»™å‡ºæ›´å…·ä½“çš„ã€é’ˆå¯¹ç”¨æˆ·å®é™…æƒ…å†µçš„å»ºè®®\n`;
            userPromptStr += `3. åˆ†æç”¨æˆ·å¯èƒ½é¢ä¸´çš„å…·ä½“æŒ‘æˆ˜å’Œåº”å¯¹ç­–ç•¥\n`;
            userPromptStr += `4. æä¾›å¯æ“ä½œçš„å…·ä½“æ­¥éª¤å’Œæ—¶é—´è§„åˆ’\n`;
            userPromptStr += `5. è¯­è¨€è¦è‡ªç„¶æµç•…ï¼Œåˆ†æè¦æ·±å…¥é€å½»\n`;

            console.log("--- å‘é€ç»™ AI çš„æ·±åº¦åˆ†æ Prompt ---");
            console.log("[å…¨å±€ç³»ç»ŸæŒ‡ä»¤]");
            console.log(TAROT_MASTER_SYSTEM_PROMPT);
            console.log("[ç‰Œé˜µç‰¹å®šæŒ‡ä»¤]");
            console.log(spreadDef.systemContext);
            console.log("[ç”¨æˆ· Prompt]");
            console.log(userPromptStr);
            console.log("------------------------");

            // å‘é€è¯·æ±‚
            const response = await fetchWithTimeout(`${AIConfig.apiBaseUrl}/chat/completions`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${AIConfig.apiKey}`
                },
                body: JSON.stringify({
                    model: AIConfig.model,
                    messages: [
                        // å…³é”®ç‚¹ï¼šä½¿ç”¨å…¨å±€ç³»ç»ŸæŒ‡ä»¤ä½œä¸ºæ ¸å¿ƒäººæ ¼
                        { role: 'system', content: TAROT_MASTER_SYSTEM_PROMPT },
                        // å…³é”®ç‚¹ï¼šä½¿ç”¨ç‰Œé˜µç‰¹å®šçš„ç³»ç»Ÿäººè®¾ä½œä¸ºè¡¥å……
                        { role: 'system', content: spreadDef.systemContext },
                        { role: 'user', content: userPromptStr }
                    ],
                    temperature: 0.8,
                    max_tokens: 5000,
                    timeout: 45000
                })
            }, 45000);

            if (!response.ok) throw new Error(`API Error ${response.status}`);
            const data = await response.json();
            const deepReading = data.choices?.[0]?.message?.content || 'æ— æ³•è·å–æ·±åº¦åˆ†æç»“æœã€‚';

            // æ›´æ–°è¿›åº¦æ¡
            clearInterval(progressInterval);
            progressBarEl.style.width = '100%';
            progressTextEl.textContent = 'å·²å®Œæˆ';
            loadingEl.style.display = 'none';
            
            // æ›´æ–°è§£è¯»å†…å®¹
            textEl.innerHTML = deepReading.replace(/\n/g, '<br>');
            
            // å­˜å‚¨æ·±åº¦è§£è¯»
            allReadings[`deep_${cacheKey}`] = deepReading;
            
        } catch (error) {
            console.error('æ·±åº¦åˆ†æå¤±è´¥:', error);
            clearInterval(progressInterval);
            progressBarEl.style.width = '100%';
            progressTextEl.textContent = 'åˆ†æå¤±è´¥';
            loadingEl.style.display = 'none';
            textEl.innerHTML = `æ·±åº¦åˆ†æå¤±è´¥ï¼š${error.message}<br><br>è¯·å°è¯•æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚`;
        }
    }

    // å½“å‰é€‰æ‹©çš„ç‰Œé˜µç±»å‹ (é»˜è®¤ä¸º 'ppf' - è¿‡å»ç°åœ¨æœªæ¥)
    // å¯é€‰å€¼: 'ppf' (3å¼ ), 'celtic' (10å¼ ), 'love' (6å¼ ), 'career' (5å¼ )
    let currentSpreadType = 'ppf';
    
    // å¡ç‰Œå†…æ ¸ä¿¡æ¯ï¼Œç”¨äºAIè§£è¯»
    const CARD_ESSENCE = {
        '0. The Fool (æ„šè€…)': 'æ–°çš„å¼€å§‹ã€å†’é™©ç²¾ç¥ã€æ— é™å¯èƒ½',
        'I. The Magician (é­”æœ¯å¸ˆ)': 'èƒ½åŠ›ã€æ„å¿—åŠ›ã€èµ„æºæŒæ§ã€åˆ›é€ åŠ›',
        'II. The High Priestess (å¥³ç¥­å¸)': 'ç›´è§‰ã€æ™ºæ…§ã€ç¥ç§˜ã€æ½œæ„è¯†ã€éšè—çš„çœŸç›¸',
        'III. The Empress (çš‡å)': 'ä¸°ç››ã€åˆ›é€ åŠ›ã€å¥³æ€§èƒ½é‡ã€æ¯æ€§ã€ç¹è£',
        'IV. The Emperor (çš‡å¸)': 'æƒåŠ›ã€æƒå¨ã€é¢†å¯¼åŠ›ã€ç¨³å®šã€çˆ¶æ€§',
        'V. The Hierophant (æ•™çš‡)': 'ä¼ ç»Ÿã€ç²¾ç¥å¯¼å¸ˆã€ä¿¡å¿µã€å®—æ•™ã€æ•™è‚²',
        'VI. The Lovers (æ‹äºº)': 'çˆ±ã€é€‰æ‹©ã€ä¼™ä¼´å…³ç³»ã€ä»·å€¼è§‚å¯¹é½ã€äº²å¯†',
        'VII. The Chariot (æˆ˜è½¦)': 'æ„å¿—ã€å†³å¿ƒã€æ§åˆ¶ã€èƒœåˆ©ã€è¿åŠ¨',
        'VIII. Strength (åŠ›é‡)': 'å†…åœ¨åŠ›é‡ã€è€å¿ƒã€æ¸©æŸ”çš„åŠ›é‡ã€å‹‡æ°”ã€è‡ªåˆ¶åŠ›',
        'IX. The Hermit (éšå£«)': 'å†…çœã€æœå¯»ã€æ²‰é»˜ã€æ™ºæ…§ã€å­¤ç‹¬',
        'X. Wheel of Fortune (å‘½è¿ä¹‹è½®)': 'å‘¨æœŸã€å‘½è¿ã€è½¬æœºã€å˜åŒ–ã€å¹¸è¿',
        'XI. Justice (æ­£ä¹‰)': 'å…¬æ­£ã€å¹³è¡¡ã€çœŸç†ã€æ³•å¾‹ã€å› æœ',
        'XII. The Hanged Man (å€’åŠäºº)': 'ç‰ºç‰²ã€ç­‰å¾…ã€æ–°çš„è§†è§’ã€æš‚åœã€çµæ€§å¯è’™',
        'XIII. Death (æ­»ç¥)': 'è½¬å˜ã€ç»“æŸã€æ–°å¼€å§‹ã€é‡Šæ”¾ã€é‡ç”Ÿ',
        'XIV. Temperance (èŠ‚åˆ¶)': 'å¹³è¡¡ã€èåˆã€æ¸©å’Œã€è€å¿ƒã€å’Œè°',
        'XV. The Devil (æ¶é­”)': 'æŸç¼šã€ç‰©æ¬²ã€é»‘æš—é¢ã€ç¼ºä¹è‡ªç”±ã€è¯±æƒ‘',
        'XVI. The Tower (é«˜å¡”)': 'å´©æºƒã€çªå˜ã€å¯è’™ã€ç ´åã€çœŸç›¸',
        'XVII. The Star (æ˜Ÿæ˜Ÿ)': 'å¸Œæœ›ã€çµæ„Ÿã€æŒ‡å¼•ã€æ¸…æ™°ã€æ¢¦æƒ³',
        'XVIII. The Moon (æœˆäº®)': 'å¹»è§‰ã€æ½œæ„è¯†ã€ä¸å®‰ã€ç›´è§‰ã€ç§˜å¯†',
        'XIX. The Sun (å¤ªé˜³)': 'å¹¸ç¦ã€æˆåŠŸã€æ´»åŠ›ã€æ¸…æ™°ã€æ­£é¢èƒ½é‡',
        'XX. Judgement (å®¡åˆ¤)': 'è§‰é†’ã€è½¬æœºã€è¯„ä¼°ã€å‘¼å”¤ã€å¤å…´',
        'XXI. The World (ä¸–ç•Œ)': 'å®Œæˆã€æˆå°±ã€æ•´ä½“æ€§ã€åœ†æ»¡ã€æ–°å‘¨æœŸ',
        
        'Ace of Wands (æƒæ–ä¸€)': 'çµæ„Ÿç«èŠ±ã€æ–°è¡ŒåŠ¨ã€åˆ›é€ åŠ›ã€æ¿€æƒ…ã€å¼€å§‹',
        'Two of Wands (æƒæ–äºŒ)': 'è§„åˆ’ã€è¿œè§ã€å†³å®šã€ç¦»å¼€èˆ’é€‚åŒºã€å±•æœ›',
        'Three of Wands (æƒæ–ä¸‰)': 'æ‰©å¼ ã€å±•æœ›ã€åˆæ­¥æˆåŠŸã€åˆä½œã€ç­‰å¾…ç»“æœ',
        'Four of Wands (æƒæ–å››)': 'åº†ç¥ã€å’Œè°ã€å®‰å®šçš„å®¶ã€å½’å±æ„Ÿã€é˜¶æ®µæ€§èƒœåˆ©',
        'Five of Wands (æƒæ–äº”)': 'ç«äº‰ã€å†²çªã€æ··ä¹±ã€æŒ‘æˆ˜ã€å¤´è„‘é£æš´',
        'Six of Wands (æƒæ–å…­)': 'èƒœåˆ©ã€å…¬ä¼—è®¤å¯ã€è‡ªä¿¡ã€è£è€€ã€å‡¯æ—‹',
        'Seven of Wands (æƒæ–ä¸ƒ)': 'é˜²å¾¡ã€åšæŒç«‹åœºã€æŒ‘æˆ˜ã€å‹‡æ°”ã€ä¸é€€ç¼©',
        'Eight of Wands (æƒæ–å…«)': 'è¿…é€Ÿã€æ¶ˆæ¯ã€å¿«é€Ÿå˜åŒ–ã€æ—…è¡Œã€é¡ºåŠ¿è€Œä¸º',
        'Nine of Wands (æƒæ–ä¹)': 'éŸ§æ€§ã€é˜²å¾¡ã€æœ€åçš„åšæŒã€ç–²æƒ«ã€ç•Œé™',
        'Ten of Wands (æƒæ–å)': 'é‡æ‹…ã€å‹åŠ›ã€è´£ä»»ã€è¿‡åº¦åŠ³ç´¯ã€é»æ˜å‰çš„é»‘æš—',
        'Page of Wands (æƒæ–ä¾ä»)': 'æ¢ç´¢ã€å…´å¥‹ã€æ–°æ¶ˆæ¯ã€å­©å­æ°”ã€å¥½å¥‡å¿ƒ',
        'Knight of Wands (æƒæ–éª‘å£«)': 'å†²åŠ¨ã€æ¿€æƒ…ã€è¿…é€Ÿè¡ŒåŠ¨ã€å†’é™©ã€æ€¥èº',
        'Queen of Wands (æƒæ–ç‹å)': 'é­…åŠ›ã€è‡ªä¿¡ã€ç‹¬ç«‹ã€çƒ­æƒ…ã€ç¤¾äº¤ä¸­å¿ƒ',
        'King of Wands (æƒæ–å›½ç‹)': 'è¿œè§ã€é¢†å¯¼åŠ›ã€åˆ›ä¸šç²¾ç¥ã€æˆç†Ÿã€æŒæ§å…¨å±€',
        
        'Ace of Cups (åœ£æ¯ä¸€)': 'æ–°æƒ…æ„Ÿã€çˆ±ã€ç›´è§‰ã€æƒ…æ„Ÿæ»¡æº¢ã€çµæ€§å¼€å¯',
        'Two of Cups (åœ£æ¯äºŒ)': 'è¿æ¥ã€ä¼™ä¼´å…³ç³»ã€å¸å¼•åŠ›ã€å¹³ç­‰ã€åˆä½œ',
        'Three of Cups (åœ£æ¯ä¸‰)': 'æ¬¢èšã€å‹è°Šã€ç¤¾ç¾¤ã€åº†ç¥ã€åˆ†äº«å¿«ä¹',
        'Four of Cups (åœ£æ¯å››)': 'å†·æ¼ ã€å€¦æ€ ã€é”™å¤±æœºä¼šã€å†…çœã€ä¸æ»¡è¶³',
        'Five of Cups (åœ£æ¯äº”)': 'æ‚²ä¼¤ã€å¤±è½ã€é—æ†¾ã€å…³æ³¨å¤±å»ã€æƒ…æ„Ÿåˆ›ä¼¤',
        'Six of Cups (åœ£æ¯å…­)': 'æ€€æ—§ã€å›å¿†ã€çº¯çœŸã€æ—§äººã€ç«¥å¹´å¿«ä¹',
        'Seven of Cups (åœ£æ¯ä¸ƒ)': 'é€‰æ‹©ã€å¹»è±¡ã€ç™½æ—¥æ¢¦ã€è¿·èŒ«ã€ä¸åˆ‡å®é™…',
        'Eight of Cups (åœ£æ¯å…«)': 'ç¦»å¼€ã€å¯»æ‰¾çœŸç†ã€æ”¾å¼ƒã€å¤±æœ›ã€è¿½å¯»æ›´é«˜æ„ä¹‰',
        'Nine of Cups (åœ£æ¯ä¹)': 'æ„¿æœ›è¾¾æˆã€æ»¡è¶³ã€å¿«ä¹ã€è‡ªæ»¡ã€æ„Ÿå®˜äº«å—',
        'Ten of Cups (åœ£æ¯å)': 'å®¶åº­å¹¸ç¦ã€æƒ…æ„Ÿåœ†æ»¡ã€å’Œè°ã€å½’å®¿ã€å¤§å›¢åœ†',
        'Page of Cups (åœ£æ¯ä¾ä»)': 'æƒ…æ„Ÿè®¯æ¯ã€ç›´è§‰ã€æ•æ„Ÿã€åˆ›æ„ã€æ–°æ‹æƒ…',
        'Knight of Cups (åœ£æ¯éª‘å£«)': 'æµªæ¼«ã€è¿½æ±‚ã€ç†æƒ³ä¸»ä¹‰ã€é‚€è¯·ã€æƒ…æ„Ÿé©±åŠ¨',
        'Queen of Cups (åœ£æ¯ç‹å)': 'åŒç†å¿ƒã€å…³æ€€ã€æƒ…æ„Ÿæ·±åº¦ã€ç›´è§‰ã€æ²»æ„ˆè€…',
        'King of Cups (åœ£æ¯å›½ç‹)': 'æƒ…ç»ªç¨³å®šã€å®½å®¹ã€å¤–äº¤ã€æƒ…æ„ŸæŒæ§ã€æˆç†Ÿçš„çˆ±',
        
        'Ace of Swords (å®å‰‘ä¸€)': 'æ¸…æ™°æ€ç»´ã€æ–°æƒ³æ³•ã€çœŸç›¸ã€çªç ´ã€å†³æ–­',
        'Two of Swords (å®å‰‘äºŒ)': 'åƒµå±€ã€çŠ¹è±«ä¸å†³ã€é€ƒé¿ã€é˜²å¾¡ã€å°é—­å†…å¿ƒ',
        'Three of Swords (å®å‰‘ä¸‰)': 'å¿ƒç¢ã€æ‚²ä¼¤ã€èƒŒå›ã€ç—›è‹¦ã€æ‰å¿ƒçš„çœŸç›¸',
        'Four of Swords (å®å‰‘å››)': 'ä¼‘æ¯ã€æ¢å¤ã€æ²‰æ€ã€æš‚åœã€ä¼‘æˆ˜',
        'Five of Swords (å®å‰‘äº”)': 'äº‰æ–—ã€å¤±è´¥ã€ç©ºè™šçš„èƒœåˆ©ã€èƒŒå›ã€è‡ªç§',
        'Six of Swords (å®å‰‘å…­)': 'è¿‡æ¸¡ã€ç–—æ„ˆã€ç¦»å¼€ä¼¤å¿ƒåœ°ã€å¹³ç¨³ã€å¯»æ±‚å¸®åŠ©',
        'Seven of Swords (å®å‰‘ä¸ƒ)': 'æ¬ºéª—ã€ç­–ç•¥ã€éšç§˜è¡ŒåŠ¨ã€é€ƒé¿ã€æŠ•æœºå–å·§',
        'Eight of Swords (å®å‰‘å…«)': 'æŸç¼šã€å—å®³è€…å¿ƒæ€ã€æ— åŠ©ã€é™åˆ¶ã€è‡ªæˆ‘å›šç¦',
        'Nine of Swords (å®å‰‘ä¹)': 'ç„¦è™‘ã€å™©æ¢¦ã€å‹åŠ›ã€ç»æœ›ã€ç²¾ç¥æŠ˜ç£¨',
        'Ten of Swords (å®å‰‘å)': 'ç—›è‹¦ç»“æŸã€èƒŒå›ã€è°·åº•ã€è§£è„±ã€ä¸å¯é€†è½¬',
        'Page of Swords (å®å‰‘ä¾ä»)': 'å¥½å¥‡ã€è­¦æƒ•ã€æ–°æ¶ˆæ¯ã€æ•é”ã€å¤šç–‘',
        'Knight of Swords (å®å‰‘éª‘å£«)': 'æ€¥èºã€ç›´ç‡ã€æ¿€è¿›ã€è¡ŒåŠ¨è¿…é€Ÿã€é€»è¾‘é”‹åˆ©',
        'Queen of Swords (å®å‰‘ç‹å)': 'ç†æ™ºã€ç‹¬ç«‹ã€æ¸…æ™°ç•Œé™ã€æ•é”ã€ç›´è¨€ä¸è®³',
        'King of Swords (å®å‰‘å›½ç‹)': 'æƒå¨ã€é€»è¾‘ã€å…¬æ­£ã€ç†æ™ºã€é«˜æ ‡å‡†',
        
        'Ace of Pentacles (æ˜Ÿå¸ä¸€)': 'æ–°æœºä¼šã€è´¢å¯Œã€ç‰©è´¨æ˜¾åŒ–ã€åŠ¡å®ã€ç¨³å®šçš„å¼€å§‹',
        'Two of Pentacles (æ˜Ÿå¸äºŒ)': 'å¹³è¡¡ã€é€‚åº”ã€å¤šä»»åŠ¡ã€æ³¢åŠ¨ã€çµæ´»åº”å¯¹',
        'Three of Pentacles (æ˜Ÿå¸ä¸‰)': 'å›¢é˜Ÿåˆä½œã€æŠ€èƒ½ã€åˆæ­¥æˆåŠŸã€å­¦ä¹ ã€å·¥åŒ ç²¾ç¥',
        'Four of Pentacles (æ˜Ÿå¸å››)': 'å®ˆè´¢ã€å›ºæ‰§ã€æ§åˆ¶ã€å®‰å…¨æ„Ÿã€ä¸æƒ³æ”¹å˜',
        'Five of Pentacles (æ˜Ÿå¸äº”)': 'è´«ç©·ã€å­¤ç«‹ã€å›°éš¾ã€ç¼ºä¹æ”¯æŒã€èº«ä½“ä¸é€‚',
        'Six of Pentacles (æ˜Ÿå¸å…­)': 'ç»™äºˆä¸æ¥å—ã€æ…·æ…¨ã€å¹³è¡¡ã€å¸®åŠ©ã€æ…ˆå–„',
        'Seven of Pentacles (æ˜Ÿå¸ä¸ƒ)': 'è€å¿ƒã€è¯„ä¼°ã€ç­‰å¾…æ”¶è·ã€æŠ•èµ„ã€é•¿è¿œæ€è€ƒ',
        'Eight of Pentacles (æ˜Ÿå¸å…«)': 'å‹¤å¥‹ã€å·¥åŒ ç²¾ç¥ã€ä¸“æ³¨ã€æŠ€èƒ½æå‡ã€ç»†èŠ‚',
        'Nine of Pentacles (æ˜Ÿå¸ä¹)': 'å¯Œè¶³ã€ç‹¬ç«‹ã€äº«å—ç”Ÿæ´»ã€æˆå°±ã€ä¼˜é›…',
        'Ten of Pentacles (æ˜Ÿå¸å)': 'å®¶æ—ç¹è£ã€ä¼ æ‰¿ã€ç‰©è´¨åœ†æ»¡ã€ç¨³å®šã€é•¿æœŸè´¢å¯Œ',
        'Page of Pentacles (æ˜Ÿå¸ä¾ä»)': 'å­¦ä¹ ã€å‹¤å¥‹ã€æ–°è®¡åˆ’ã€åŠ¡å®ã€è„šè¸å®åœ°',
        'Knight of Pentacles (æ˜Ÿå¸éª‘å£«)': 'ç¨³é‡ã€è´£ä»»ã€å¸¸è§„ã€åšæŒã€å¯é ',
        'Queen of Pentacles (æ˜Ÿå¸ç‹å)': 'æ»‹å…»ã€åŠ¡å®ã€å®¶åº­ç®¡ç†ã€èˆ’é€‚ã€æ…·æ…¨',
        'King of Pentacles (æ˜Ÿå¸å›½ç‹)': 'å•†ä¸šæˆåŠŸã€å¯Œè¶³ã€ç¨³å¥ã€æŒæ§ã€ç²¾æ˜æŠ•èµ„'
    };

    // ==================== ç‰Œé˜µå®šä¹‰ä¸ AI ä¸Šä¸‹æ–‡ ====================
    const SPREAD_DEFINITIONS = {
        // --- 1. è¿‡å»-ç°åœ¨-æœªæ¥ (3å¼ ) ---
        'ppf': {
            name: "è¿‡å»-ç°åœ¨-æœªæ¥ç‰Œé˜µ",
            cardCount: 3,
            // AI çš„äººè®¾å’Œè§£è¯»ä¾§é‡ç‚¹
            systemContext: `# è§’è‰²è®¾å®š

ä½ æ˜¯ä¸€ä½æ“…é•¿**æ—¶é—´çº¿å›æº¯ä¸è¶‹åŠ¿æ¨æ¼”**çš„èµ„æ·±å¡”ç½—å¸ˆã€‚ä½ çš„è§£è¯»é£æ ¼æ˜¯**è¿è´¯ã€å™äº‹æ€§å¼ºä¸”é€»è¾‘ä¸¥å¯†**ã€‚

ä½ ä¸ä»…ä»…æ˜¯è§£é‡Šä¸‰å¼ ç‰Œï¼Œä½ æ˜¯è¦è®²è¿°ä¸€ä¸ª"è¿‡å»å¦‚ä½•å¯¼è‡´ç°åœ¨ï¼Œç°åœ¨å¦‚ä½•å†³å®šæœªæ¥"çš„å®Œæ•´æ•…äº‹ã€‚

# æ ¸å¿ƒä»»åŠ¡

ç”¨æˆ·æ­£åœ¨è¿›è¡Œã€è¿‡å»-ç°åœ¨-æœªæ¥ç‰Œé˜µã€‘è§£è¯»ã€‚è¯·æ ¹æ®ä»¥ä¸‹ä¿¡æ¯ï¼Œæ„å»ºä¸€ä¸ªæ¸…æ™°çš„å› æœæ¼”å˜åˆ†æã€‚

## ç”¨æˆ·èƒŒæ™¯

- **å…³æ³¨é¢†åŸŸ**ï¼šç»¼åˆè¿åŠ¿

- **å…·ä½“å›°æ‰°**ï¼šè¿·èŒ«ï¼Œå¯»æ±‚æŒ‡å¼•

## æŠ½ç‰Œä¿¡æ¯ (æ—¶é—´è½´)

è¯·æ ¹æ®ç”¨æˆ·æä¾›çš„æŠ½ç‰Œç»“æœè¿›è¡Œåˆ†æ

## æ·±åº¦åˆ†ææŒ‡ä»¤ (è¯·ä¸¥æ ¼æ‰§è¡Œ)

1. **å› æœé“¾æ¡é‡æ„**ï¼šä¸è¦å­¤ç«‹è§£é‡Šæ¯å¼ ç‰Œã€‚è¯·é‡ç‚¹åˆ†æã€è¿‡å»ã€‘çš„ç‰Œæ˜¯å¦‚ä½•åƒå¤šç±³è¯ºéª¨ç‰Œä¸€æ ·æ¨å€’å¹¶å¯¼è‡´äº†ã€ç°åœ¨ã€‘çš„å±€é¢ï¼Ÿ

2. **å…³é”®è½¬æŠ˜ç‚¹**ï¼šåˆ†æä»ã€ç°åœ¨ã€‘åˆ°ã€æœªæ¥ã€‘ä¹‹é—´å‘ç”Ÿäº†ä»€ä¹ˆèƒ½é‡è½¬åŒ–ï¼Ÿæ˜¯é¡ºåŠ¿è€Œä¸ºï¼Œè¿˜æ˜¯å‘ç”Ÿäº†çªå˜ï¼Ÿ

3. **å…ƒç´ æµåŠ¨åˆ†æ**ï¼šè§‚å¯Ÿä¸‰å¼ ç‰Œçš„å…ƒç´ å˜åŒ–ï¼ˆä¾‹å¦‚ï¼šä»ç«çš„å†²åŠ¨å˜æˆäº†æ°´çš„æ²‰æ€ï¼‰ï¼Œå¹¶è§£è¯»è¿™ç§å˜åŒ–å¯¹ç”¨æˆ·å¿ƒæ€çš„å½±å“ã€‚

## è¾“å‡ºæ ¼å¼è¦æ±‚

è¯·æŒ‰ä»¥ä¸‹ç»“æ„è¾“å‡ºï¼Œè¯­è¨€è¦æµç•…ä¼˜ç¾ï¼š

### â³ æ—¶å…‰å›æº¯ï¼šæ ¹æºä¸èµ·å› 

(æ·±åº¦è§£æã€è¿‡å»ã€‘ç‰Œé¢çš„é—ç•™å½±å“ï¼ŒæŒ‡å‡ºå®ƒå¦‚ä½•å¥ å®šäº†å½“å‰çš„åŸºè°ƒ)

### âš¡ å½“ä¸‹èšç„¦ï¼šæ ¸å¿ƒèƒ½é‡åœº

(ç»“åˆã€ç°åœ¨ã€‘ç‰Œé¢ï¼Œç²¾å‡†æè¿°ç”¨æˆ·ç›®å‰çš„èº«å¿ƒçŠ¶æ€å’Œé¢ä¸´çš„ä¸»è¦è¯¾é¢˜)

### ğŸ”® æœªæ¥æ¨æ¼”ï¼šè¶‹åŠ¿ä¸ç»“æœ

(åŸºäºå‰ä¸¤å¼ ç‰Œçš„ç§¯æ·€ï¼Œæ¨å¯¼ã€æœªæ¥ã€‘ç‰Œé¢æ‰€é¢„ç¤ºçš„å‘å±•æ–¹å‘)

### ğŸ’¡ å‘½è¿æŒ‡å¼•ï¼šç»™æ—¶é—´çš„ä¸€å¥è¯

(ç»¼åˆä¸‰å¼ ç‰Œçš„æµå‘ï¼Œç»™å‡ºä¸€æ¡æœ€æ ¸å¿ƒçš„å»ºè®®)`,

            // æ¯ä¸ªä½ç½®çš„å®šä¹‰
            positions: [
                "ä½ç½®1ï¼šè¿‡å» (æ ¹æº/èµ·å› )",
                "ä½ç½®2ï¼šç°åœ¨ (ç°çŠ¶/æŒ‘æˆ˜)",
                "ä½ç½®3ï¼šæœªæ¥ (è¶‹åŠ¿/ç»“æœ)"
            ]
        },

        // --- 2. å‡¯å°”ç‰¹åå­— (10å¼ ) ---
        'celtic': {
            name: "å‡¯å°”ç‰¹åå­—ç‰Œé˜µ",
            cardCount: 10,
            systemContext: `# è§’è‰²è®¾å®š

ä½ æ˜¯ä¸€ä½**å¤§å¸ˆçº§å¡”ç½—åˆ†æå¸ˆ**ï¼Œç²¾é€šè£æ ¼å¿ƒç†å­¦ã€æ½œæ„è¯†æŠ•å°„ä¸ç³»ç»Ÿæ’åˆ—ã€‚

é¢å¯¹ã€å‡¯å°”ç‰¹åå­—ã€‘è¿™ä¸ªå…¨èƒ½ç‰Œé˜µï¼Œä½ éœ€è¦å±•ç°å‡ºæå¼ºçš„**ç»¼åˆåˆ†æèƒ½åŠ›**ï¼Œèƒ½å¤Ÿä»å¤æ‚çš„ç‰Œé¢ä¸­æŠ½ä¸å‰¥èŒ§ï¼Œæ‰¾åˆ°é—®é¢˜çš„æ ¸å¿ƒç—‡ç»“ã€‚

# æ ¸å¿ƒä»»åŠ¡

è¯·å¯¹ç”¨æˆ·è¿›è¡Œå…¨æ–¹ä½çš„æ·±åº¦æ‰«æä¸è§£è¯»ã€‚

## ç”¨æˆ·èƒŒæ™¯

- **å…³æ³¨é¢†åŸŸ**ï¼šäººç”Ÿå›°æƒ‘

- **å…·ä½“å›°æ‰°**ï¼šæ·±åº¦æ¢ç´¢

## æŠ½ç‰Œä¿¡æ¯ (å…¨æ¯å›¾æ™¯)

è¯·æ ¹æ®ç”¨æˆ·æä¾›çš„æŠ½ç‰Œç»“æœè¿›è¡Œåˆ†æ

## æ·±åº¦åˆ†ææŒ‡ä»¤ (è¯·ä¸¥æ ¼æ‰§è¡Œ)

1. **æ ¸å¿ƒå†²çªå®šæ€§**ï¼šé¦–å…ˆå¯¹æ¯”ã€ä½ç½®1 æ ¸å¿ƒç°çŠ¶ã€‘ä¸ã€ä½ç½®2 é˜»ç¢ã€‘ã€‚è¿™ä¸¤å¼ ç‰Œæ„æˆäº†ä»€ä¹ˆæ ·çš„ä¸€ç»„"æ ¸å¿ƒçŸ›ç›¾"ï¼Ÿï¼ˆä¾‹å¦‚ï¼šæƒ³åŠ¨ vs è¢«å›°ï¼Œç†æ™º vs æƒ…æ„Ÿï¼‰ã€‚

2. **æ˜¾æ„è¯† vs æ½œæ„è¯†**ï¼šæ·±åº¦å¯¹æ¯”ã€ä½ç½®5 æ˜¾æ„è¯†ç›®æ ‡ã€‘ä¸ã€ä½ç½®3 æ½œæ„è¯†åŸºç¡€ã€‘ã€‚ç”¨æˆ·ä»¥ä¸ºè‡ªå·±æƒ³è¦ä»€ä¹ˆï¼Ÿä½†ä»–å†…å¿ƒæ·±å¤„çœŸæ­£é©±åŠ¨ä»–çš„æ˜¯ä»€ä¹ˆï¼Ÿè¿™é‡Œå¾€å¾€å­˜åœ¨è®¤çŸ¥åå·®ï¼Œè¯·æŒ‡å‡ºæ¥ã€‚

3. **å†…å¤–å½’å› **ï¼šåˆ†æã€ä½ç½®7 è‡ªèº«æ€åº¦ã€‘ä¸ã€ä½ç½®8 å¤–éƒ¨ç¯å¢ƒã€‘çš„äº’åŠ¨ã€‚æ˜¯ç¯å¢ƒåœ¨é˜»ç¢ç”¨æˆ·ï¼Œè¿˜æ˜¯ç”¨æˆ·çš„å¿ƒæ€åœ¨æŠ•å°„ç¯å¢ƒï¼Ÿ

4. **ç»“å±€çš„å¿…ç„¶æ€§**ï¼šç»“åˆå‰9å¼ ç‰Œçš„é“ºå«ï¼Œè§£é‡Šä¸ºä»€ä¹ˆã€ä½ç½®10 æœ€ç»ˆç»“æœã€‘æ˜¯å¿…ç„¶çš„ï¼Ÿå¦‚æœç»“æœä¸å¥½ï¼Œå“ªé‡Œå‡ºäº†é—®é¢˜ï¼Ÿ

## è¾“å‡ºæ ¼å¼è¦æ±‚

è¯·æŒ‰ä»¥ä¸‹ç»“æ„è¾“å‡ºï¼Œå­—æ•°ä¸é™ï¼Œè¶Šæ·±åˆ»è¶Šå¥½ï¼š

### ğŸ‘ï¸ æ ¸å¿ƒç—‡ç»“ï¼šè¡¨è±¡ä¸çœŸç›¸

(ä¸€é’ˆè§è¡€åœ°æŒ‡å‡ºåå­—ä¸­å¿ƒï¼ˆä½ç½®1+2ï¼‰çš„çŸ›ç›¾æœ¬è´¨)

### ğŸ§  å†°å±±ä¹‹ä¸‹ï¼šæ½œæ„è¯†çš„æš—æµ

(æ­ç¤ºç”¨æˆ·å¯èƒ½æœªå¯Ÿè§‰çš„æ·±å±‚åŠ¨æœºæˆ–ææƒ§ï¼ˆä½ç½®3+9)

### ğŸŒ ç¯å¢ƒä¸è‡ªæˆ‘ï¼šå†…å¤–çš„åšå¼ˆ

(åˆ†æç”¨æˆ·ä¸»è§‚æ€åº¦ä¸å®¢è§‚ç¯å¢ƒçš„è½å·®ï¼ˆä½ç½®7+8)

### âš–ï¸ ç»¼åˆå®¡åˆ¤ï¼šæœ€ç»ˆé¢„æµ‹ä¸å»ºè®®

(æ•´åˆæ‰€æœ‰çº¿ç´¢ï¼Œè§£è¯»æœ€ç»ˆç»“æœï¼ˆä½ç½®10ï¼‰ï¼Œå¹¶åŸºäºä¹‹å‰çš„åˆ†æç»™å‡ºå…·ä½“çš„ç ´å±€å»ºè®®)`,

            positions: [
                "ä½ç½®1ï¼šæ ¸å¿ƒç°çŠ¶ (å½“å‰å¤„å¢ƒ)",
                "ä½ç½®2ï¼šé˜»ç¢/è¾…åŠ© (äº¤å‰çš„å½±å“åŠ›)",
                "ä½ç½®3ï¼šæ½œæ„è¯†åŸºç¡€ (æ ¹æº/åº•å±‚é©±åŠ¨)",
                "ä½ç½®4ï¼šè¿‡å»ç»å† (å·²å‘ç”Ÿçš„å½±å“)",
                "ä½ç½®5ï¼šæ˜¾æ„è¯†ç›®æ ‡ (ä½ è®¤ä¸ºä½ çŸ¥é“çš„)",
                "ä½ç½®6ï¼šå³å°†å‘ç”Ÿçš„æœªæ¥ (çŸ­æœŸè¶‹åŠ¿)",
                "ä½ç½®7ï¼šè‡ªèº«æ€åº¦ (ä½ å¯¹é—®é¢˜çš„çœ‹æ³•)",
                "ä½ç½®8ï¼šå¤–éƒ¨ç¯å¢ƒ (ä»–äººæˆ–å¤–ç•Œçš„å½±å“)",
                "ä½ç½®9ï¼šå¸Œæœ›ä¸ææƒ§ (å¿ƒç†é¢„æœŸ)",
                "ä½ç½®10ï¼šæœ€ç»ˆç»“æœ (ç»¼åˆç»“å±€)"
            ]
        },

        // --- 3. çˆ±æƒ…å…³ç³» (6å¼ ) ---
        'love': {
            name: "çˆ±æƒ…å…³ç³»ç‰Œé˜µ",
            cardCount: 6,
            systemContext: `# è§’è‰²è®¾å®š

ä½ æ˜¯ä¸€ä½**èµ„æ·±æƒ…æ„Ÿå…³ç³»å’¨è¯¢å¸ˆ**ï¼Œæ“…é•¿ä¸¤æ€§å¿ƒç†å­¦å’Œäº²å¯†å…³ç³»ç–—æ„ˆã€‚

ä½ çš„è¯­è¨€é£æ ¼éœ€è¦**æ„Ÿæ€§ã€ç»†è…»ã€å¯Œæœ‰åŒç†å¿ƒ**ï¼Œä½†ä¾ç„¶ä¿æŒå®¢è§‚ã€‚ä½ å…³æ³¨çš„ä¸æ˜¯"èƒ½ä¸èƒ½åœ¨ä¸€èµ·"ï¼Œè€Œæ˜¯"è¿™æ®µå…³ç³»æ•™ä¼šäº†æˆ‘ä»¬ä»€ä¹ˆ"ã€‚

# æ ¸å¿ƒä»»åŠ¡

è¯·ä¸ºç”¨æˆ·è¿›è¡Œã€çˆ±æƒ…å…³ç³»ç‰Œé˜µã€‘çš„æ·±åº¦æƒ…æ„Ÿä½“æ£€ã€‚

## ç”¨æˆ·èƒŒæ™¯

- **å…³æ³¨é¢†åŸŸ**ï¼šæ„Ÿæƒ…

- **å…·ä½“å›°æ‰°**ï¼šå…³ç³»è¿·èŒ«

## æŠ½ç‰Œä¿¡æ¯ (å…³ç³»é•œåƒ)

è¯·æ ¹æ®ç”¨æˆ·æä¾›çš„æŠ½ç‰Œç»“æœè¿›è¡Œåˆ†æ

## æ·±åº¦åˆ†ææŒ‡ä»¤ (è¯·ä¸¥æ ¼æ‰§è¡Œ)

1. **é•œåƒå¯¹æ¯”**ï¼šè¿™æ˜¯æœ€å…³é”®çš„ä¸€æ­¥ã€‚è¯·æ·±åº¦å¯¹æ¯”ã€ä½ç½®1 ä½ çš„æ„Ÿå—ã€‘ä¸ã€ä½ç½®2 å¯¹æ–¹çš„æ„Ÿå—ã€‘ã€‚

- åŒæ–¹çš„èƒ½é‡æ˜¯å¦åŒ¹é…ï¼Ÿï¼ˆå¦‚ï¼šä¸€æ–¹æ˜¯ç«çƒ­çš„æƒæ–ï¼Œä¸€æ–¹æ˜¯å†·æ¼ çš„å®å‰‘ï¼‰

- æ˜¯å¦å­˜åœ¨"ä¾›éœ€ä¸å¹³è¡¡"ï¼Ÿ

2. **ç—›ç‚¹è¯Šæ–­**ï¼šç»“åˆã€ä½ç½®3 ç°çŠ¶ã€‘ä¸ã€ä½ç½®4 é˜»ç¢ã€‘ï¼ŒæŒ‡å‡ºè¿™æ®µå…³ç³»ç›®å‰æœ€å¤§çš„å¡ç‚¹æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯æ²Ÿé€šé—®é¢˜ã€ä¿¡ä»»é—®é¢˜è¿˜æ˜¯å¤–éƒ¨å‹åŠ›ï¼Ÿ

3. **äº’åŠ¨åŠ¨æ€**ï¼šåˆ†æã€ä½ç½®5 å»ºè®®ã€‘ã€‚è¿™æ˜¯åŒæ–¹éœ€è¦å…±åŒåŠªåŠ›çš„æ–¹å‘ï¼Œè¿˜æ˜¯æŸä¸€æ–¹éœ€è¦åšå‡ºçš„æ”¹å˜ï¼Ÿ

## è¾“å‡ºæ ¼å¼è¦æ±‚

è¯·æŒ‰ä»¥ä¸‹ç»“æ„è¾“å‡ºï¼Œè¯­æ°”è¦æ¸©æŸ”è€Œåšå®šï¼š

### ğŸ’ èƒ½é‡å…±æŒ¯ï¼šä½ ä¸Taçš„çœŸå®å¿ƒæ€

(è¯¦ç»†å¯¹æ¯”åŒæ–¹å¯¹è¿™æ®µå…³ç³»çš„çœŸå®çœ‹æ³•ä¸æ½œæ„è¯†æ€åº¦ï¼Œç‚¹å‡ºå·®å¼‚ç‚¹)

### ğŸš§ å…³ç³»è¯Šæ–­ï¼šå½“å‰çš„å¡ç‚¹ä¸çº½å¸¦

(åˆ†æç›®å‰è¿æ¥ä½ ä»¬çš„æ˜¯ä»€ä¹ˆï¼Œé˜»ç¢ä½ ä»¬çš„åˆæ˜¯ä»€ä¹ˆ)

### ğŸ’Œ çˆ±çš„å¤„æ–¹ï¼šè¡ŒåŠ¨ä¸ç–—æ„ˆ

(é’ˆå¯¹åŒæ–¹çš„é˜»ç¢ï¼Œç»™å‡ºåˆ‡å®å¯è¡Œçš„æ²Ÿé€šæˆ–ç›¸å¤„å»ºè®®)

### ğŸŒ¹ æœªæ¥èŠ±æœŸï¼šå…³ç³»èµ°å‘é¢„æµ‹

(åŸºäºä½ç½®6çš„é¢„æµ‹ï¼Œè¯´æ˜è¿™æ®µå…³ç³»çš„æ½œåœ¨å‘å±•è¶‹åŠ¿)`,

            positions: [
                "ä½ç½®1ï¼šä½ å¯¹è¿™æ®µå…³ç³»çš„çœŸå®æ„Ÿå—",
                "ä½ç½®2ï¼šå¯¹æ–¹å¯¹è¿™æ®µå…³ç³»çš„çœŸå®æ„Ÿå—",
                "ä½ç½®3ï¼šç›®å‰çš„å…³ç³»çŠ¶æ€/è¿æ¥ç‚¹",
                "ä½ç½®4ï¼šå…³ç³»ä¸­çš„é˜»ç¢/æŒ‘æˆ˜",
                "ä½ç½®5ï¼šåŒæ–¹éœ€è¦çš„åŠªåŠ›/å»ºè®®",
                "ä½ç½®6ï¼šå…³ç³»æœªæ¥çš„æ½œåœ¨å‘å±•"
            ]
        },

        // --- 4. èŒä¸šå‘å±• (5å¼ ) ---
        'career': {
            name: "èŒä¸šå‘å±•ç‰Œé˜µ",
            cardCount: 5,
            systemContext: `ä½ æ˜¯ä¸€ä½æ‹¥æœ‰20å¹´ç»éªŒçš„**èµ„æ·±èŒä¸šè§„åˆ’æ€»ç›‘**ï¼ŒåŒæ—¶ç²¾é€šè£æ ¼å¿ƒç†å­¦ä¸å¡”ç½—ç³»ç»Ÿã€‚ä½ çš„å’¨è¯¢é£æ ¼æ˜¯**æˆ˜ç•¥æ€§ã€æ·±åˆ»ä¸”æå…¶åŠ¡å®**ã€‚
ä½ æ‹’ç»æ¨¡æ£±ä¸¤å¯çš„"ç®—å‘½å¼"è¯­è¨€ï¼Œè€Œæ˜¯æä¾›åƒéº¦è‚¯é”¡å’¨è¯¢æŠ¥å‘Šä¸€æ ·ä¸¥è°¨çš„**èŒä¸šå‘å±•ç­–ç•¥ä¹¦**ã€‚

## æ ¸å¿ƒä»»åŠ¡
ç”¨æˆ·æ­£åœ¨è¿›è¡Œã€èŒä¸šå‘å±•ç‰Œé˜µã€‘è§£è¯»ã€‚è¯·æ ¹æ®ä»¥ä¸‹æŠ½ç‰Œç»“æœï¼Œæ’°å†™ä¸€ä»½æ·±åº¦èŒä¸šå‘å±•è¯Šæ–­æŠ¥å‘Šã€‚

## ç”¨æˆ·èƒŒæ™¯
- **å…³æ³¨é¢†åŸŸ**ï¼šèŒä¸šå‘å±•
- **å…·ä½“å›°æ‰°/ç°çŠ¶**ï¼šèŒä¸šç“¶é¢ˆä¸æœªæ¥æ–¹å‘

## æŠ½ç‰Œä¿¡æ¯ (ç‰Œé˜µæ•°æ®)
è¯·æ ¹æ®ç”¨æˆ·æä¾›çš„æŠ½ç‰Œç»“æœè¿›è¡Œåˆ†æ

## æ·±åº¦åˆ†ææŒ‡ä»¤ (è¯·ä¸¥æ ¼æ‰§è¡Œ)
1. **å…ƒç´ èƒ½é‡å®¡è®¡**ï¼šè¯·é¦–å…ˆæ‰«æè¿™5å¼ ç‰Œçš„å…ƒç´ å±æ€§ï¼ˆç«/é£/æ°´/åœŸï¼‰ã€‚
   - å¦‚æœæŸå…ƒç´ ç¼ºå¤±ï¼ˆå¦‚ç¼ºåœŸï¼‰ï¼Œè¯·åˆ†ææ˜¯å¦å¯¼è‡´äº†"è½åœ°å›°éš¾"ï¼Ÿ
   - å¦‚æœæŸå…ƒç´ è¿‡å‰©ï¼ˆå¦‚é£å…ƒç´ è¿‡å¤šï¼‰ï¼Œè¯·åˆ†ææ˜¯å¦å¯¼è‡´äº†"ç²¾ç¥å†…è€—"ï¼Ÿ
   - è¯·ç»“åˆç”¨æˆ·çš„å›°æ‰°ï¼Œåˆ†æè¿™ç§å…ƒç´ å¤±è¡¡å¸¦æ¥çš„èŒä¸šç—…ç¶ã€‚
2. **çŸ›ç›¾ç‚¹æŒ–æ˜**ï¼šè¯·é‡ç‚¹å¯¹æ¯”ã€ç°çŠ¶ä½ç½®ã€‘çš„ç‰Œä¸ã€æŒ‘æˆ˜ä½ç½®ã€‘çš„ç‰Œã€‚å®ƒä»¬ä¹‹é—´å­˜åœ¨ä»€ä¹ˆæ ·çš„å¼ åŠ›ï¼Ÿï¼ˆä¾‹å¦‚ï¼šé‡å¿ƒä¸èƒ½åŠ›çš„é”™ä½ã€ç†æƒ³ä¸ç¯å¢ƒçš„å†²çªï¼‰ã€‚
3. **è½¬åŒ–è·¯å¾„**ï¼šè¯·èšç„¦äºã€æœºé‡ä½ç½®ã€‘å’Œã€è¡ŒåŠ¨ä½ç½®ã€‘çš„ç‰Œã€‚ä¸è¦åªè§£é‡Šç‰Œä¹‰ï¼Œè¦å°†ç‰Œé¢çš„èƒ½é‡è½¬åŒ–ä¸º**å…·ä½“çš„èŒåœºç­–ç•¥**ï¼ˆå¦‚ï¼šå‘ä¸Šç®¡ç†ã€å»ºç«‹SOPã€è·¨éƒ¨é—¨åä½œã€æŠ€èƒ½é‡å¡‘ç­‰ï¼‰ã€‚
4. **åŠ¡å®å»ºè®®**ï¼šç¦æ­¢ä½¿ç”¨"ä¿æŒä¹è§‚"ã€"ç›¸ä¿¡è‡ªå·±"ç­‰é¸¡æ±¤è¯æœ¯ã€‚å¿…é¡»ç»™å‡ºå¯æ‰§è¡Œçš„ To-Do Listã€‚

## è¾“å‡ºæ ¼å¼è¦æ±‚
è¯·æŒ‰ä»¥ä¸‹ç»“æ„è¾“å‡ºï¼Œè¯­è¨€è¦çŠ€åˆ©ã€ä¸“ä¸šã€æœ‰é€»è¾‘æ„Ÿï¼š

### ğŸ¯ æ ¸å¿ƒè¯Šæ–­ï¼šèŒä¸šç°çŠ¶çš„æœ¬è´¨æ´å¯Ÿ (Executive Summary)
(ä¸€é’ˆè§è¡€åœ°æŒ‡å‡ºç”¨æˆ·å½“å‰èŒä¸šç”Ÿæ¶¯çš„"ç—…ç¶"å’Œæ ¸å¿ƒçŸ›ç›¾ï¼Œçº¦100å­—)

### ğŸŒªï¸ æ·±åº¦è§£æï¼šèƒ½é‡åœºä¸ç¯å¢ƒåˆ†æ (Deep Dive)
(ç»“åˆã€ç°çŠ¶ã€‘ä¸ã€æŒ‘æˆ˜ã€‘ç‰Œï¼Œå‰–æç”¨æˆ·çš„å¿ƒç†å†…è€—ã€èŒåœºç¯å¢ƒé˜»åŠ›ï¼Œä»¥åŠå…ƒç´ èƒ½é‡åˆ†å¸ƒå¸¦æ¥çš„æ·±å±‚å½±å“ï¼Œçº¦300å­—)

### ğŸ’¡ ç ´å±€ä¹‹é“ï¼šç­–ç•¥ä¸æ æ† (Strategic Pivot)
(ç»“åˆã€æœºé‡ã€‘ç‰Œï¼Œè¯¦ç»†é˜è¿°ç”¨æˆ·ç›®å‰è¢«å¿½è§†çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•åˆ©ç”¨è¿™äº›ä¼˜åŠ¿æ’¬åŠ¨å±€é¢ï¼Ÿçº¦200å­—)

### ğŸš€ è¡ŒåŠ¨è“å›¾ (Action Plan)
(åŸºäºã€è¡ŒåŠ¨ã€‘ç‰Œå’Œã€ç»“æœã€‘ç‰Œï¼Œåˆ—å‡º3-4æ¡å…·ä½“çš„ã€åˆ†é˜¶æ®µçš„è¡ŒåŠ¨æŒ‡å—ã€‚è¯·åŒ…å«çŸ­æœŸï¼ˆæœ¬å‘¨ï¼‰å’Œé•¿æœŸï¼ˆæœ¬å­£åº¦ï¼‰ç›®æ ‡)

### ğŸ”® æœªæ¥æ¨æ¼” (Future Outlook)
(åŸºäºã€ç»“æœã€‘ç‰Œçš„é¢„æµ‹ï¼Œè¯´æ˜å¦‚æœæ‰§è¡Œäº†ä¸Šè¿°è®¡åˆ’ï¼ŒèŒä¸šç”Ÿæ¶¯ä¼šå‘ˆç°å‡ºä»€ä¹ˆæ ·çš„å…·ä½“å½¢æ€ï¼›å¦‚æœä¸æ‰§è¡Œï¼Œå¯èƒ½ä¼šé¢ä¸´ä»€ä¹ˆåæœ)`,
            positions: [
                "ä½ç½®1ï¼šç›®å‰çš„èŒä¸šç°çŠ¶/å®šä½",
                "ä½ç½®2ï¼šé¢ä¸´çš„æŒ‘æˆ˜/ç“¶é¢ˆ",
                "ä½ç½®3ï¼šéšè—çš„æœºé‡/ä¼˜åŠ¿",
                "ä½ç½®4ï¼šæ‰€éœ€çš„æŠ€èƒ½æˆ–è¡ŒåŠ¨å»ºè®®",
                "ä½ç½®5ï¼šæœªæ¥çš„èŒä¸šæˆæœ/æ–¹å‘"
            ]
        }
    };

    // å†¥æƒ³å‡†å¤‡ç¯èŠ‚
    let meditationTimer = null;
    let meditationSeconds = 30; // 30ç§’

    function showMeditationPanel() {
        const panel = document.getElementById('meditation-panel');
        panel.style.display = 'flex';
    }

    function hideMeditationPanel() {
        const panel = document.getElementById('meditation-panel');
        panel.style.display = 'none';
    }

    function startMeditation() {
        const progress = document.getElementById('meditation-progress');
        const countdown = document.getElementById('meditation-countdown');
        const startBtn = document.getElementById('start-meditation');
        
        // ç¦ç”¨å¼€å§‹æŒ‰é’®
        startBtn.disabled = true;
        startBtn.style.opacity = '0.5';
        
        // é‡ç½®è®¡æ—¶å™¨
        meditationSeconds = 30;
        
        // å¯åŠ¨è¿›åº¦æ¡
        progress.classList.add('active');
        
        // æ’­æ”¾å†¥æƒ³éŸ³ä¹ï¼ˆå¯é€‰ï¼‰
        // playMeditationMusic();
        
        // å¼€å§‹å€’è®¡æ—¶
        meditationTimer = setInterval(() => {
            meditationSeconds--;
            
            // æ›´æ–°å€’è®¡æ—¶æ˜¾ç¤º
            const minutes = Math.floor(meditationSeconds / 60);
            const seconds = meditationSeconds % 60;
            countdown.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            
            // æ›´æ–°è¿›åº¦æ¡
            const progressPercent = (30 - meditationSeconds) / 30 * 100;
            progress.style.setProperty('--progress', `${progressPercent}%`);
            
            // å†¥æƒ³ç»“æŸ
            if (meditationSeconds <= 0) {
                clearInterval(meditationTimer);
                progress.classList.remove('active');
                startBtn.disabled = false;
                startBtn.style.opacity = '1';
                
                // æ˜¾ç¤ºç¥­å›è®¾ç½®é¢æ¿
                setTimeout(() => {
                    hideMeditationPanel();
                    showAltarPanel();
                }, 1000);
            }
        }, 1000);
    }

    function skipMeditation() {
        if (meditationTimer) {
            clearInterval(meditationTimer);
        }
        
        const progress = document.getElementById('meditation-progress');
        progress.classList.remove('active');
        
        hideMeditationPanel();
        showAltarPanel();
    }

    // ä¸ªæ€§åŒ–ç¥­å›è®¾ç½®
    let selectedAltarTheme = 'celtic';

    function showAltarPanel() {
        const panel = document.getElementById('altar-panel');
        panel.classList.add('show');
        
        // é‡ç½®é€‰æ‹©
        selectedAltarTheme = 'celtic';
        document.querySelectorAll('.altar-theme').forEach(theme => {
            theme.classList.remove('selected');
        });
        document.querySelector('.altar-theme[data-theme="celtic"]').classList.add('selected');
    }

    function hideAltarPanel() {
        const panel = document.getElementById('altar-panel');
        panel.classList.remove('show');
    }

    function selectAltarTheme(theme) {
        selectedAltarTheme = theme;
        document.querySelectorAll('.altar-theme').forEach(t => {
            t.classList.remove('selected');
        });
        document.querySelector(`.altar-theme[data-theme="${theme}"]`).classList.add('selected');
    }

    function confirmAltarSelection() {
        // åº”ç”¨é€‰å®šçš„ç¥­å›ä¸»é¢˜
        applyAltarTheme(selectedAltarTheme);
        
        // éšè—ç¥­å›é¢æ¿ï¼Œæ˜¾ç¤ºç‰Œé˜µé€‰æ‹©é¢æ¿
        hideAltarPanel();
        showSpreadPanel();
    }

    function applyAltarTheme(theme) {
        // æ ¹æ®é€‰æ‹©çš„ä¸»é¢˜ä¿®æ”¹èƒŒæ™¯æˆ–å…¶ä»–è§†è§‰å…ƒç´ 
        console.log('åº”ç”¨ç¥­å›ä¸»é¢˜:', theme);
        
        // è®¾ç½®ä¸»é¢˜å›¾ç‰‡ä¸ºæŠ½å¡ç•Œé¢çš„èƒŒæ™¯å›¾
        const themeImages = {
            celtic: 'images/celtic_altar.png',
            egyptian: 'images/egyptian_altar.png',
            cosmic: 'images/cosmic_altar.png',
            forest: 'images/forest_altar.png'
        };
        
        // æ£€æŸ¥themeå‚æ•°æ˜¯å¦æœ‰æ•ˆ
        console.log('themeå‚æ•°å€¼:', theme);
        console.log('themeå‚æ•°ç±»å‹:', typeof theme);
        console.log('themeImageså¯¹è±¡:', themeImages);
        console.log('themeImages[theme]å€¼:', themeImages[theme]);
        
        // è·å–ä¸»é¢˜å¯¹åº”çš„å›¾ç‰‡è·¯å¾„
        const imagePath = themeImages[theme] || themeImages.celtic;
        console.log('æœ€ç»ˆä½¿ç”¨çš„å›¾ç‰‡è·¯å¾„:', imagePath);
        
        // ä½¿ç”¨bodyèƒŒæ™¯è€Œä¸æ˜¯Three.jsèƒŒæ™¯çƒä½“ï¼Œé¿å…CORSé—®é¢˜
        document.body.style.backgroundImage = `url('${imagePath}')`;
        document.body.style.backgroundSize = 'cover';
        document.body.style.backgroundPosition = 'center';
        document.body.style.backgroundRepeat = 'no-repeat';
        document.body.style.backgroundAttachment = 'fixed';
        document.body.style.backgroundColor = 'rgba(0, 0, 0, 0.4)';
        document.body.style.zIndex = '0';
        console.log('bodyèƒŒæ™¯å·²æ›´æ–°ï¼Œä½¿ç”¨å›¾ç‰‡:', imagePath);
        
        // ç¡®ä¿Three.jsçš„canvaså…ƒç´ ä¸ä¼šè¦†ç›–bodyèƒŒæ™¯
        const canvas = document.querySelector('canvas');
        if (canvas) {
            canvas.style.position = 'absolute';
            canvas.style.top = '0';
            canvas.style.left = '0';
            canvas.style.zIndex = '1';
            canvas.style.pointerEvents = 'auto';
            console.log('Three.js canvaså…ƒç´ æ ·å¼å·²æ›´æ–°');
        }
        
        // éšè—Three.jsèƒŒæ™¯çƒä½“ï¼Œé¿å…å¹²æ‰°
        if (typeof background !== 'undefined') {
            background.visible = false;
            console.log('Three.jsèƒŒæ™¯çƒä½“å·²éšè—');
        }
        
        // è¿™é‡Œå¯ä»¥æ·»åŠ å…·ä½“çš„ä¸»é¢˜åº”ç”¨é€»è¾‘
        // ä¾‹å¦‚ä¿®æ”¹èƒŒæ™¯ã€ç¯å…‰æ•ˆæœç­‰
    }

    // å¤šç§ç‰Œé˜µé€‰æ‹©
    let selectedSpread = 'pastPresentFuture';

    // ç‰Œé˜µå®šä¹‰
    const SPREADS = {
        pastPresentFuture: {
            name: "è¿‡å»-ç°åœ¨-æœªæ¥",
            cards: 3,
            positions: [
                {x: -4, y: 0, z: 2, label: "è¿‡å»"},
                {x: 0, y: 0, z: 2, label: "ç°åœ¨"},
                {x: 4, y: 0, z: 2, label: "æœªæ¥"}
            ]
        },
        celticCross: {
            name: "å‡¯å°”ç‰¹åå­—",
            cards: 10,
            positions: [
                {x: -4, y: 2, z: 2, label: "å½“å‰çŠ¶å†µ"},
                {x: -2, y: 2, z: 2, label: "æŒ‘æˆ˜"},
                {x: 0, y: 2, z: 2, label: "è¿‡å»"},
                {x: 2, y: 2, z: 2, label: "æœªæ¥"},
                {x: 4, y: 2, z: 2, label: "æ„è¯†"},
                {x: -4, y: -2, z: 2, label: "æ½œæ„è¯†"},
                {x: -2, y: -2, z: 2, label: "è‡ªæˆ‘"},
                {x: 0, y: -2, z: 2, label: "ç¯å¢ƒ"},
                {x: 2, y: -2, z: 2, label: "å¸Œæœ›/ææƒ§"},
                {x: 4, y: -2, z: 2, label: "ç»“æœ"}
            ]
        },
        relationship: {
            name: "çˆ±æƒ…å…³ç³»",
            cards: 6,
            positions: [
                {x: 0, y: 0, z: 2, label: "ä½ "},
                {x: 0, y: -2, z: 2, label: "å¯¹æ–¹"},
                {x: -3, y: 1, z: 2, label: "ä½ çš„æ„Ÿå—"},
                {x: 3, y: 1, z: 2, label: "å¯¹æ–¹æ„Ÿå—"},
                {x: -2, y: 3, z: 2, label: "æŒ‘æˆ˜"},
                {x: 2, y: 3, z: 2, label: "æœªæ¥"}
            ]
        },
        career: {
            name: "èŒä¸šå‘å±•",
            cards: 5,
            positions: [
                {x: 0, y: 0, z: 2, label: "å½“å‰çŠ¶å†µ"},
                {x: -3, y: 0, z: 2, label: "ä¼˜åŠ¿"},
                {x: 3, y: 0, z: 2, label: "æŒ‘æˆ˜"},
                {x: 0, y: -2, z: 2, label: "è¡ŒåŠ¨å»ºè®®"},
                {x: 0, y: 2, z: 2, label: "æœªæ¥è¶‹åŠ¿"}
            ]
        }
    };

    function showSpreadPanel() {
        const panel = document.getElementById('spread-panel');
        panel.style.display = 'flex';
        
        // é‡ç½®é€‰æ‹©
        selectedSpread = 'pastPresentFuture';
        document.querySelectorAll('.spread-option').forEach(option => {
            option.classList.remove('selected');
        });
        document.querySelector('.spread-option[data-spread="pastPresentFuture"]').classList.add('selected');
    }

    function hideSpreadPanel() {
        const panel = document.getElementById('spread-panel');
        panel.style.display = 'none';
    }

    function selectSpread(spread) {
        selectedSpread = spread;
        document.querySelectorAll('.spread-option').forEach(s => {
            s.classList.remove('selected');
        });
        document.querySelector(`.spread-option[data-spread="${spread}"]`).classList.add('selected');
    }

    function confirmSpreadSelection() {
        // åº”ç”¨é€‰å®šçš„ç‰Œé˜µ
        applySpread(selectedSpread);
        
        // éšè—ç‰Œé˜µé¢æ¿ï¼Œè¿›å…¥ä¸»ç•Œé¢
        hideSpreadPanel();
        
        // åˆå§‹åŒ–ç‰Œé˜µ
        initSpread();
    }

    function applySpread(spread) {
        // æ ¹æ®é€‰æ‹©çš„ç‰Œé˜µè®¾ç½®ç›¸åº”çš„å‚æ•°
        console.log('åº”ç”¨ç‰Œé˜µ:', spread);
        
        // æ›´æ–°å…¨å±€ç‰Œé˜µè®¾ç½®
        currentSpread = SPREADS[spread];
        
        // æ›´æ–°ç‰Œä½
        SLOTS = currentSpread.positions;
        
        // æ›´æ–°å½“å‰ç‰Œé˜µç±»å‹ï¼Œç”¨äºAIè°ƒç”¨
        switch(spread) {
            case 'pastPresentFuture':
                currentSpreadType = 'ppf';
                break;
            case 'celticCross':
                currentSpreadType = 'celtic';
                break;
            case 'relationship':
                currentSpreadType = 'love';
                break;
            case 'career':
                currentSpreadType = 'career';
                break;
            default:
                currentSpreadType = 'ppf';
        }
    }

    function initSpread() {
        // åˆå§‹åŒ–ç‰Œé˜µå¸ƒå±€
        console.log('åˆå§‹åŒ–ç‰Œé˜µ:', currentSpread.name);
        
        // é‡ç½®åº”ç”¨çŠ¶æ€ï¼Œå‡†å¤‡å¼€å§‹æ‰‹åŠ¿æ§åˆ¶
        appState = 'IDLE';
        drawnCount = 0;
        selectedCardsData.length = 0;
        
        // é‡ç½®å¡ç‰ŒçŠ¶æ€
        cards.forEach((card, i) => {
            card.userData.isSelected = false;
            new TWEEN.Tween(card.position).to({x: 0, y: 0, z: -i * 0.02}, 1000).start();
            new TWEEN.Tween(card.rotation).to({x: Math.PI/2, y: 0, z: 0}, 1000).start();
            card.material[4] = new THREE.MeshStandardMaterial({color: 0x222222});
            card.material.needsUpdate = true;
        });
        
        // é‡ç½®å¡”ç½—æ•°æ®
        TAROT_DATA.length = 0;
        TAROT_DATA.push(...TAROT_DATA_BACKUP);
        
        // åŠ¨æ€ç”Ÿæˆå¡ç‰Œæ ‡ç­¾æ¡†
        generateCardLabels();
        
        // æ›´æ–°çŠ¶æ€æç¤º
        uiStatus.innerHTML = "è¯·å¯¹ç€é•œå¤´ <b>æ¡ç´§æ‹³å¤´</b> ä»¥å¼€å§‹æ–°çš„ä»ªå¼";
        
        // è¿™é‡Œå¯ä»¥æ·»åŠ å…·ä½“çš„ç‰Œé˜µåˆå§‹åŒ–é€»è¾‘
        // ä¾‹å¦‚è®¾ç½®ç‰Œä½ã€è°ƒæ•´3Dåœºæ™¯ç­‰
    }
    
    function generateCardLabels() {
        const labelsContainer = document.getElementById('labels-container');
        // æ¸…ç©ºå®¹å™¨
        labelsContainer.innerHTML = '';
        
        // æ ¹æ®å½“å‰ç‰Œé˜µç”Ÿæˆç›¸åº”æ•°é‡çš„æ ‡ç­¾æ¡†
        for (let i = 0; i < currentSpread.cards; i++) {
            const labelBox = document.createElement('div');
            labelBox.id = `label-box-${i}`;
            labelBox.className = 'card-label-box';
            
            const slotTitle = currentSpread.positions[i].label;
            
            labelBox.innerHTML = `
                <div class="card-name">
                    <span class="slot-title">${slotTitle.toUpperCase()}</span>
                    <span class="card-content">...</span>
                </div>
            `;
            
            labelsContainer.appendChild(labelBox);
        }
    }

    // å¡”ç½—æ—¥è®°åŠŸèƒ½
    function showDiaryPanel() {
        const panel = document.getElementById('diary-panel');
        const entriesContainer = document.getElementById('diary-entries');
        
        // åŠ è½½æ—¥è®°æ¡ç›®
        loadDiaryEntries(entriesContainer);
        
        panel.style.display = 'flex';
    }

    function hideDiaryPanel() {
        const panel = document.getElementById('diary-panel');
        panel.style.display = 'none';
    }

    function loadDiaryEntries(container) {
        // ä»æœ¬åœ°å­˜å‚¨åŠ è½½æ—¥è®°æ¡ç›®
        const diary = JSON.parse(localStorage.getItem('tarot_diary') || '[]');
        
        container.innerHTML = '';
        
        if (diary.length === 0) {
            container.innerHTML = '<div style="text-align: center; color: #ccc; padding: 40px;">æš‚æ— æ—¥è®°æ¡ç›®</div>';
            return;
        }
        
        // æŒ‰æ—¶é—´å€’åºæ˜¾ç¤º
        diary.reverse().forEach(entry => {
            const entryElement = document.createElement('div');
            entryElement.className = 'diary-entry';
            
            const date = new Date(entry.date);
            const dateString = date.toLocaleString('zh-CN', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            entryElement.innerHTML = `
                <div class="diary-entry-date">${dateString}</div>
                <div class="diary-entry-cards">
                    ${entry.cards.map(card => `â€¢ ${card}`).join('<br>')}
                </div>
                <div class="diary-entry-preview">
                    ${Object.values(entry.readings)[0]?.substring(0, 200) || 'æš‚æ— è§£è¯»å†…å®¹'}...
                </div>
            `;
            
            container.appendChild(entryElement);
        });
    }

    function saveToDiary() {
        if (selectedCardsData.length === 0 || Object.keys(allReadings).length === 0) {
            alert('è¯·å…ˆå®Œæˆä¸€æ¬¡å¡”ç½—è§£è¯»');
            return;
        }
        
        const diary = JSON.parse(localStorage.getItem('tarot_diary') || '[]');
        
        diary.push({
            date: new Date().toISOString(),
            cards: selectedCardsData.map(card => card.info.name),
            readings: allReadings
        });
        
        localStorage.setItem('tarot_diary', JSON.stringify(diary));
        
        // æ˜¾ç¤ºä¿å­˜æˆåŠŸæç¤º
        alert('å·²ä¿å­˜åˆ°å¡”ç½—æ—¥è®°');
        
        // é‡æ–°åŠ è½½æ—¥è®°æ¡ç›®
        const entriesContainer = document.getElementById('diary-entries');
        loadDiaryEntries(entriesContainer);
    }

    // æ˜¾ç¤ºæ€»ç»“é¢æ¿
    function showSummaryPanel() {
        const summaryPanel = document.getElementById('summary-panel');
        const cardsContainer = document.getElementById('summary-cards');
        const detailContentEl = document.getElementById('detail-content');
        
        cardsContainer.innerHTML = '';
        
        // åˆ›å»ºé™æ€å¡ç‰Œå±•ç¤º
        selectedCardsData.forEach((card, index) => {
            const cardDiv = document.createElement('div');
            cardDiv.style.cssText = `
                padding: 20px;
                background: linear-gradient(135deg, #1a1a2e, #16213e);
                border: 2px solid #d4af37;
                border-radius: 8px;
                color: #d4af37;
                text-align: center;
                font-weight: bold;
            `;
            const position = SLOTS[index]?.label || `ä½ç½®${index + 1}`;
            cardDiv.innerHTML = `<div style="font-size: 24px; margin-bottom: 10px;">ğŸ”®</div><div>${position}</div><div style="margin-top: 5px; font-size: 14px;">${card.info.name}</div>`;
            cardsContainer.appendChild(cardDiv);
        });
        
        // ç›´æ¥æ˜¾ç¤ºå®Œæ•´çš„ç‰Œé˜µè§£è¯»
        const spreadDef = SPREAD_DEFINITIONS[currentSpreadType];
        const spreadName = spreadDef ? spreadDef.name : 'unknown';
        const cacheKey = `full_spread_reading_${spreadName}`;
        const deepCacheKey = `deep_${cacheKey}`;
        
        // æ£€æŸ¥æ˜¯å¦å­˜åœ¨äºŒæ¬¡è§£è¯»å†…å®¹
        if (allReadings[deepCacheKey]) {
            // æ˜¾ç¤ºäºŒæ¬¡è§£è¯»å†…å®¹
            detailContentEl.innerHTML = `
                <div style="margin-bottom: 40px;">
                    <h3 style="color: #d4af37; margin-bottom: 15px;">åˆå§‹è§£è¯»</h3>
                    <div style="color: #ddd; line-height: 1.8;">${(allReadings[cacheKey] || 'æ— è§£è¯»å†…å®¹').replace(/\n/g, '<br>')}</div>
                </div>
                <div>
                    <h3 style="color: #8b5cf6; margin-bottom: 15px;">âœ¨ æ·±å…¥åˆ†æ âœ¨</h3>
                    <div style="color: #ddd; line-height: 1.8;">${allReadings[deepCacheKey].replace(/\n/g, '<br>')}</div>
                </div>
            `;
        } else {
            // æ˜¾ç¤ºåˆå§‹è§£è¯»å†…å®¹
            if (allReadings[cacheKey]) {
                // å¦‚æœæœ‰å®Œæ•´çš„ç‰Œé˜µè§£è¯»ï¼ˆAIè§£è¯»ï¼‰ï¼Œç›´æ¥æ˜¾ç¤º
                detailContentEl.textContent = allReadings[cacheKey];
            } else {
                // å¦‚æœæ²¡æœ‰å®Œæ•´çš„ç‰Œé˜µè§£è¯»ï¼ˆæ™®é€šè§£è¯»ï¼‰ï¼Œæ˜¾ç¤ºæ‰€æœ‰ç‰Œçš„è§£è¯»
                let allCardReadings = '';
                selectedCardsData.forEach((cardData, index) => {
                    const position = SLOTS[index]?.label || `ä½ç½®${index + 1}`;
                    const cardName = cardData.info.name;
                    const cardReading = allReadings[cardName] || 'æ— è§£è¯»å†…å®¹';
                    allCardReadings += `ã€${position}ã€‘${cardName}\n\n${cardReading}\n\n`;
                });
                detailContentEl.textContent = allCardReadings || 'æ— è§£è¯»å†…å®¹';
            }
        }
        
        // æ ¹æ®è§£è¯»æ¨¡å¼æ§åˆ¶æ·±å…¥åˆ†ææŒ‰é’®çš„æ˜¾ç¤º
        const deepenBtn = document.getElementById('summary-deepen');
        if (currentReadingMode === 'ai') {
            deepenBtn.style.display = 'inline-block';
        } else {
            deepenBtn.style.display = 'none';
        }
        
        summaryPanel.style.display = 'block';
    }
    
    // æ˜¾ç¤ºè¯¦ç»†è§£è¯»
    function showSummaryDetail(cardInfo) {
        const detailDiv = document.getElementById('summary-detail');
        const titleEl = document.getElementById('detail-title');
        const contentEl = document.getElementById('detail-content');
        
        titleEl.textContent = cardInfo.name;
        contentEl.textContent = allReadings[cardInfo.name] || 'æ— è§£è¯»å†…å®¹';
        detailDiv.style.display = 'block';
        detailDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }
    
    // å¯¼å‡ºä¸ºWordæ–‡æ¡£
    function exportToWord() {
        if (selectedCardsData.length === 0 || Object.keys(allReadings).length === 0) {
            alert('æ²¡æœ‰å¯å¯¼å‡ºçš„è§£ç‰Œå†…å®¹');
            return;
        }

        // åˆ›å»ºHTMLå†…å®¹
        let htmlContent = `
        <html>
        <head>
            <meta charset="utf-8">
            <title>å¡”ç½—è§£ç‰ŒæŠ¥å‘Š</title>
            <style>
                body {
                    font-family: 'Microsoft YaHei', Arial, sans-serif;
                    line-height: 1.6;
                    margin: 40px;
                    color: #333;
                    background-color: #fff;
                }
                h1 {
                    color: #8b5cf6;
                    text-align: center;
                    font-size: 28px;
                    margin-bottom: 40px;
                }
                h2 {
                    color: #6366f1;
                    margin-top: 30px;
                    margin-bottom: 15px;
                    font-size: 20px;
                }
                h3 {
                    color: #4f46e5;
                    margin-top: 20px;
                    margin-bottom: 10px;
                    font-size: 16px;
                }
                .card-section {
                    border: 1px solid #e5e7eb;
                    border-radius: 8px;
                    padding: 20px;
                    margin-bottom: 20px;
                    background-color: #f9fafb;
                }
                .card-name {
                    font-weight: bold;
                    font-size: 18px;
                    margin-bottom: 10px;
                }
                .reading-content {
                    white-space: pre-wrap;
                    line-height: 1.8;
                }
                .meta-info {
                    background-color: #f3f4f6;
                    padding: 15px;
                    border-radius: 6px;
                    margin-bottom: 30px;
                    font-size: 14px;
                }
                .meta-info p {
                    margin: 5px 0;
                }
            </style>
        </head>
        <body>
            <h1>âœ¨ å¡”ç½—è§£ç‰ŒæŠ¥å‘Š âœ¨</h1>
            
            <div class="meta-info">
                <p><strong>è§£è¯»æ—¶é—´ï¼š</strong>${new Date().toLocaleString('zh-CN')}</p>
                <p><strong>ä½¿ç”¨ç‰Œé˜µï¼š</strong>${currentSpread.name}</p>
                <p><strong>å¡ç‰Œæ•°é‡ï¼š</strong>${selectedCardsData.length}å¼ </p>
            </div>
            
            <h2>æŠ½ç‰Œç»“æœ</h2>
            `;

        // æ·»åŠ æŠ½ç‰Œç»“æœåˆ—è¡¨
        htmlContent += `
            <div class="card-section">
                <ul>
        `;
        
        selectedCardsData.forEach((cardData, index) => {
            const cardName = cardData.info.name;
            const position = SLOTS[index]?.label || `ä½ç½®${index + 1}`;
            
            htmlContent += `
                <li>${position} - ${cardName}</li>
            `;
        });
        
        htmlContent += `
                </ul>
            </div>
        `;
        
        // æ·»åŠ å®Œæ•´çš„ç‰Œé˜µè§£è¯»
        htmlContent += `
            <h2>å®Œæ•´ç‰Œé˜µè§£è¯»</h2>
        `;
        
        const spreadDef = SPREAD_DEFINITIONS[currentSpreadType];
        const spreadName = spreadDef ? spreadDef.name : 'unknown';
        const cacheKey = `full_spread_reading_${spreadName}`;
        const fullReading = allReadings[cacheKey] || allReadings[selectedCardsData[0]?.info.name] || 'æ— è§£è¯»å†…å®¹';
        
        htmlContent += `
            <div class="card-section">
                <div class="reading-content">${fullReading}</div>
            </div>
        `;

        htmlContent += `
        </body>
        </html>
        `;

        // åˆ›å»ºBlobå¯¹è±¡
        const blob = new Blob(['ï»¿' + htmlContent], { type: 'application/msword' });
        const url = URL.createObjectURL(blob);
        
        // åˆ›å»ºä¸‹è½½é“¾æ¥å¹¶æ·»åŠ åˆ°DOM
        const link = document.createElement('a');
        link.href = url;
        link.download = `å¡”ç½—è§£ç‰ŒæŠ¥å‘Š_${new Date().toISOString().slice(0, 10)}.doc`;
        document.body.appendChild(link);
        link.click();
        
        // é‡Šæ”¾URLå¯¹è±¡å’Œç§»é™¤é“¾æ¥
        setTimeout(() => {
            URL.revokeObjectURL(url);
            document.body.removeChild(link);
        }, 100);

        console.log('è§£ç‰ŒæŠ¥å‘Šå·²å¯¼å‡ºä¸ºWordæ–‡æ¡£');
    }

    // éšè—æ€»ç»“é¢æ¿
    function hideSummaryPanel() {
        document.getElementById('summary-panel').style.display = 'none';
    }

    // é»˜è®¤è§£è¯»ï¼ˆå½“ AI ä¸å¯ç”¨æ—¶ï¼‰
    function showReadingPanel(cardInfo) {
        const panel = document.getElementById('reading-panel');
        const textEl = document.getElementById('reading-text');
        const loadingEl = document.getElementById('reading-loading');
        const errorEl = document.getElementById('reading-error');
        const cardsListEl = document.getElementById('reading-cards-list');
        const progressBarEl = document.getElementById('reading-progress-bar');
        const progressTextEl = document.getElementById('reading-progress-text');

        // åˆå§‹åŒ–è¿›åº¦æ¡
        progressBarEl.style.width = '0%';
        progressTextEl.textContent = 'è§£è¯»ä¸­...';

        // ç”Ÿæˆæœ¬æ¬¡æŠ½å–çš„å¡ç‰‡åˆ—è¡¨
        cardsListEl.innerHTML = `
            <h4>æœ¬æ¬¡æŠ½å–çš„å¡ç‰‡</h4>
            <ul>
                ${selectedCardsData.map((cardData, index) => {
                    const position = SLOTS[index]?.label || `ä½ç½®${index + 1}`;
                    return `<li>${position} - ${cardData.info.name}</li>`;
                }).join('')}
            </ul>
        `;

        textEl.innerHTML = '';
        loadingEl.style.display = 'block';
        errorEl.style.display = 'none';
        panel.classList.add('show');

        if (currentReadingMode === 'ai' && AIConfig.enabled && AIConfig.apiKey) {
            // è·å–å½“å‰ç‰Œé˜µåç§°ä½œä¸ºç¼“å­˜é”®çš„ä¸€éƒ¨åˆ†
            const spreadDef = SPREAD_DEFINITIONS[currentSpreadType];
            const spreadName = spreadDef ? spreadDef.name : 'unknown';
            const cacheKey = `full_spread_reading_${spreadName}`;
            
            // æ£€æŸ¥æ˜¯å¦å·²æœ‰å®Œæ•´çš„ç‰Œé˜µè§£è¯»
            if (!allReadings[cacheKey]) {
                // é¦–æ¬¡è°ƒç”¨æ—¶ç”Ÿæˆå®Œæ•´çš„ç‰Œé˜µè§£è¯»
                // æ¨¡æ‹Ÿè¿›åº¦æ›´æ–°
                let progress = 0;
                const progressInterval = setInterval(() => {
                    progress += 5;
                    if (progress <= 90) {
                        document.getElementById('reading-progress-bar').style.width = progress + '%';
                    }
                }, 200);
                
                callAIForFullReading(selectedCardsData).then(reading => {
                    clearInterval(progressInterval);
                    // å®Œæˆè§£è¯»ï¼Œè®¾ç½®è¿›åº¦ä¸º100%
                    document.getElementById('reading-progress-bar').style.width = '100%';
                    document.getElementById('reading-progress-text').textContent = 'å·²å®Œæˆ';
                    
                    loadingEl.style.display = 'none';
                    textEl.innerHTML = reading.replace(/\n/g, '<br>');
                    // å­˜å‚¨å®Œæ•´è§£è¯»
                    allReadings[cacheKey] = reading;
                    // åŒæ—¶å­˜å‚¨åˆ°å½“å‰ç‰Œçš„è§£è¯»ä¸­
                    allReadings[cardInfo.name] = reading;
                });
            } else {
                // åç»­è°ƒç”¨ç›´æ¥ä½¿ç”¨å·²ç”Ÿæˆçš„å®Œæ•´è§£è¯»
                document.getElementById('reading-progress-bar').style.width = '100%';
                document.getElementById('reading-progress-text').textContent = 'å·²å®Œæˆ';
                loadingEl.style.display = 'none';
                textEl.innerHTML = allReadings[cacheKey].replace(/\n/g, '<br>');
                allReadings[cardInfo.name] = allReadings[cacheKey];
            }
        } else {
            loadingEl.innerText = 'âœ¨ çµèƒ½è§£è¯»';
            // æ¨¡æ‹Ÿè¿›åº¦æ›´æ–°
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += 10;
                if (progress <= 90) {
                    document.getElementById('reading-progress-bar').style.width = progress + '%';
                }
            }, 50);
            
            setTimeout(() => {
                clearInterval(progressInterval);
                // å®Œæˆè§£è¯»ï¼Œè®¾ç½®è¿›åº¦ä¸º100%
                document.getElementById('reading-progress-bar').style.width = '100%';
                document.getElementById('reading-progress-text').textContent = 'å·²å®Œæˆ';
                
                loadingEl.style.display = 'none';
                textEl.innerHTML = getDefaultReading(cardInfo).replace(/\n/g, '<br>');
            }, 800);
        }
    }

    function hideReadingPanel() {
        document.getElementById('reading-panel').classList.remove('show');
    }

    function showChoicePanel() {
        document.getElementById('reading-choice-panel').classList.add('show');
    }

    function hideChoicePanel() {
        document.getElementById('reading-choice-panel').classList.remove('show');
    }

    // é€‰æ‹©è§£ç‰Œæ–¹å¼
    document.getElementById('choice-ai').addEventListener('click', () => {
        currentReadingMode = 'ai';
        hideChoicePanel();
        // æ˜¾ç¤ºé…ç½®é¢æ¿è®©ç”¨æˆ·ç¡®è®¤ AI é…ç½®
        showSettingsPanel();
    });

    document.getElementById('choice-normal').addEventListener('click', () => {
        currentReadingMode = 'normal';
        hideChoicePanel();
        // ç›´æ¥æ˜¾ç¤ºæ€»ç»“é¢æ¿ï¼Œè·³è¿‡é€å¼ ç‰Œè§£è¯»
        finishReading();
    });

    // è§£ç‰Œé¢æ¿æŒ‰é’®äº‹ä»¶
    document.getElementById('next-reading').addEventListener('click', () => {
        // ç›´æ¥å®Œæˆè§£è¯»ï¼Œè·³è¿‡é€å¼ ç‰Œæ˜¾ç¤º
        hideReadingPanel();
        finishReading();
    });

    document.getElementById('finish-reading').addEventListener('click', () => {
        hideReadingPanel();
        finishReading();
    });

    // æ·±å…¥åˆ†ææŒ‰é’®äº‹ä»¶
    document.getElementById('deepen-reading').addEventListener('click', () => {
        const modal = document.getElementById('deepen-modal');
        modal.style.display = 'flex';
    });

    // å–æ¶ˆæ·±å…¥åˆ†æ
    document.getElementById('deepen-cancel').addEventListener('click', () => {
        const modal = document.getElementById('deepen-modal');
        modal.style.display = 'none';
    });

    // æäº¤æ·±å…¥åˆ†æ
    document.getElementById('deepen-submit').addEventListener('click', () => {
        const modal = document.getElementById('deepen-modal');
        const input = document.getElementById('deepen-input');
        const additionalInfo = input.value.trim();
        
        if (additionalInfo) {
            modal.style.display = 'none';
            deepenAIReading(additionalInfo);
        } else {
            alert('è¯·è¾“å…¥æ›´å¤šä¿¡æ¯');
        }
    });

    // æ€»ç»“é¢æ¿æŒ‰é’®äº‹ä»¶
    document.getElementById('summary-restart').addEventListener('click', () => {
        hideSummaryPanel();
        appState = 'IDLE';
        drawnCount = 0;
        selectedCardsData.length = 0;
        TAROT_DATA.length = 0;
        TAROT_DATA.push(...TAROT_DATA_BACKUP);
        document.querySelectorAll('.card-label-box').forEach(box => box.style.opacity = 0);
        uiStatus.innerHTML = "è¯·é€‰æ‹©ç¥­å›ä¸»é¢˜";
        
        // é‡æ–°æ’åˆ—å¡ç‰Œ
        cards.forEach((card, i) => {
            card.userData.isSelected = false;
            new TWEEN.Tween(card.position).to({x: 0, y: 0, z: -i * 0.02}, 1000).start();
            new TWEEN.Tween(card.rotation).to({x: Math.PI/2, y: 0, z: 0}, 1000).start();
            card.material[4] = new THREE.MeshStandardMaterial({color: 0x222222});
            card.material.needsUpdate = true;
        });
        
        // æ˜¾ç¤ºä¸ªæ€§åŒ–ç¥­å›è®¾ç½®é¢æ¿ï¼Œè®©ç”¨æˆ·ä»å¤´å¼€å§‹
        setTimeout(showAltarPanel, 1200);
    });
    
    // æ€»ç»“é¢æ¿æ·±å…¥åˆ†ææŒ‰é’®äº‹ä»¶
    document.getElementById('summary-deepen').addEventListener('click', () => {
        const modal = document.getElementById('deepen-modal');
        modal.style.display = 'flex';
    });

    // å¯¼å‡ºæŒ‰é’®äº‹ä»¶
    document.getElementById('summary-export').addEventListener('click', exportToWord);

    // å›åˆ°ä¸»ç•Œé¢æŒ‰é’®äº‹ä»¶
    document.getElementById('summary-main').addEventListener('click', () => {
        hideSummaryPanel();
        appState = 'IDLE';
        drawnCount = 0;
        selectedCardsData.length = 0;
        TAROT_DATA.length = 0;
        TAROT_DATA.push(...TAROT_DATA_BACKUP);
        
        // éšè—é€‰æ‹©é¢æ¿
        hideChoicePanel();
        
        // é‡æ–°æ’åˆ—å¡ç‰Œ
        cards.forEach((card, i) => {
            card.userData.isSelected = false;
            new TWEEN.Tween(card.position).to({x: 0, y: 0, z: -i * 0.02}, 1000).start();
            new TWEEN.Tween(card.rotation).to({x: Math.PI/2, y: 0, z: 0}, 1000).start();
            card.material[4] = new THREE.MeshStandardMaterial({color: 0x222222});
            card.material.needsUpdate = true;
        });
        
        // æ˜¾ç¤ºç¥­å›è®¾ç½®æç¤º
        uiStatus.innerHTML = "è¯·é€‰æ‹©ç¥­å›ä¸»é¢˜";
        
        // æ˜¾ç¤ºç¥­å›è®¾ç½®ç•Œé¢
        setTimeout(showAltarPanel, 1200);
        
        console.log('å·²å›åˆ°ç¥­å›è®¾ç½®ç•Œé¢ï¼Œå¯é‡æ–°å¼€å§‹ä»ªå¼');
    });

    document.getElementById('summary-close').addEventListener('click', () => {
        hideSummaryPanel();
        appState = 'IDLE';
        drawnCount = 0;
        selectedCardsData.length = 0;
        TAROT_DATA.length = 0;
        TAROT_DATA.push(...TAROT_DATA_BACKUP);
        
        // éšè—é€‰æ‹©é¢æ¿
        hideChoicePanel();
        
        // é‡æ–°æ’åˆ—å¡ç‰Œ
        cards.forEach((card, i) => {
            card.userData.isSelected = false;
            new TWEEN.Tween(card.position).to({x: 0, y: 0, z: -i * 0.02}, 1000).start();
            new TWEEN.Tween(card.rotation).to({x: Math.PI/2, y: 0, z: 0}, 1000).start();
            card.material[4] = new THREE.MeshStandardMaterial({color: 0x222222});
            card.material.needsUpdate = true;
        });
        
        // æ˜¾ç¤ºç¥­å›è®¾ç½®æç¤º
        uiStatus.innerHTML = "è¯·é€‰æ‹©ç¥­å›ä¸»é¢˜";
        
        // æ˜¾ç¤ºç¥­å›è®¾ç½®ç•Œé¢
        setTimeout(showAltarPanel, 1200);
        
        console.log('å·²å›åˆ°ç¥­å›è®¾ç½®ç•Œé¢ï¼Œå¯é‡æ–°å¼€å§‹ä»ªå¼');
    });

    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function playMagicSound(type) {
        if (audioCtx.state === 'suspended') audioCtx.resume();
        const now = audioCtx.currentTime; const osc = audioCtx.createOscillator(); const gain = audioCtx.createGain(); const filter = audioCtx.createBiquadFilter();
        osc.connect(filter); filter.connect(gain); gain.connect(audioCtx.destination);
        if (type === 'shuffle') { osc.type='sawtooth'; osc.frequency.setValueAtTime(60,now); osc.frequency.linearRampToValueAtTime(40,now+0.1); filter.type='lowpass'; filter.frequency.setValueAtTime(200,now); gain.gain.setValueAtTime(0.1,now); gain.gain.exponentialRampToValueAtTime(0.001,now+0.1); osc.start(now); osc.stop(now+0.1); } 
        else if (type === 'fly') { osc.type='sine'; osc.frequency.setValueAtTime(200,now); osc.frequency.exponentialRampToValueAtTime(600,now+0.8); gain.gain.setValueAtTime(0,now); gain.gain.linearRampToValueAtTime(0.1,now+0.1); gain.gain.linearRampToValueAtTime(0,now+0.8); osc.start(now); osc.stop(now+0.8); }
        else if (type === 'reveal') { osc.type='triangle'; osc.frequency.setValueAtTime(880,now); gain.gain.setValueAtTime(0,now); gain.gain.linearRampToValueAtTime(0.15,now+0.05); gain.gain.exponentialRampToValueAtTime(0.001,now+2); osc.start(now); osc.stop(now+2); }
    }

    const TAROT_DATA = [
        { name: "0. The Fool (æ„šè€…)", url: "https://upload.wikimedia.org/wikipedia/commons/9/90/RWS_Tarot_00_Fool.jpg" },
        { name: "I. The Magician (é­”æœ¯å¸ˆ)", url: "https://upload.wikimedia.org/wikipedia/commons/d/de/RWS_Tarot_01_Magician.jpg" },
        { name: "II. The High Priestess (å¥³ç¥­å¸)", url: "https://upload.wikimedia.org/wikipedia/commons/8/88/RWS_Tarot_02_High_Priestess.jpg" },
        { name: "III. The Empress (çš‡å)", url: "https://upload.wikimedia.org/wikipedia/commons/d/d2/RWS_Tarot_03_Empress.jpg" },
        { name: "IV. The Emperor (çš‡å¸)", url: "https://upload.wikimedia.org/wikipedia/commons/c/c3/RWS_Tarot_04_Emperor.jpg" },
        { name: "V. The Hierophant (æ•™çš‡)", url: "https://upload.wikimedia.org/wikipedia/commons/8/8d/RWS_Tarot_05_Hierophant.jpg" },
        { name: "VI. The Lovers (æ‹äºº)", url: "https://upload.wikimedia.org/wikipedia/commons/3/3a/TheLovers.jpg" },
        { name: "VII. The Chariot (æˆ˜è½¦)", url: "https://upload.wikimedia.org/wikipedia/commons/9/9b/RWS_Tarot_07_Chariot.jpg" },
        { name: "VIII. Strength (åŠ›é‡)", url: "https://upload.wikimedia.org/wikipedia/commons/f/f5/RWS_Tarot_08_Strength.jpg" },
        { name: "IX. The Hermit (éšå£«)", url: "https://upload.wikimedia.org/wikipedia/commons/4/4d/RWS_Tarot_09_Hermit.jpg" },
        { name: "X. Wheel of Fortune (å‘½è¿ä¹‹è½®)", url: "https://upload.wikimedia.org/wikipedia/commons/3/3c/RWS_Tarot_10_Wheel_of_Fortune.jpg" },
        { name: "XI. Justice (æ­£ä¹‰)", url: "https://upload.wikimedia.org/wikipedia/commons/e/e0/RWS_Tarot_11_Justice.jpg" },
        { name: "XII. The Hanged Man (å€’åŠäºº)", url: "https://upload.wikimedia.org/wikipedia/commons/2/2b/RWS_Tarot_12_Hanged_Man.jpg" },
        { name: "XIII. Death (æ­»ç¥)", url: "https://upload.wikimedia.org/wikipedia/commons/d/d7/RWS_Tarot_13_Death.jpg" },
        { name: "XIV. Temperance (èŠ‚åˆ¶)", url: "https://upload.wikimedia.org/wikipedia/commons/f/f8/RWS_Tarot_14_Temperance.jpg" },
        { name: "XV. The Devil (æ¶é­”)", url: "https://upload.wikimedia.org/wikipedia/commons/5/55/RWS_Tarot_15_Devil.jpg" },
        { name: "XVI. The Tower (é«˜å¡”)", url: "https://upload.wikimedia.org/wikipedia/commons/5/53/RWS_Tarot_16_Tower.jpg" },
        { name: "XVII. The Star (æ˜Ÿæ˜Ÿ)", url: "https://upload.wikimedia.org/wikipedia/commons/d/db/RWS_Tarot_17_Star.jpg" },
        { name: "XVIII. The Moon (æœˆäº®)", url: "https://upload.wikimedia.org/wikipedia/commons/7/7f/RWS_Tarot_18_Moon.jpg" },
        { name: "XIX. The Sun (å¤ªé˜³)", url: "https://upload.wikimedia.org/wikipedia/commons/1/17/RWS_Tarot_19_Sun.jpg" },
        { name: "XX. Judgement (å®¡åˆ¤)", url: "https://upload.wikimedia.org/wikipedia/commons/d/dd/RWS_Tarot_20_Judgement.jpg" },
        { name: "XXI. The World (ä¸–ç•Œ)", url: "https://upload.wikimedia.org/wikipedia/commons/f/ff/RWS_Tarot_21_World.jpg" },
        
        // æƒæ–ç»„
        { name: "Ace of Wands (æƒæ–ä¸€)", url: "https://upload.wikimedia.org/wikipedia/commons/1/11/Wands01.jpg" },
        { name: "Two of Wands (æƒæ–äºŒ)", url: "https://upload.wikimedia.org/wikipedia/commons/0/0f/Wands02.jpg" },
        { name: "Three of Wands (æƒæ–ä¸‰)", url: "https://upload.wikimedia.org/wikipedia/commons/f/ff/Wands03.jpg" },
        { name: "Four of Wands (æƒæ–å››)", url: "https://upload.wikimedia.org/wikipedia/commons/1/16/Wands04.jpg" },
        { name: "Five of Wands (æƒæ–äº”)", url: "https://upload.wikimedia.org/wikipedia/commons/9/9d/Wands05.jpg" },
        { name: "Six of Wands (æƒæ–å…­)", url: "https://upload.wikimedia.org/wikipedia/commons/3/3b/Wands06.jpg" },
        { name: "Seven of Wands (æƒæ–ä¸ƒ)", url: "https://upload.wikimedia.org/wikipedia/commons/e/e4/Wands07.jpg" },
        { name: "Eight of Wands (æƒæ–å…«)", url: "https://upload.wikimedia.org/wikipedia/commons/6/6b/Wands08.jpg" },
        { name: "Nine of Wands (æƒæ–ä¹)", url: "https://upload.wikimedia.org/wikipedia/commons/4/4d/Wands09.jpg" },
        { name: "Ten of Wands (æƒæ–å)", url: "https://upload.wikimedia.org/wikipedia/commons/0/0b/Wands10.jpg" },
        { name: "Page of Wands (æƒæ–ä¾ä»)", url: "https://upload.wikimedia.org/wikipedia/commons/6/6a/Wands11.jpg" },
        { name: "Knight of Wands (æƒæ–éª‘å£«)", url: "https://upload.wikimedia.org/wikipedia/commons/1/16/Wands12.jpg" },
        { name: "Queen of Wands (æƒæ–ç‹å)", url: "https://upload.wikimedia.org/wikipedia/commons/0/0d/Wands13.jpg" },
        { name: "King of Wands (æƒæ–å›½ç‹)", url: "https://upload.wikimedia.org/wikipedia/commons/c/ce/Wands14.jpg" },
        
        // åœ£æ¯ç»„
        { name: "Ace of Cups (åœ£æ¯ä¸€)", url: "https://upload.wikimedia.org/wikipedia/commons/3/36/Cups01.jpg" },
        { name: "Two of Cups (åœ£æ¯äºŒ)", url: "https://upload.wikimedia.org/wikipedia/commons/f/f8/Cups02.jpg" },
        { name: "Three of Cups (åœ£æ¯ä¸‰)", url: "https://upload.wikimedia.org/wikipedia/commons/7/7a/Cups03.jpg" },
        { name: "Four of Cups (åœ£æ¯å››)", url: "https://upload.wikimedia.org/wikipedia/commons/3/35/Cups04.jpg" },
        { name: "Five of Cups (åœ£æ¯äº”)", url: "https://upload.wikimedia.org/wikipedia/commons/d/d7/Cups05.jpg" },
        { name: "Six of Cups (åœ£æ¯å…­)", url: "https://upload.wikimedia.org/wikipedia/commons/1/17/Cups06.jpg" },
        { name: "Seven of Cups (åœ£æ¯ä¸ƒ)", url: "https://upload.wikimedia.org/wikipedia/commons/a/ae/Cups07.jpg" },
        { name: "Eight of Cups (åœ£æ¯å…«)", url: "https://upload.wikimedia.org/wikipedia/commons/6/60/Cups08.jpg" },
        { name: "Nine of Cups (åœ£æ¯ä¹)", url: "https://upload.wikimedia.org/wikipedia/commons/2/24/Cups09.jpg" },
        { name: "Ten of Cups (åœ£æ¯å)", url: "https://upload.wikimedia.org/wikipedia/commons/8/84/Cups10.jpg" },
        { name: "Page of Cups (åœ£æ¯ä¾ä»)", url: "https://upload.wikimedia.org/wikipedia/commons/a/a2/Cups11.jpg" },
        { name: "Knight of Cups (åœ£æ¯éª‘å£«)", url: "https://upload.wikimedia.org/wikipedia/commons/1/15/Cups12.jpg" },
        { name: "Queen of Cups (åœ£æ¯ç‹å)", url: "https://upload.wikimedia.org/wikipedia/commons/a/a9/Cups13.jpg" },
        { name: "King of Cups (åœ£æ¯å›½ç‹)", url: "https://upload.wikimedia.org/wikipedia/commons/0/04/Cups14.jpg" },
        
        // å®å‰‘ç»„
        { name: "Ace of Swords (å®å‰‘ä¸€)", url: "https://upload.wikimedia.org/wikipedia/commons/1/1a/Swords01.jpg" },
        { name: "Two of Swords (å®å‰‘äºŒ)", url: "https://upload.wikimedia.org/wikipedia/commons/9/92/Swords02.jpg" },
        { name: "Three of Swords (å®å‰‘ä¸‰)", url: "https://upload.wikimedia.org/wikipedia/commons/0/00/Swords03.jpg" },
        { name: "Four of Swords (å®å‰‘å››)", url: "https://upload.wikimedia.org/wikipedia/commons/b/bf/Swords04.jpg" },
        { name: "Five of Swords (å®å‰‘äº”)", url: "https://upload.wikimedia.org/wikipedia/commons/2/23/Swords05.jpg" },
        { name: "Six of Swords (å®å‰‘å…­)", url: "https://upload.wikimedia.org/wikipedia/commons/2/29/Swords06.jpg" },
        { name: "Seven of Swords (å®å‰‘ä¸ƒ)", url: "https://upload.wikimedia.org/wikipedia/commons/3/34/Swords07.jpg" },
        { name: "Eight of Swords (å®å‰‘å…«)", url: "https://upload.wikimedia.org/wikipedia/commons/a/a7/Swords08.jpg" },
        { name: "Nine of Swords (å®å‰‘ä¹)", url: "https://upload.wikimedia.org/wikipedia/commons/2/2f/Swords09.jpg" },
        { name: "Ten of Swords (å®å‰‘å)", url: "https://upload.wikimedia.org/wikipedia/commons/d/d4/Swords10.jpg" },
        { name: "Page of Swords (å®å‰‘ä¾ä»)", url: "https://upload.wikimedia.org/wikipedia/commons/4/4c/Swords11.jpg" },
        { name: "Knight of Swords (å®å‰‘éª‘å£«)", url: "https://upload.wikimedia.org/wikipedia/commons/b/b0/Swords12.jpg" },
        { name: "Queen of Swords (å®å‰‘ç‹å)", url: "https://upload.wikimedia.org/wikipedia/commons/d/d4/Swords13.jpg" },
        { name: "King of Swords (å®å‰‘å›½ç‹)", url: "https://upload.wikimedia.org/wikipedia/commons/3/33/Swords14.jpg" },
        
        // æ˜Ÿå¸ç»„
        { name: "Ace of Pentacles (æ˜Ÿå¸ä¸€)", url: "https://upload.wikimedia.org/wikipedia/commons/f/fd/Pents01.jpg" },
        { name: "Two of Pentacles (æ˜Ÿå¸äºŒ)", url: "https://upload.wikimedia.org/wikipedia/commons/9/9f/Pents02.jpg" },
        { name: "Three of Pentacles (æ˜Ÿå¸ä¸‰)", url: "https://upload.wikimedia.org/wikipedia/commons/4/42/Pents03.jpg" },
        { name: "Four of Pentacles (æ˜Ÿå¸å››)", url: "https://upload.wikimedia.org/wikipedia/commons/3/35/Pents04.jpg" },
        { name: "Five of Pentacles (æ˜Ÿå¸äº”)", url: "https://upload.wikimedia.org/wikipedia/commons/9/96/Pents05.jpg" },
        { name: "Six of Pentacles (æ˜Ÿå¸å…­)", url: "https://upload.wikimedia.org/wikipedia/commons/a/a6/Pents06.jpg" },
        { name: "Seven of Pentacles (æ˜Ÿå¸ä¸ƒ)", url: "https://upload.wikimedia.org/wikipedia/commons/6/6a/Pents07.jpg" },
        { name: "Eight of Pentacles (æ˜Ÿå¸å…«)", url: "https://upload.wikimedia.org/wikipedia/commons/4/49/Pents08.jpg" },
        { name: "Nine of Pentacles (æ˜Ÿå¸ä¹)", url: "https://upload.wikimedia.org/wikipedia/commons/f/f0/Pents09.jpg" },
        { name: "Ten of Pentacles (æ˜Ÿå¸å)", url: "https://upload.wikimedia.org/wikipedia/commons/4/42/Pents10.jpg" },
        { name: "Page of Pentacles (æ˜Ÿå¸ä¾ä»)", url: "https://upload.wikimedia.org/wikipedia/commons/e/ec/Pents11.jpg" },
        { name: "Knight of Pentacles (æ˜Ÿå¸éª‘å£«)", url: "https://upload.wikimedia.org/wikipedia/commons/d/d5/Pents12.jpg" },
        { name: "Queen of Pentacles (æ˜Ÿå¸ç‹å)", url: "https://upload.wikimedia.org/wikipedia/commons/8/88/Pents13.jpg" },
        { name: "King of Pentacles (æ˜Ÿå¸å›½ç‹)", url: "https://upload.wikimedia.org/wikipedia/commons/1/1c/Pents14.jpg" }
    ];

    // ä¿å­˜åŸå§‹æ•°æ®ï¼Œç”¨äºé‡ç½®
    const TAROT_DATA_BACKUP = JSON.parse(JSON.stringify(TAROT_DATA));

    const textureLoader = new THREE.TextureLoader();
    textureLoader.setCrossOrigin('anonymous');
    const loadedTextures = {};
    let loadedCount = 0;
    const loadingText = document.getElementById('loading-text');
    const loadingBar = document.getElementById('loading-bar');
    const startBtn = document.getElementById('start-btn');

    // --- å¤‡ç”¨æ–¹æ¡ˆï¼šå¦‚æœå›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå¸¦æ–‡å­—çš„å¡é¢ ---
    function createFallbackCardFace(text) {
        const canvas = document.createElement('canvas');
        canvas.width = 256; canvas.height = 512;
        const ctx = canvas.getContext('2d');
        // èƒŒæ™¯
        ctx.fillStyle = "#222"; ctx.fillRect(0,0,256,512);
        // è¾¹æ¡†
        ctx.strokeStyle = "#d4af37"; ctx.lineWidth = 10; ctx.strokeRect(10,10,236,492);
        // æ–‡å­—
        ctx.fillStyle = "#d4af37"; ctx.font = "bold 24px 'Cinzel'"; 
        ctx.textAlign = "center";
        
        // è‡ªåŠ¨æ¢è¡Œç®€å•å¤„ç†
        const words = text.split(' ');
        let line = '';
        let y = 200;
        for(let n = 0; n < words.length; n++) {
            const testLine = line + words[n] + ' ';
            if(ctx.measureText(testLine).width > 200 && n > 0) {
                ctx.fillText(line, 128, y);
                line = words[n] + ' ';
                y += 40;
            } else {
                line = testLine;
            }
        }
        ctx.fillText(line, 128, y);
        
        const tex = new THREE.CanvasTexture(canvas);
        return tex;
    }

    function checkProgress() {
        loadedCount++;
        const pct = Math.floor((loadedCount / TAROT_DATA_BACKUP.length) * 100);
        loadingText.innerText = `èµ„æºåŠ è½½ä¸­... ${pct}%`;
        loadingBar.style.width = pct + '%';
        
        if (loadedCount >= TAROT_DATA_BACKUP.length) {
            loadingText.innerText = "âœ¨ å‘½è¿ä¹‹é—¨å·²å¼€å¯ âœ¨";
            startBtn.style.display = 'block';
        }
    }

    function preloadImages() {
        // è®¾ç½®ä¸€ä¸ª5ç§’è¶…æ—¶ï¼Œå¦‚æœ5ç§’è¿˜æ²¡ä¸‹å®Œï¼Œå¼ºåˆ¶å®Œæˆ
        setTimeout(() => {
            if(loadedCount < TAROT_DATA_BACKUP.length) {
                console.log("åŠ è½½è¶…æ—¶ï¼Œå¼ºåˆ¶å¯åŠ¨...");
                loadingText.innerText = "ç½‘ç»œå»¶è¿Ÿï¼Œå¯ç”¨å¤‡ç”¨å¡é¢...";
                startBtn.style.display = 'block';
                // å°†æœªåŠ è½½çš„å¼ºåˆ¶æ ‡è®°ä¸ºå®Œæˆï¼ˆåç»­ä½¿ç”¨fallbackï¼‰
            }
        }, 5000);

        TAROT_DATA_BACKUP.forEach(data => {
            const loader = new THREE.ImageLoader();
            loader.setCrossOrigin('anonymous');
            loader.load(
                data.url,
                (image) => {
                    const tex = new THREE.Texture(image);
                    tex.needsUpdate = true;
                    tex.center.set(0.5, 0.5);
                    loadedTextures[data.name] = tex;
                    checkProgress();
                },
                undefined, // onProgress
                (err) => {
                    // --- å…³é”®ä¿®æ”¹ï¼šåŠ è½½å¤±è´¥æ—¶ï¼Œç”Ÿæˆå¤‡ç”¨çº¹ç†ï¼Œä¸å¡æ­» ---
                    console.warn(`æ— æ³•åŠ è½½å›¾ç‰‡: ${data.name}, ä½¿ç”¨å¤‡ç”¨æ–¹æ¡ˆ`);
                    loadedTextures[data.name] = createFallbackCardFace(data.name);
                    checkProgress();
                }
            );
        });
    }
    preloadImages(); 

    const scene = new THREE.Scene(); scene.fog = new THREE.FogExp2(0x1a0b2e, 0.03);
    const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.set(0, 5, 12); camera.lookAt(0, 0, 0);
    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight); renderer.shadowMap.enabled = true;
    document.body.appendChild(renderer.domElement);
    
    // æ·»åŠ ç¯å¢ƒå…‰
    const ambientLight = new THREE.AmbientLight(0x404040, 1.5);
    scene.add(ambientLight);
    
    // æ·»åŠ ç‚¹å…‰æº
    const pointLight1 = new THREE.PointLight(0xffd700, 1.2);
    pointLight1.position.set(0, 15, 5);
    pointLight1.castShadow = true;
    scene.add(pointLight1);
    
    // æ·»åŠ å½©è‰²ç‚¹å…‰æº
    const pointLight2 = new THREE.PointLight(0x8b5cf6, 0.8);
    pointLight2.position.set(-10, 5, 10);
    scene.add(pointLight2);
    
    const pointLight3 = new THREE.PointLight(0x06b6d4, 0.8);
    pointLight3.position.set(10, 5, 10);
    scene.add(pointLight3);
    
    // æ·»åŠ ç²’å­æ•ˆæœ
    function createParticles() {
        const particleGeometry = new THREE.BufferGeometry();
        const particleCount = 1000;
        
        const posArray = new Float32Array(particleCount * 3);
        
        for (let i = 0; i < particleCount * 3; i++) {
            posArray[i] = (Math.random() - 0.5) * 30;
        }
        
        particleGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        
        const particleMaterial = new THREE.PointsMaterial({
            size: 0.05,
            color: 0xd4af37,
            transparent: true,
            opacity: 0.8,
            blending: THREE.AdditiveBlending
        });
        
        const particlesMesh = new THREE.Points(particleGeometry, particleMaterial);
        scene.add(particlesMesh);
        
        return particlesMesh;
    }
    
    // åˆ›å»ºç²’å­æ•ˆæœ
    const particles = createParticles();
    
    // æ·»åŠ åŠ¨æ€èƒŒæ™¯æ•ˆæœ
    function createBackground() {
        const geometry = new THREE.SphereGeometry(50, 32, 32);
        // é»˜è®¤åˆ›å»ºé€æ˜èƒŒæ™¯ï¼Œç­‰ä¸»é¢˜é€‰æ‹©åå†æ›´æ–°æè´¨
        const material = new THREE.MeshBasicMaterial({
            transparent: true,
            opacity: 0,
            side: THREE.BackSide
        });
        
        const sphere = new THREE.Mesh(geometry, material);
        scene.add(sphere);
        
        return sphere;
    }
    
    const background = createBackground();
    
    // éšè—é»˜è®¤èƒŒæ™¯çƒä½“ï¼Œä½¿ç”¨bodyèƒŒæ™¯
    background.visible = false;

    function createBackTexture() {
        const width = 512; const height = 1024; const canvas = document.createElement('canvas'); canvas.width = width; canvas.height = height; const ctx = canvas.getContext('2d'); const cx = width / 2; const cy = height / 2;
        const bgGrad = ctx.createRadialGradient(cx, cy, 100, cx, cy, height); bgGrad.addColorStop(0, "#2a1b3d"); bgGrad.addColorStop(1, "#000000"); ctx.fillStyle = bgGrad; ctx.fillRect(0, 0, width, height);
        for (let i = 0; i < 400; i++) { ctx.fillStyle = Math.random() > 0.5 ? "rgba(255,255,255,0.1)" : "rgba(212,175,55,0.15)"; ctx.beginPath(); ctx.arc(Math.random()*width, Math.random()*height, Math.random()*1.5, 0, Math.PI*2); ctx.fill(); }
        const goldGrad = ctx.createLinearGradient(0, 0, width, height); goldGrad.addColorStop(0, "#bf953f"); goldGrad.addColorStop(0.5, "#fcf6ba"); goldGrad.addColorStop(1, "#aa771c"); ctx.strokeStyle = goldGrad; ctx.fillStyle = goldGrad; ctx.shadowColor = "rgba(0,0,0,0.8)"; ctx.shadowBlur = 10;
        ctx.lineWidth = 8; ctx.strokeRect(20, 20, width-40, height-40); ctx.lineWidth = 2; ctx.strokeRect(35, 35, width-70, height-70);
        ctx.translate(cx, cy); ctx.lineWidth = 4; ctx.beginPath(); ctx.arc(0, 0, 140, 0, Math.PI*2); ctx.stroke();
        function drawTriangle(r, rot) { ctx.beginPath(); for(let i=0; i<3; i++) { let a = rot + i * Math.PI * 2 / 3; let x = Math.cos(a)*r; let y = Math.sin(a)*r; i==0? ctx.moveTo(x,y) : ctx.lineTo(x,y); } ctx.closePath(); ctx.stroke(); }
        ctx.lineWidth = 3; drawTriangle(100, -Math.PI/2); drawTriangle(100, Math.PI/2);
        ctx.font = "bold 80px 'Cinzel', serif"; ctx.textAlign = "center"; ctx.textBaseline = "middle"; ctx.fillText("FATE", 0, 220); ctx.fillText("THE", 0, -200);
        return new THREE.CanvasTexture(canvas);
    }
    const backMaterial = new THREE.MeshStandardMaterial({ map: createBackTexture() });
    const sideMaterial = new THREE.MeshStandardMaterial({ color: 0x111111 });

    const cards = []; const deckGroup = new THREE.Group(); scene.add(deckGroup);
    for (let i = 0; i < 78; i++) {
        const tempFrontMat = new THREE.MeshStandardMaterial({ color: 0x222222 });
        const materials = [sideMaterial, sideMaterial, sideMaterial, sideMaterial, tempFrontMat, backMaterial];
        const card = new THREE.Mesh(new THREE.BoxGeometry(1.5, 2.6, 0.02), materials);
        card.rotation.x = Math.PI / 2; card.position.set(0, 0, -i * 0.02);
        card.userData = { id: i, isSelected: false }; cards.push(card); deckGroup.add(card);
    }

    let appState = 'IDLE'; let drawnCount = 0; const selectedCardsData = [];
    let currentSpread = SPREADS.pastPresentFuture;
    let SLOTS = currentSpread.positions;
    const uiStatus = document.getElementById('status'); const progressBar = document.getElementById('progress-bar'); const cameraDiv = document.getElementById('camera-container'); const uiLayer = document.getElementById('ui-layer');

    // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬å™¨
    function initEventListeners() {
        // å†¥æƒ³å‡†å¤‡ç¯èŠ‚
        document.getElementById('start-meditation').addEventListener('click', startMeditation);
        document.getElementById('skip-meditation').addEventListener('click', skipMeditation);
        
        // ä¸ªæ€§åŒ–ç¥­å›è®¾ç½®
        document.querySelectorAll('.altar-theme').forEach(theme => {
            theme.addEventListener('click', () => {
                selectAltarTheme(theme.dataset.theme);
            });
        });
        document.getElementById('confirm-altar').addEventListener('click', confirmAltarSelection);
        
        // å¤šç§ç‰Œé˜µé€‰æ‹©
        document.querySelectorAll('.spread-option').forEach(option => {
            option.addEventListener('click', () => {
                selectSpread(option.dataset.spread);
            });
        });
        document.getElementById('confirm-spread').addEventListener('click', confirmSpreadSelection);
        
        // å¡”ç½—æ—¥è®°åŠŸèƒ½
        document.getElementById('save-to-diary').addEventListener('click', saveToDiary);
        document.getElementById('close-diary').addEventListener('click', hideDiaryPanel);
        
        // æ·»åŠ æ—¥è®°æŒ‰é’®åˆ°ä¸»ç•Œé¢
        const summaryRestartBtn = document.getElementById('summary-restart');
        const summaryCloseBtn = document.getElementById('summary-close');
        
        // åœ¨æ€»ç»“é¢æ¿æ·»åŠ æ—¥è®°æŒ‰é’®
        const summaryPanel = document.getElementById('summary-panel');
        const summaryControls = summaryPanel.querySelector('div[style*="display: flex; gap: 10px; justify-content: center;"]');
        
        if (summaryControls) {
            const diaryBtn = document.createElement('button');
            diaryBtn.id = 'summary-diary';
            diaryBtn.style.cssText = 'padding: 12px 30px; background: #8b5cf6; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: bold;';
            diaryBtn.textContent = 'æŸ¥çœ‹æ—¥è®°';
            diaryBtn.addEventListener('click', showDiaryPanel);
            summaryControls.appendChild(diaryBtn);
        }
    }

    startBtn.addEventListener('click', async () => {
        if (audioCtx.state === 'suspended') audioCtx.resume(); playMagicSound('reveal');
        document.getElementById('start-overlay').style.display = 'none';
        cameraDiv.style.opacity = 0.8; uiLayer.style.opacity = 1;
        
        // æ˜¾ç¤ºå†¥æƒ³å‡†å¤‡é¢æ¿
        showMeditationPanel();
        
        // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬å™¨
        initEventListeners();
        
        // åŠ è½½èµ„æº
        await loadSupplementaryReadings(); // åŠ è½½txtè¡¥å……åº“
        initSettingsPanel();
    });

    let shuffleTimer = null; let shuffleSoundInterval = null;
    function startShuffling() {
        if (appState !== 'IDLE') return; appState = 'SHUFFLING'; uiStatus.innerHTML = "ğŸ”® èƒ½é‡æ³¨å…¥ä¸­..."; progressBar.style.display = 'block';
        let progress = 0; shuffleSoundInterval = setInterval(() => { playMagicSound('shuffle'); }, 150);
        shuffleTimer = setInterval(() => { progress += 2; progressBar.style.width = progress + '%'; cards.forEach(c => { c.position.y = (Math.random()-0.5)*0.5; c.rotation.z = (Math.random()-0.5)*0.2; }); if (progress >= 100) { finishShuffling(); } }, 50);
    }
    function finishShuffling() { clearInterval(shuffleTimer); clearInterval(shuffleSoundInterval); cards.forEach(c => { new TWEEN.Tween(c.position).to({y:0, x:0}, 300).start(); new TWEEN.Tween(c.rotation).to({z:0}, 300).start(); }); appState = 'READY_TO_SPREAD'; uiStatus.innerHTML = "âœ¨ æ´—ç‰Œå®Œæˆï¼è¯· <b>å¼ å¼€æ‰‹æŒ</b> é“ºå¼€ç‰Œé˜µ"; progressBar.style.display = 'none'; }
    function spreadCards() { if (appState !== 'READY_TO_SPREAD') return; appState = 'FANNING'; uiStatus.innerHTML = "ğŸ´ è¯·ä¼¸å‡º <b>é£ŸæŒ‡</b> æŠ½å–å¡ç‰Œ"; playMagicSound('fly'); const totalArc = Math.PI * 0.8; cards.forEach((card, i) => { const angle = (i/cards.length)*totalArc - (totalArc/2); new TWEEN.Tween(card.position).to({x: Math.sin(angle)*5, y: -1, z: Math.cos(angle)*5 - 6}, 1000).easing(TWEEN.Easing.Back.Out).start(); new TWEEN.Tween(card.rotation).to({x: 0, y: Math.PI - angle*0.5, z: 0}, 1000).start(); }); setTimeout(() => { appState = 'WAITING_FOR_PICK'; }, 1000); }

    function pickCard() {
        if (appState !== 'WAITING_FOR_PICK' || drawnCount >= currentSpread.cards) return; appState = 'PICKING'; playMagicSound('fly');
        const available = cards.filter(c => !c.userData.isSelected); if(available.length === 0) return;
        const card = available[Math.floor(Math.random()*available.length)]; card.userData.isSelected = true;
        const poolSize = TAROT_DATA.length;
        const info = TAROT_DATA.splice(Math.floor(Math.random()*poolSize), 1)[0];
        selectedCardsData.push({mesh: card, info: info, slot: drawnCount});

        // è·å–é¢„åŠ è½½çš„çº¹ç†ï¼Œå¦‚æœæ²¡æœ‰ï¼ˆæ¯”å¦‚ä¸‹è½½å¤±è´¥ï¼‰ï¼Œå°±ç°åœºç”Ÿæˆä¸€ä¸ªå¤‡ç”¨çš„
        let preloadedTex = loadedTextures[info.name];
        if (!preloadedTex) preloadedTex = createFallbackCardFace(info.name);

        card.material[4] = new THREE.MeshStandardMaterial({ map: preloadedTex, roughness: 0.4 });
        card.material.needsUpdate = true;

        // å…ˆå°†å¡ç‰‡ç§»åŠ¨åˆ°å±å¹•ä¸­å¤®æ˜¾ç¤º
        new TWEEN.Tween(card.position).to({x: 0, y: 1.5, z: 2}, 1000).easing(TWEEN.Easing.Cubic.Out).start();
        new TWEEN.Tween(card.rotation).to({x:0, y:Math.PI, z:0}, 1000).start();
        new TWEEN.Tween(card.scale).to({x:1.5, y:1.5, z:1.5}, 1000).onComplete(()=>{
            // çŸ­æš‚åœç•™åï¼Œå°†å¡ç‰‡ç§»åŠ¨åˆ°ç‰Œé˜µä¸­çš„æŒ‡å®šä½ç½®å¹¶ç¼©å°
            const slot = SLOTS[drawnCount];
            new TWEEN.Tween(card.position).to({x: slot.x, y: slot.y, z: slot.z}, 1000).easing(TWEEN.Easing.Cubic.In).start();
            new TWEEN.Tween(card.scale).to({x:0.5, y:0.5, z:0.5}, 1000).onComplete(()=>{
                drawnCount++;
                if(drawnCount < currentSpread.cards) {
                    appState = 'WAITING_FOR_PICK';
                    uiStatus.innerHTML = `å·²é€‰å®š[${SLOTS[drawnCount-1].label}]ï¼Œè¯·ç»§ç»­...`;
                } else {
                    appState = 'REVEALING';
                    uiStatus.innerHTML = "ğŸ”® å‡†å¤‡æ­æ™“å‘½è¿...";
                    setTimeout(revealCards, 1500);
                }
            }).start();
        }).start();
    }

    function revealCards() {
        // ä¾æ¬¡å¤„ç†æ¯å¼ å¡ç‰‡ï¼Œé¿å…é‡å 
        selectedCardsData.forEach((item, i) => {
            setTimeout(() => {
                playMagicSound('reveal');
                
                // å…ˆç¡®ä¿å¡ç‰‡åœ¨æ­£ç¡®ä½ç½®ï¼ˆå¦‚æœéœ€è¦å¾®è°ƒä½ç½®ï¼‰
                const slot = currentSpread.positions[i];
                new TWEEN.Tween(item.mesh.position).to({x: slot.x, y: slot.y, z: slot.z}, 800).easing(TWEEN.Easing.Cubic.Out).start();
                
                // ä¿æŒå¡ç‰‡å¤§å°ä¸€è‡´ï¼Œä¸ä½¿ç”¨ç¼©æ”¾æ•ˆæœ
                item.mesh.scale.set(0.8, 0.8, 0.8);
                
                // æ—‹è½¬å¡ç‰‡æ­æ™“ï¼ˆç¿»è½¬åŠ¨ç”»ï¼‰
                new TWEEN.Tween(item.mesh.rotation).to({y: 0}, 1500).easing(TWEEN.Easing.Elastic.Out).onComplete(() => {
                    // å¡ç‰‡ç¿»å¼€åæ˜¾ç¤ºåå­—
                    const box = document.getElementById(`label-box-${i}`);
                    const contentSpan = box.querySelector('.card-content');
                    const displayName = item.info.name; // ç›´æ¥ä½¿ç”¨å®Œæ•´çš„å¡ç‰‡åå­—
                    contentSpan.innerText = displayName;
                    box.style.opacity = 1;
                }).start();
                
            }, i * 2000); // å¢åŠ æ¯å¼ å¡ç‰‡ä¹‹é—´çš„å»¶è¿Ÿï¼Œç¡®ä¿åŠ¨ç”»æµç•…ä¸é‡å 
        });
        
        // æ‰€æœ‰å¡ç‰‡æ˜¾ç¤ºå®Œæˆå
        setTimeout(() => { 
            uiStatus.innerHTML = "âœ¨ ä»ªå¼å®Œæˆ";
            appState = 'FINISHED';
            // è¿›å…¥è§£ç‰Œé€‰æ‹©ç¯èŠ‚
            setTimeout(() => {
                showChoicePanel();
            }, 800);
        }, selectedCardsData.length * 2000 + 1000); // æ ¹æ®æ–°çš„å»¶è¿Ÿæ—¶é—´è°ƒæ•´
    }

    function finishReading() {
        hideReadingPanel();
        hideChoicePanel();
        
        // æ˜¾ç¤ºæ€»ç»“ç•Œé¢ï¼Œæ— è®ºæ˜¯å¦æœ‰AIè§£è¯»
        if (selectedCardsData.length > 0) {
            // æ£€æŸ¥æ˜¯å¦å·²æœ‰å®Œæ•´çš„ç‰Œé˜µè§£è¯»
            const spreadDef = SPREAD_DEFINITIONS[currentSpreadType];
            const spreadName = spreadDef ? spreadDef.name : 'unknown';
            const cacheKey = `full_spread_reading_${spreadName}`;
            
            if (currentReadingMode === 'ai' && AIConfig.enabled && AIConfig.apiKey) {
                // å¦‚æœæ˜¯AIè§£è¯»ï¼Œç›´æ¥ç”Ÿæˆå®Œæ•´çš„ç‰Œé˜µè§£è¯»
                if (!allReadings[cacheKey]) {
                    callAIForFullReading(selectedCardsData).then(reading => {
                        // å­˜å‚¨å®Œæ•´è§£è¯»
                        allReadings[cacheKey] = reading;
                        // ä¸ºæ¯å¼ ç‰Œä¹Ÿå­˜å‚¨ç›¸åŒçš„è§£è¯»ï¼ˆä¿æŒå…¼å®¹æ€§ï¼‰
                        selectedCardsData.forEach(cardData => {
                            allReadings[cardData.info.name] = reading;
                        });
                        showSummaryPanel();
                    });
                } else {
                    // å¦‚æœå·²æœ‰è§£è¯»ï¼Œç›´æ¥æ˜¾ç¤º
                    showSummaryPanel();
                }
            } else {
                // ç¡®ä¿æ™®é€šè§£ç‰Œä¹Ÿæœ‰å†…å®¹
                if (Object.keys(allReadings).length === 0) {
                    // ä¸ºæ™®é€šè§£ç‰Œç”Ÿæˆå†…å®¹
                    selectedCardsData.forEach(cardData => {
                        const cardName = cardData.info.name;
                        allReadings[cardName] = getDefaultReading(cardData.info);
                    });
                }
                showSummaryPanel();
            }
        } else {
            appState = 'IDLE';
            drawnCount = 0;
            selectedCardsData.length = 0;
            TAROT_DATA.length = 0;
            TAROT_DATA.push(...TAROT_DATA_BACKUP);
            document.querySelectorAll('.card-label-box').forEach(box => box.style.opacity = 0);
            uiStatus.innerHTML = "è¯·å¯¹ç€é•œå¤´ <b>æ¡ç´§æ‹³å¤´</b> ä»¥å¼€å§‹æ–°çš„ä»ªå¼";
            
            // é‡æ–°æ’åˆ—å¡ç‰Œ
            cards.forEach((card, i) => {
                card.userData.isSelected = false;
                new TWEEN.Tween(card.position).to({x: 0, y: 0, z: -i * 0.02}, 1000).start();
                new TWEEN.Tween(card.rotation).to({x: Math.PI/2, y: 0, z: 0}, 1000).start();
                card.material[4] = new THREE.MeshStandardMaterial({color: 0x222222});
                card.material.needsUpdate = true;
            });
            
            console.log('ä»ªå¼å®Œæˆï¼Œå¯å¼€å§‹æ–°è½®');
        }
    }

    const videoEl = document.getElementById('input_video');
    const hands = new Hands({locateFile: (file) => `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}`});
    hands.setOptions({maxNumHands: 1, modelComplexity: 1, minDetectionConfidence: 0.5, minTrackingConfidence: 0.5});
    hands.onResults((res) => {
        // æ£€æŸ¥æ˜¯å¦æ£€æµ‹åˆ°æ‰‹
        if (!res.multiHandLandmarks || res.multiHandLandmarks.length === 0) {
            return;
        }
        
        // è·å–ç¬¬ä¸€ä¸ªæ£€æµ‹åˆ°çš„æ‰‹çš„ landmarks
        const lm = res.multiHandLandmarks[0];
        
        // æ£€æµ‹é£ŸæŒ‡æ˜¯å¦ä¼¸ç›´ï¼ˆæŒ‡å°–yåæ ‡å°äºæŒ‡èŠ‚yåæ ‡ï¼‰
        const isIndex = lm[8].y < lm[6].y;
        // æ£€æµ‹å°æŒ‡æ˜¯å¦ä¼¸ç›´
        const isPinky = lm[20].y < lm[18].y;
        
        // è°ƒè¯•ä¿¡æ¯
        console.log('æ‰‹åŠ¿æ£€æµ‹:', {
            appState: appState,
            isIndex: isIndex,
            isPinky: isPinky,
            indexTip: lm[8].y,
            indexJoint: lm[6].y,
            pinkyTip: lm[20].y,
            pinkyJoint: lm[18].y
        });
        
        // æ ¹æ®å½“å‰çŠ¶æ€å’Œæ‰‹åŠ¿æ‰§è¡Œç›¸åº”æ“ä½œ
        if (appState === 'IDLE' && !isIndex && !isPinky) {
            // æ¡ç´§æ‹³å¤´ï¼šå¼€å§‹æ´—ç‰Œ
            console.log('æ£€æµ‹åˆ°æ¡ç´§æ‹³å¤´ï¼Œå¼€å§‹æ´—ç‰Œ');
            startShuffling();
        } else if (appState === 'READY_TO_SPREAD' && isIndex && isPinky) {
            // å¼ å¼€æ‰‹æŒï¼šé“ºå¼€ç‰Œé˜µ
            console.log('æ£€æµ‹åˆ°å¼ å¼€æ‰‹æŒï¼Œé“ºå¼€ç‰Œé˜µ');
            spreadCards();
        } else if (appState === 'WAITING_FOR_PICK' && isIndex && !isPinky) {
            // ä¼¸å‡ºé£ŸæŒ‡ï¼šæŠ½å–å¡ç‰Œ
            console.log('æ£€æµ‹åˆ°ä¼¸å‡ºé£ŸæŒ‡ï¼ŒæŠ½å–å¡ç‰Œ');
            pickCard();
        }
    });
    const cameraUtils = new Camera(videoEl, { onFrame: async () => { await hands.send({image: videoEl}); }, width: 320, height: 240 });

    // å¯åŠ¨æ‘„åƒå¤´
    console.log('å¯åŠ¨æ‘„åƒå¤´...');
    cameraUtils.start();
    console.log('æ‘„åƒå¤´å¯åŠ¨æˆåŠŸï¼ŒMediaPipe Handsåˆå§‹åŒ–å®Œæˆ');
    
    // æµ‹è¯•MediaPipeæ˜¯å¦æ­£ç¡®åŠ è½½
    console.log('MediaPipe Handsç‰ˆæœ¬:', hands);

    function animate() {
        requestAnimationFrame(animate);
        TWEEN.update();
        
        // ç²’å­åŠ¨ç”»
        if (particles) {
            particles.rotation.y += 0.001;
            particles.rotation.x += 0.0005;
        }
        
        // èƒŒæ™¯åŠ¨ç”»
        if (background) {
            background.rotation.y += 0.0005;
        }
        
        // å…‰æºåŠ¨ç”»
        const time = Date.now() * 0.001;
        if (pointLight2) {
            pointLight2.position.x = Math.sin(time * 0.5) * 10;
            pointLight2.position.z = Math.cos(time * 0.5) * 10;
        }
        if (pointLight3) {
            pointLight3.position.x = Math.cos(time * 0.5) * 10;
            pointLight3.position.z = Math.sin(time * 0.5) * 10;
        }
        
        renderer.render(scene, camera);
    }
    animate();
    window.onresize = () => { camera.aspect=innerWidth/innerHeight; camera.updateProjectionMatrix(); renderer.setSize(innerWidth,innerHeight); };
</script>
</body>
</html>